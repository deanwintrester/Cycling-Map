{"version":3,"file":"component---src-pages-index-js-6bec945847e7619da7e5.js","mappings":"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","sources":["webpack://gatsby-starter-default/./node_modules/@mapbox/mapbox-gl-language/index.js","webpack://gatsby-starter-default/./node_modules/@mapbox/polyline/src/polyline.js","webpack://gatsby-starter-default/./node_modules/hammerjs/hammer.js","webpack://gatsby-starter-default/./node_modules/tslib/tslib.es6.mjs","webpack://gatsby-starter-default/./node_modules/gatsby-plugin-valine/dist/index.js","webpack://gatsby-starter-default/./node_modules/@babel/runtime/helpers/esm/extends.js","webpack://gatsby-starter-default/./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://gatsby-starter-default/./node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","webpack://gatsby-starter-default/./node_modules/@babel/runtime/helpers/esm/toPrimitive.js","webpack://gatsby-starter-default/./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack://gatsby-starter-default/./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack://gatsby-starter-default/./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack://gatsby-starter-default/./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack://gatsby-starter-default/./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack://gatsby-starter-default/./node_modules/@babel/runtime/helpers/esm/classCallCheck.js","webpack://gatsby-starter-default/./node_modules/@babel/runtime/helpers/esm/createClass.js","webpack://gatsby-starter-default/./node_modules/gl-matrix/esm/common.js","webpack://gatsby-starter-default/./node_modules/gl-matrix/esm/vec4.js","webpack://gatsby-starter-default/./node_modules/@math.gl/web-mercator/dist/esm/math-utils.js","webpack://gatsby-starter-default/./node_modules/gl-matrix/esm/mat4.js","webpack://gatsby-starter-default/./node_modules/gl-matrix/esm/vec2.js","webpack://gatsby-starter-default/./node_modules/gl-matrix/esm/vec3.js","webpack://gatsby-starter-default/./node_modules/@math.gl/web-mercator/dist/esm/assert.js","webpack://gatsby-starter-default/./node_modules/@math.gl/web-mercator/dist/esm/web-mercator-utils.js","webpack://gatsby-starter-default/./node_modules/@math.gl/web-mercator/dist/esm/fit-bounds.js","webpack://gatsby-starter-default/./node_modules/@math.gl/web-mercator/dist/esm/get-bounds.js","webpack://gatsby-starter-default/./node_modules/@math.gl/web-mercator/dist/esm/web-mercator-viewport.js","webpack://gatsby-starter-default/./node_modules/@math.gl/web-mercator/dist/esm/normalize-viewport-props.js","webpack://gatsby-starter-default/./node_modules/@math.gl/web-mercator/dist/esm/fly-to-viewport.js","webpack://gatsby-starter-default/./node_modules/resize-observer-polyfill/dist/ResizeObserver.es.js","webpack://gatsby-starter-default/./node_modules/react-map-gl/dist/esm/utils/globals.js","webpack://gatsby-starter-default/./node_modules/react-map-gl/dist/esm/utils/style-utils.js","webpack://gatsby-starter-default/./node_modules/react-map-gl/dist/esm/mapbox/mapbox.js","webpack://gatsby-starter-default/./node_modules/react-map-gl/dist/esm/utils/math-utils.js","webpack://gatsby-starter-default/./node_modules/react-map-gl/dist/esm/utils/assert.js","webpack://gatsby-starter-default/./node_modules/react-map-gl/dist/esm/utils/map-state.js","webpack://gatsby-starter-default/./node_modules/react-map-gl/dist/esm/components/map-context.js","webpack://gatsby-starter-default/./node_modules/react-map-gl/dist/esm/utils/use-isomorphic-layout-effect.js","webpack://gatsby-starter-default/./node_modules/react-map-gl/dist/esm/components/static-map.js","webpack://gatsby-starter-default/./node_modules/react-map-gl/dist/esm/utils/map-constraints.js","webpack://gatsby-starter-default/./node_modules/react-map-gl/dist/esm/utils/transition/transition-interpolator.js","webpack://gatsby-starter-default/./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js","webpack://gatsby-starter-default/./node_modules/@babel/runtime/helpers/esm/inherits.js","webpack://gatsby-starter-default/./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js","webpack://gatsby-starter-default/./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack://gatsby-starter-default/./node_modules/react-map-gl/dist/esm/utils/transition/transition-utils.js","webpack://gatsby-starter-default/./node_modules/react-map-gl/dist/esm/utils/transition/viewport-fly-to-interpolator.js","webpack://gatsby-starter-default/./node_modules/react-map-gl/dist/esm/utils/transition/linear-interpolator.js","webpack://gatsby-starter-default/./node_modules/react-map-gl/dist/esm/utils/transition-manager.js","webpack://gatsby-starter-default/./node_modules/mjolnir.js/dist/esm/utils/hammer-overrides.js","webpack://gatsby-starter-default/./node_modules/mjolnir.js/dist/esm/utils/hammer.browser.js","webpack://gatsby-starter-default/./node_modules/mjolnir.js/dist/esm/constants.js","webpack://gatsby-starter-default/./node_modules/mjolnir.js/dist/esm/utils/globals.js","webpack://gatsby-starter-default/./node_modules/mjolnir.js/dist/esm/inputs/wheel-input.js","webpack://gatsby-starter-default/./node_modules/mjolnir.js/dist/esm/inputs/move-input.js","webpack://gatsby-starter-default/./node_modules/mjolnir.js/dist/esm/inputs/key-input.js","webpack://gatsby-starter-default/./node_modules/mjolnir.js/dist/esm/inputs/contextmenu-input.js","webpack://gatsby-starter-default/./node_modules/mjolnir.js/dist/esm/utils/event-utils.js","webpack://gatsby-starter-default/./node_modules/mjolnir.js/dist/esm/utils/event-registrar.js","webpack://gatsby-starter-default/./node_modules/mjolnir.js/dist/esm/event-manager.js","webpack://gatsby-starter-default/./node_modules/react-map-gl/dist/esm/utils/map-controller.js","webpack://gatsby-starter-default/./node_modules/react-map-gl/dist/esm/components/interactive-map.js","webpack://gatsby-starter-default/./node_modules/react-map-gl/dist/esm/utils/deep-equal.js","webpack://gatsby-starter-default/./node_modules/react-map-gl/dist/esm/components/source.js","webpack://gatsby-starter-default/./node_modules/react-map-gl/dist/esm/components/layer.js","webpack://gatsby-starter-default/./node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","webpack://gatsby-starter-default/./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","webpack://gatsby-starter-default/./node_modules/react-map-gl/dist/esm/components/use-map-control.js","webpack://gatsby-starter-default/./node_modules/react-map-gl/dist/esm/components/base-control.js","webpack://gatsby-starter-default/./node_modules/react-map-gl/dist/esm/components/draggable-control.js","webpack://gatsby-starter-default/./node_modules/react-map-gl/dist/esm/utils/crisp-pixel.js","webpack://gatsby-starter-default/./node_modules/react-map-gl/dist/esm/components/marker.js","webpack://gatsby-starter-default/./node_modules/react-map-gl/dist/esm/utils/dynamic-position.js","webpack://gatsby-starter-default/./node_modules/react-map-gl/dist/esm/components/popup.js","webpack://gatsby-starter-default/./node_modules/react-map-gl/dist/esm/components/attribution-control.js","webpack://gatsby-starter-default/./node_modules/react-map-gl/dist/esm/components/fullscreen-control.js","webpack://gatsby-starter-default/./node_modules/react-map-gl/dist/esm/utils/geolocate-utils.js","webpack://gatsby-starter-default/./node_modules/react-map-gl/dist/esm/components/geolocate-control.js","webpack://gatsby-starter-default/./node_modules/react-map-gl/dist/esm/components/navigation-control.js","webpack://gatsby-starter-default/./node_modules/react-map-gl/dist/esm/utils/version.js","webpack://gatsby-starter-default/./node_modules/react-map-gl/dist/esm/components/scale-control.js","webpack://gatsby-starter-default/./node_modules/react-map-gl/dist/esm/overlays/canvas-overlay.js","webpack://gatsby-starter-default/./node_modules/react-map-gl/dist/esm/overlays/html-overlay.js","webpack://gatsby-starter-default/./node_modules/react-map-gl/dist/esm/overlays/svg-overlay.js","webpack://gatsby-starter-default/./node_modules/react-map-gl/dist/esm/utils/set-rtl-text-plugin.js","webpack://gatsby-starter-default/./src/hooks/usePositions.js","webpack://gatsby-starter-default/./src/hooks/useActivities.js","webpack://gatsby-starter-default/./src/common/utils.js","webpack://gatsby-starter-default/./src/components/road-map/index.jsx","webpack://gatsby-starter-default/./src/components/current-position/index.jsx","webpack://gatsby-starter-default/./src/components/plan/index.jsx","webpack://gatsby-starter-default/./src/pages/index.js","webpack://gatsby-starter-default/./node_modules/lodash/_DataView.js","webpack://gatsby-starter-default/./node_modules/lodash/_Hash.js","webpack://gatsby-starter-default/./node_modules/lodash/_ListCache.js","webpack://gatsby-starter-default/./node_modules/lodash/_Map.js","webpack://gatsby-starter-default/./node_modules/lodash/_MapCache.js","webpack://gatsby-starter-default/./node_modules/lodash/_Promise.js","webpack://gatsby-starter-default/./node_modules/lodash/_Set.js","webpack://gatsby-starter-default/./node_modules/lodash/_SetCache.js","webpack://gatsby-starter-default/./node_modules/lodash/_Stack.js","webpack://gatsby-starter-default/./node_modules/lodash/_Symbol.js","webpack://gatsby-starter-default/./node_modules/lodash/_Uint8Array.js","webpack://gatsby-starter-default/./node_modules/lodash/_WeakMap.js","webpack://gatsby-starter-default/./node_modules/lodash/_apply.js","webpack://gatsby-starter-default/./node_modules/lodash/_arrayFilter.js","webpack://gatsby-starter-default/./node_modules/lodash/_arrayLikeKeys.js","webpack://gatsby-starter-default/./node_modules/lodash/_arrayPush.js","webpack://gatsby-starter-default/./node_modules/lodash/_arraySome.js","webpack://gatsby-starter-default/./node_modules/lodash/_assignMergeValue.js","webpack://gatsby-starter-default/./node_modules/lodash/_assignValue.js","webpack://gatsby-starter-default/./node_modules/lodash/_assocIndexOf.js","webpack://gatsby-starter-default/./node_modules/lodash/_baseAssignValue.js","webpack://gatsby-starter-default/./node_modules/lodash/_baseCreate.js","webpack://gatsby-starter-default/./node_modules/lodash/_baseFor.js","webpack://gatsby-starter-default/./node_modules/lodash/_baseGetAllKeys.js","webpack://gatsby-starter-default/./node_modules/lodash/_baseGetTag.js","webpack://gatsby-starter-default/./node_modules/lodash/_baseIsArguments.js","webpack://gatsby-starter-default/./node_modules/lodash/_baseIsEqual.js","webpack://gatsby-starter-default/./node_modules/lodash/_baseIsEqualDeep.js","webpack://gatsby-starter-default/./node_modules/lodash/_baseIsNative.js","webpack://gatsby-starter-default/./node_modules/lodash/_baseIsTypedArray.js","webpack://gatsby-starter-default/./node_modules/lodash/_baseKeys.js","webpack://gatsby-starter-default/./node_modules/lodash/_baseKeysIn.js","webpack://gatsby-starter-default/./node_modules/lodash/_baseMerge.js","webpack://gatsby-starter-default/./node_modules/lodash/_baseMergeDeep.js","webpack://gatsby-starter-default/./node_modules/lodash/_baseRest.js","webpack://gatsby-starter-default/./node_modules/lodash/_baseSetToString.js","webpack://gatsby-starter-default/./node_modules/lodash/_baseTimes.js","webpack://gatsby-starter-default/./node_modules/lodash/_baseUnary.js","webpack://gatsby-starter-default/./node_modules/lodash/_cacheHas.js","webpack://gatsby-starter-default/./node_modules/lodash/_cloneArrayBuffer.js","webpack://gatsby-starter-default/./node_modules/lodash/_cloneBuffer.js","webpack://gatsby-starter-default/./node_modules/lodash/_cloneTypedArray.js","webpack://gatsby-starter-default/./node_modules/lodash/_copyArray.js","webpack://gatsby-starter-default/./node_modules/lodash/_copyObject.js","webpack://gatsby-starter-default/./node_modules/lodash/_coreJsData.js","webpack://gatsby-starter-default/./node_modules/lodash/_createAssigner.js","webpack://gatsby-starter-default/./node_modules/lodash/_createBaseFor.js","webpack://gatsby-starter-default/./node_modules/lodash/_defineProperty.js","webpack://gatsby-starter-default/./node_modules/lodash/_equalArrays.js","webpack://gatsby-starter-default/./node_modules/lodash/_equalByTag.js","webpack://gatsby-starter-default/./node_modules/lodash/_equalObjects.js","webpack://gatsby-starter-default/./node_modules/lodash/_freeGlobal.js","webpack://gatsby-starter-default/./node_modules/lodash/_getAllKeys.js","webpack://gatsby-starter-default/./node_modules/lodash/_getMapData.js","webpack://gatsby-starter-default/./node_modules/lodash/_getNative.js","webpack://gatsby-starter-default/./node_modules/lodash/_getPrototype.js","webpack://gatsby-starter-default/./node_modules/lodash/_getRawTag.js","webpack://gatsby-starter-default/./node_modules/lodash/_getSymbols.js","webpack://gatsby-starter-default/./node_modules/lodash/_getTag.js","webpack://gatsby-starter-default/./node_modules/lodash/_getValue.js","webpack://gatsby-starter-default/./node_modules/lodash/_hashClear.js","webpack://gatsby-starter-default/./node_modules/lodash/_hashDelete.js","webpack://gatsby-starter-default/./node_modules/lodash/_hashGet.js","webpack://gatsby-starter-default/./node_modules/lodash/_hashHas.js","webpack://gatsby-starter-default/./node_modules/lodash/_hashSet.js","webpack://gatsby-starter-default/./node_modules/lodash/_initCloneObject.js","webpack://gatsby-starter-default/./node_modules/lodash/_isIndex.js","webpack://gatsby-starter-default/./node_modules/lodash/_isIterateeCall.js","webpack://gatsby-starter-default/./node_modules/lodash/_isKeyable.js","webpack://gatsby-starter-default/./node_modules/lodash/_isMasked.js","webpack://gatsby-starter-default/./node_modules/lodash/_isPrototype.js","webpack://gatsby-starter-default/./node_modules/lodash/_listCacheClear.js","webpack://gatsby-starter-default/./node_modules/lodash/_listCacheDelete.js","webpack://gatsby-starter-default/./node_modules/lodash/_listCacheGet.js","webpack://gatsby-starter-default/./node_modules/lodash/_listCacheHas.js","webpack://gatsby-starter-default/./node_modules/lodash/_listCacheSet.js","webpack://gatsby-starter-default/./node_modules/lodash/_mapCacheClear.js","webpack://gatsby-starter-default/./node_modules/lodash/_mapCacheDelete.js","webpack://gatsby-starter-default/./node_modules/lodash/_mapCacheGet.js","webpack://gatsby-starter-default/./node_modules/lodash/_mapCacheHas.js","webpack://gatsby-starter-default/./node_modules/lodash/_mapCacheSet.js","webpack://gatsby-starter-default/./node_modules/lodash/_mapToArray.js","webpack://gatsby-starter-default/./node_modules/lodash/_nativeCreate.js","webpack://gatsby-starter-default/./node_modules/lodash/_nativeKeys.js","webpack://gatsby-starter-default/./node_modules/lodash/_nativeKeysIn.js","webpack://gatsby-starter-default/./node_modules/lodash/_nodeUtil.js","webpack://gatsby-starter-default/./node_modules/lodash/_objectToString.js","webpack://gatsby-starter-default/./node_modules/lodash/_overArg.js","webpack://gatsby-starter-default/./node_modules/lodash/_overRest.js","webpack://gatsby-starter-default/./node_modules/lodash/_root.js","webpack://gatsby-starter-default/./node_modules/lodash/_safeGet.js","webpack://gatsby-starter-default/./node_modules/lodash/_setCacheAdd.js","webpack://gatsby-starter-default/./node_modules/lodash/_setCacheHas.js","webpack://gatsby-starter-default/./node_modules/lodash/_setToArray.js","webpack://gatsby-starter-default/./node_modules/lodash/_setToString.js","webpack://gatsby-starter-default/./node_modules/lodash/_shortOut.js","webpack://gatsby-starter-default/./node_modules/lodash/_stackClear.js","webpack://gatsby-starter-default/./node_modules/lodash/_stackDelete.js","webpack://gatsby-starter-default/./node_modules/lodash/_stackGet.js","webpack://gatsby-starter-default/./node_modules/lodash/_stackHas.js","webpack://gatsby-starter-default/./node_modules/lodash/_stackSet.js","webpack://gatsby-starter-default/./node_modules/lodash/_toSource.js","webpack://gatsby-starter-default/./node_modules/lodash/constant.js","webpack://gatsby-starter-default/./node_modules/lodash/eq.js","webpack://gatsby-starter-default/./node_modules/lodash/identity.js","webpack://gatsby-starter-default/./node_modules/lodash/isArguments.js","webpack://gatsby-starter-default/./node_modules/lodash/isArray.js","webpack://gatsby-starter-default/./node_modules/lodash/isArrayLike.js","webpack://gatsby-starter-default/./node_modules/lodash/isArrayLikeObject.js","webpack://gatsby-starter-default/./node_modules/lodash/isBuffer.js","webpack://gatsby-starter-default/./node_modules/lodash/isEqual.js","webpack://gatsby-starter-default/./node_modules/lodash/isFunction.js","webpack://gatsby-starter-default/./node_modules/lodash/isLength.js","webpack://gatsby-starter-default/./node_modules/lodash/isObject.js","webpack://gatsby-starter-default/./node_modules/lodash/isObjectLike.js","webpack://gatsby-starter-default/./node_modules/lodash/isPlainObject.js","webpack://gatsby-starter-default/./node_modules/lodash/isTypedArray.js","webpack://gatsby-starter-default/./node_modules/lodash/keys.js","webpack://gatsby-starter-default/./node_modules/lodash/keysIn.js","webpack://gatsby-starter-default/./node_modules/lodash/merge.js","webpack://gatsby-starter-default/./node_modules/lodash/stubArray.js","webpack://gatsby-starter-default/./node_modules/lodash/stubFalse.js","webpack://gatsby-starter-default/./node_modules/lodash/toPlainObject.js","webpack://gatsby-starter-default/./assets/current-location.svg","webpack://gatsby-starter-default/./assets/flag-end.svg","webpack://gatsby-starter-default/./assets/flag-start.svg"],"sourcesContent":["/**\n * Create a new [Mapbox GL JS plugin](https://www.mapbox.com/blog/build-mapbox-gl-js-plugins/) that\n * modifies the layers of the map style to use the 'text-field' that matches the browser language.\n * @constructor\n * @param {object} options - Options to configure the plugin.\n * @param {string[]} [options.supportedLanguages] - List of supported languages\n * @param {Function} [options.languageTransform] - Custom style transformation to apply\n * @param {RegExp} [options.languageField=/^\\{name/] - RegExp to match if a text-field is a language field\n * @param {Function} [options.getLanguageField] - Given a language choose the field in the vector tiles\n * @param {string} [options.languageSource] - Name of the source that contains the different languages.\n * @param {string} [options.defaultLanguage] - Name of the default language to initialize style after loading.\n * @param {string[]} [options.excludedLayerIds] - Name of the layers that should be excluded from translation.\n */\nfunction MapboxLanguage(options) {\n  options = Object.assign({}, options);\n  if (!(this instanceof MapboxLanguage)) {\n    throw new Error('MapboxLanguage needs to be called with the new keyword');\n  }\n  this.setLanguage = this.setLanguage.bind(this);\n  this._initialStyleUpdate = this._initialStyleUpdate.bind(this);\n  this._defaultLanguage = options.defaultLanguage;\n  this._isLanguageField = options.languageField || /^\\{name/;\n  this._getLanguageField = options.getLanguageField || function nameField(language) {\n    return language === 'mul' ? '{name}' : '{name_' + language + '}';\n  };\n  this._languageSource = options.languageSource || null;\n  this._languageTransform = options.languageTransform || function (style, language) {\n    if (language === 'ar') {\n      return noSpacing(style);\n    } else {\n      return standardSpacing(style);\n    }\n  };\n  this._excludedLayerIds = options.excludedLayerIds || [];\n  this.supportedLanguages = options.supportedLanguages || ['ar', 'en', 'es', 'fr', 'de', 'ja', 'ko', 'mul', 'pt', 'ru', 'zh'];\n}\nfunction standardSpacing(style) {\n  var changedLayers = style.layers.map(function (layer) {\n    if (!(layer.layout || {})['text-field']) return layer;\n    var spacing = 0;\n    if (layer['source-layer'] === 'state_label') {\n      spacing = 0.15;\n    }\n    if (layer['source-layer'] === 'marine_label') {\n      if (/-lg/.test(layer.id)) {\n        spacing = 0.25;\n      }\n      if (/-md/.test(layer.id)) {\n        spacing = 0.15;\n      }\n      if (/-sm/.test(layer.id)) {\n        spacing = 0.1;\n      }\n    }\n    if (layer['source-layer'] === 'place_label') {\n      if (/-suburb/.test(layer.id)) {\n        spacing = 0.15;\n      }\n      if (/-neighbour/.test(layer.id)) {\n        spacing = 0.1;\n      }\n      if (/-islet/.test(layer.id)) {\n        spacing = 0.01;\n      }\n    }\n    if (layer['source-layer'] === 'airport_label') {\n      spacing = 0.01;\n    }\n    if (layer['source-layer'] === 'rail_station_label') {\n      spacing = 0.01;\n    }\n    if (layer['source-layer'] === 'poi_label') {\n      if (/-scalerank/.test(layer.id)) {\n        spacing = 0.01;\n      }\n    }\n    if (layer['source-layer'] === 'road_label') {\n      if (/-label-/.test(layer.id)) {\n        spacing = 0.01;\n      }\n      if (/-shields/.test(layer.id)) {\n        spacing = 0.05;\n      }\n    }\n    return Object.assign({}, layer, {\n      layout: Object.assign({}, layer.layout, {\n        'text-letter-spacing': spacing\n      })\n    });\n  });\n  return Object.assign({}, style, {\n    layers: changedLayers\n  });\n}\nfunction noSpacing(style) {\n  var changedLayers = style.layers.map(function (layer) {\n    if (!(layer.layout || {})['text-field']) return layer;\n    var spacing = 0;\n    return Object.assign({}, layer, {\n      layout: Object.assign({}, layer.layout, {\n        'text-letter-spacing': spacing\n      })\n    });\n  });\n  return Object.assign({}, style, {\n    layers: changedLayers\n  });\n}\nfunction isNameStringField(isLangField, property) {\n  return typeof property === 'string' && isLangField.test(property);\n}\nfunction isNameFunctionField(isLangField, property) {\n  return property.stops && property.stops.filter(function (stop) {\n    return isLangField.test(stop[1]);\n  }).length > 0;\n}\nfunction adaptPropertyLanguage(isLangField, property, languageFieldName) {\n  if (isNameStringField(isLangField, property)) return languageFieldName;\n  if (isNameFunctionField(isLangField, property)) {\n    var newStops = property.stops.map(function (stop) {\n      if (isLangField.test(stop[1])) {\n        return [stop[0], languageFieldName];\n      }\n      return stop;\n    });\n    return Object.assign({}, property, {\n      stops: newStops\n    });\n  }\n  return property;\n}\nfunction changeLayerTextProperty(isLangField, layer, languageFieldName, excludedLayerIds) {\n  if (layer.layout && layer.layout['text-field'] && excludedLayerIds.indexOf(layer.id) === -1) {\n    return Object.assign({}, layer, {\n      layout: Object.assign({}, layer.layout, {\n        'text-field': adaptPropertyLanguage(isLangField, layer.layout['text-field'], languageFieldName)\n      })\n    });\n  }\n  return layer;\n}\nfunction findStreetsSource(style) {\n  var sources = Object.keys(style.sources).filter(function (sourceName) {\n    var source = style.sources[sourceName];\n    return /mapbox-streets-v\\d/.test(source.url);\n  });\n  return sources[0];\n}\n\n/**\n * Explicitly change the language for a style.\n * @param {object} style - Mapbox GL style to modify\n * @param {string} language - The language iso code\n * @returns {object} the modified style\n */\nMapboxLanguage.prototype.setLanguage = function (style, language) {\n  if (this.supportedLanguages.indexOf(language) < 0) throw new Error('Language ' + language + ' is not supported');\n  var streetsSource = this._languageSource || findStreetsSource(style);\n  if (!streetsSource) return style;\n  var field = this._getLanguageField(language);\n  var isLangField = this._isLanguageField;\n  var excludedLayerIds = this._excludedLayerIds;\n  var changedLayers = style.layers.map(function (layer) {\n    if (layer.source === streetsSource) return changeLayerTextProperty(isLangField, layer, field, excludedLayerIds);\n    return layer;\n  });\n  var languageStyle = Object.assign({}, style, {\n    layers: changedLayers\n  });\n  return this._languageTransform(languageStyle, language);\n};\nMapboxLanguage.prototype._initialStyleUpdate = function () {\n  var style = this._map.getStyle();\n  var language = this._defaultLanguage || browserLanguage(this.supportedLanguages);\n\n  // We only update the style once\n  this._map.off('styledata', this._initialStyleUpdate);\n  this._map.setStyle(this.setLanguage(style, language));\n};\nfunction browserLanguage(supportedLanguages) {\n  var language = navigator.languages ? navigator.languages[0] : navigator.language || navigator.userLanguage;\n  var parts = language.split('-');\n  var languageCode = language;\n  if (parts.length > 1) {\n    languageCode = parts[0];\n  }\n  if (supportedLanguages.indexOf(languageCode) > -1) {\n    return languageCode;\n  }\n  return null;\n}\nMapboxLanguage.prototype.onAdd = function (map) {\n  this._map = map;\n  this._map.on('styledata', this._initialStyleUpdate);\n  this._container = document.createElement('div');\n  return this._container;\n};\nMapboxLanguage.prototype.onRemove = function () {\n  this._map.off('styledata', this._initialStyleUpdate);\n  this._map = undefined;\n};\nfunction ie11Polyfill() {\n  if (typeof Object.assign != 'function') {\n    // Must be writable: true, enumerable: false, configurable: true\n    Object.defineProperty(Object, 'assign', {\n      // eslint-disable-next-line no-unused-vars\n      value: function assign(target, varArgs) {\n        // .length of function is 2\n        // eslint-disable-next-line strict\n        'use strict';\n\n        if (target === null) {\n          // TypeError if undefined or null\n          throw new TypeError('Cannot convert undefined or null to object');\n        }\n        var to = Object(target);\n        for (var index = 1; index < arguments.length; index++) {\n          var nextSource = arguments[index];\n          if (nextSource !== null) {\n            // Skip over if undefined or null\n            for (var nextKey in nextSource) {\n              // Avoid bugs when hasOwnProperty is shadowed\n              if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\n                to[nextKey] = nextSource[nextKey];\n              }\n            }\n          }\n        }\n        return to;\n      },\n      writable: true,\n      configurable: true\n    });\n  }\n}\nif (typeof module !== 'undefined' && typeof module.exports !== 'undefined') {\n  module.exports = MapboxLanguage;\n} else {\n  ie11Polyfill();\n  window.MapboxLanguage = MapboxLanguage;\n}","'use strict';\n\n/**\n * Based off of [the offical Google document](https://developers.google.com/maps/documentation/utilities/polylinealgorithm)\n *\n * Some parts from [this implementation](http://facstaff.unca.edu/mcmcclur/GoogleMaps/EncodePolyline/PolylineEncoder.js)\n * by [Mark McClure](http://facstaff.unca.edu/mcmcclur/)\n *\n * @module polyline\n */\nvar polyline = {};\nfunction py2_round(value) {\n  // Google's polyline algorithm uses the same rounding strategy as Python 2, which is different from JS for negative values\n  return Math.floor(Math.abs(value) + 0.5) * (value >= 0 ? 1 : -1);\n}\nfunction encode(current, previous, factor) {\n  current = py2_round(current * factor);\n  previous = py2_round(previous * factor);\n  var coordinate = current - previous;\n  coordinate <<= 1;\n  if (current - previous < 0) {\n    coordinate = ~coordinate;\n  }\n  var output = '';\n  while (coordinate >= 0x20) {\n    output += String.fromCharCode((0x20 | coordinate & 0x1f) + 63);\n    coordinate >>= 5;\n  }\n  output += String.fromCharCode(coordinate + 63);\n  return output;\n}\n\n/**\n * Decodes to a [latitude, longitude] coordinates array.\n *\n * This is adapted from the implementation in Project-OSRM.\n *\n * @param {String} str\n * @param {Number} precision\n * @returns {Array}\n *\n * @see https://github.com/Project-OSRM/osrm-frontend/blob/master/WebContent/routing/OSRM.RoutingGeometry.js\n */\npolyline.decode = function (str, precision) {\n  var index = 0,\n    lat = 0,\n    lng = 0,\n    coordinates = [],\n    shift = 0,\n    result = 0,\n    byte = null,\n    latitude_change,\n    longitude_change,\n    factor = Math.pow(10, Number.isInteger(precision) ? precision : 5);\n\n  // Coordinates have variable length when encoded, so just keep\n  // track of whether we've hit the end of the string. In each\n  // loop iteration, a single coordinate is decoded.\n  while (index < str.length) {\n    // Reset shift, result, and byte\n    byte = null;\n    shift = 0;\n    result = 0;\n    do {\n      byte = str.charCodeAt(index++) - 63;\n      result |= (byte & 0x1f) << shift;\n      shift += 5;\n    } while (byte >= 0x20);\n    latitude_change = result & 1 ? ~(result >> 1) : result >> 1;\n    shift = result = 0;\n    do {\n      byte = str.charCodeAt(index++) - 63;\n      result |= (byte & 0x1f) << shift;\n      shift += 5;\n    } while (byte >= 0x20);\n    longitude_change = result & 1 ? ~(result >> 1) : result >> 1;\n    lat += latitude_change;\n    lng += longitude_change;\n    coordinates.push([lat / factor, lng / factor]);\n  }\n  return coordinates;\n};\n\n/**\n * Encodes the given [latitude, longitude] coordinates array.\n *\n * @param {Array.<Array.<Number>>} coordinates\n * @param {Number} precision\n * @returns {String}\n */\npolyline.encode = function (coordinates, precision) {\n  if (!coordinates.length) {\n    return '';\n  }\n  var factor = Math.pow(10, Number.isInteger(precision) ? precision : 5),\n    output = encode(coordinates[0][0], 0, factor) + encode(coordinates[0][1], 0, factor);\n  for (var i = 1; i < coordinates.length; i++) {\n    var a = coordinates[i],\n      b = coordinates[i - 1];\n    output += encode(a[0], b[0], factor);\n    output += encode(a[1], b[1], factor);\n  }\n  return output;\n};\nfunction flipped(coords) {\n  var flipped = [];\n  for (var i = 0; i < coords.length; i++) {\n    var coord = coords[i].slice();\n    flipped.push([coord[1], coord[0]]);\n  }\n  return flipped;\n}\n\n/**\n * Encodes a GeoJSON LineString feature/geometry.\n *\n * @param {Object} geojson\n * @param {Number} precision\n * @returns {String}\n */\npolyline.fromGeoJSON = function (geojson, precision) {\n  if (geojson && geojson.type === 'Feature') {\n    geojson = geojson.geometry;\n  }\n  if (!geojson || geojson.type !== 'LineString') {\n    throw new Error('Input must be a GeoJSON LineString');\n  }\n  return polyline.encode(flipped(geojson.coordinates), precision);\n};\n\n/**\n * Decodes to a GeoJSON LineString geometry.\n *\n * @param {String} str\n * @param {Number} precision\n * @returns {Object}\n */\npolyline.toGeoJSON = function (str, precision) {\n  var coords = polyline.decode(str, precision);\n  return {\n    type: 'LineString',\n    coordinates: flipped(coords)\n  };\n};\nif (typeof module === 'object' && module.exports) {\n  module.exports = polyline;\n}","/*! Hammer.JS - v2.0.7 - 2016-04-22\n * http://hammerjs.github.io/\n *\n * Copyright (c) 2016 Jorik Tangelder;\n * Licensed under the MIT license */\n(function (window, document, exportName, undefined) {\n  'use strict';\n\n  var VENDOR_PREFIXES = ['', 'webkit', 'Moz', 'MS', 'ms', 'o'];\n  var TEST_ELEMENT = document.createElement('div');\n  var TYPE_FUNCTION = 'function';\n  var round = Math.round;\n  var abs = Math.abs;\n  var now = Date.now;\n\n  /**\n   * set a timeout with a given scope\n   * @param {Function} fn\n   * @param {Number} timeout\n   * @param {Object} context\n   * @returns {number}\n   */\n  function setTimeoutContext(fn, timeout, context) {\n    return setTimeout(bindFn(fn, context), timeout);\n  }\n\n  /**\n   * if the argument is an array, we want to execute the fn on each entry\n   * if it aint an array we don't want to do a thing.\n   * this is used by all the methods that accept a single and array argument.\n   * @param {*|Array} arg\n   * @param {String} fn\n   * @param {Object} [context]\n   * @returns {Boolean}\n   */\n  function invokeArrayArg(arg, fn, context) {\n    if (Array.isArray(arg)) {\n      each(arg, context[fn], context);\n      return true;\n    }\n    return false;\n  }\n\n  /**\n   * walk objects and arrays\n   * @param {Object} obj\n   * @param {Function} iterator\n   * @param {Object} context\n   */\n  function each(obj, iterator, context) {\n    var i;\n    if (!obj) {\n      return;\n    }\n    if (obj.forEach) {\n      obj.forEach(iterator, context);\n    } else if (obj.length !== undefined) {\n      i = 0;\n      while (i < obj.length) {\n        iterator.call(context, obj[i], i, obj);\n        i++;\n      }\n    } else {\n      for (i in obj) {\n        obj.hasOwnProperty(i) && iterator.call(context, obj[i], i, obj);\n      }\n    }\n  }\n\n  /**\n   * wrap a method with a deprecation warning and stack trace\n   * @param {Function} method\n   * @param {String} name\n   * @param {String} message\n   * @returns {Function} A new function wrapping the supplied method.\n   */\n  function deprecate(method, name, message) {\n    var deprecationMessage = 'DEPRECATED METHOD: ' + name + '\\n' + message + ' AT \\n';\n    return function () {\n      var e = new Error('get-stack-trace');\n      var stack = e && e.stack ? e.stack.replace(/^[^\\(]+?[\\n$]/gm, '').replace(/^\\s+at\\s+/gm, '').replace(/^Object.<anonymous>\\s*\\(/gm, '{anonymous}()@') : 'Unknown Stack Trace';\n      var log = window.console && (window.console.warn || window.console.log);\n      if (log) {\n        log.call(window.console, deprecationMessage, stack);\n      }\n      return method.apply(this, arguments);\n    };\n  }\n\n  /**\n   * extend object.\n   * means that properties in dest will be overwritten by the ones in src.\n   * @param {Object} target\n   * @param {...Object} objects_to_assign\n   * @returns {Object} target\n   */\n  var assign;\n  if (typeof Object.assign !== 'function') {\n    assign = function assign(target) {\n      if (target === undefined || target === null) {\n        throw new TypeError('Cannot convert undefined or null to object');\n      }\n      var output = Object(target);\n      for (var index = 1; index < arguments.length; index++) {\n        var source = arguments[index];\n        if (source !== undefined && source !== null) {\n          for (var nextKey in source) {\n            if (source.hasOwnProperty(nextKey)) {\n              output[nextKey] = source[nextKey];\n            }\n          }\n        }\n      }\n      return output;\n    };\n  } else {\n    assign = Object.assign;\n  }\n\n  /**\n   * extend object.\n   * means that properties in dest will be overwritten by the ones in src.\n   * @param {Object} dest\n   * @param {Object} src\n   * @param {Boolean} [merge=false]\n   * @returns {Object} dest\n   */\n  var extend = deprecate(function extend(dest, src, merge) {\n    var keys = Object.keys(src);\n    var i = 0;\n    while (i < keys.length) {\n      if (!merge || merge && dest[keys[i]] === undefined) {\n        dest[keys[i]] = src[keys[i]];\n      }\n      i++;\n    }\n    return dest;\n  }, 'extend', 'Use `assign`.');\n\n  /**\n   * merge the values from src in the dest.\n   * means that properties that exist in dest will not be overwritten by src\n   * @param {Object} dest\n   * @param {Object} src\n   * @returns {Object} dest\n   */\n  var merge = deprecate(function merge(dest, src) {\n    return extend(dest, src, true);\n  }, 'merge', 'Use `assign`.');\n\n  /**\n   * simple class inheritance\n   * @param {Function} child\n   * @param {Function} base\n   * @param {Object} [properties]\n   */\n  function inherit(child, base, properties) {\n    var baseP = base.prototype,\n      childP;\n    childP = child.prototype = Object.create(baseP);\n    childP.constructor = child;\n    childP._super = baseP;\n    if (properties) {\n      assign(childP, properties);\n    }\n  }\n\n  /**\n   * simple function bind\n   * @param {Function} fn\n   * @param {Object} context\n   * @returns {Function}\n   */\n  function bindFn(fn, context) {\n    return function boundFn() {\n      return fn.apply(context, arguments);\n    };\n  }\n\n  /**\n   * let a boolean value also be a function that must return a boolean\n   * this first item in args will be used as the context\n   * @param {Boolean|Function} val\n   * @param {Array} [args]\n   * @returns {Boolean}\n   */\n  function boolOrFn(val, args) {\n    if (typeof val == TYPE_FUNCTION) {\n      return val.apply(args ? args[0] || undefined : undefined, args);\n    }\n    return val;\n  }\n\n  /**\n   * use the val2 when val1 is undefined\n   * @param {*} val1\n   * @param {*} val2\n   * @returns {*}\n   */\n  function ifUndefined(val1, val2) {\n    return val1 === undefined ? val2 : val1;\n  }\n\n  /**\n   * addEventListener with multiple events at once\n   * @param {EventTarget} target\n   * @param {String} types\n   * @param {Function} handler\n   */\n  function addEventListeners(target, types, handler) {\n    each(splitStr(types), function (type) {\n      target.addEventListener(type, handler, false);\n    });\n  }\n\n  /**\n   * removeEventListener with multiple events at once\n   * @param {EventTarget} target\n   * @param {String} types\n   * @param {Function} handler\n   */\n  function removeEventListeners(target, types, handler) {\n    each(splitStr(types), function (type) {\n      target.removeEventListener(type, handler, false);\n    });\n  }\n\n  /**\n   * find if a node is in the given parent\n   * @method hasParent\n   * @param {HTMLElement} node\n   * @param {HTMLElement} parent\n   * @return {Boolean} found\n   */\n  function hasParent(node, parent) {\n    while (node) {\n      if (node == parent) {\n        return true;\n      }\n      node = node.parentNode;\n    }\n    return false;\n  }\n\n  /**\n   * small indexOf wrapper\n   * @param {String} str\n   * @param {String} find\n   * @returns {Boolean} found\n   */\n  function inStr(str, find) {\n    return str.indexOf(find) > -1;\n  }\n\n  /**\n   * split string on whitespace\n   * @param {String} str\n   * @returns {Array} words\n   */\n  function splitStr(str) {\n    return str.trim().split(/\\s+/g);\n  }\n\n  /**\n   * find if a array contains the object using indexOf or a simple polyFill\n   * @param {Array} src\n   * @param {String} find\n   * @param {String} [findByKey]\n   * @return {Boolean|Number} false when not found, or the index\n   */\n  function inArray(src, find, findByKey) {\n    if (src.indexOf && !findByKey) {\n      return src.indexOf(find);\n    } else {\n      var i = 0;\n      while (i < src.length) {\n        if (findByKey && src[i][findByKey] == find || !findByKey && src[i] === find) {\n          return i;\n        }\n        i++;\n      }\n      return -1;\n    }\n  }\n\n  /**\n   * convert array-like objects to real arrays\n   * @param {Object} obj\n   * @returns {Array}\n   */\n  function toArray(obj) {\n    return Array.prototype.slice.call(obj, 0);\n  }\n\n  /**\n   * unique array with objects based on a key (like 'id') or just by the array's value\n   * @param {Array} src [{id:1},{id:2},{id:1}]\n   * @param {String} [key]\n   * @param {Boolean} [sort=False]\n   * @returns {Array} [{id:1},{id:2}]\n   */\n  function uniqueArray(src, key, sort) {\n    var results = [];\n    var values = [];\n    var i = 0;\n    while (i < src.length) {\n      var val = key ? src[i][key] : src[i];\n      if (inArray(values, val) < 0) {\n        results.push(src[i]);\n      }\n      values[i] = val;\n      i++;\n    }\n    if (sort) {\n      if (!key) {\n        results = results.sort();\n      } else {\n        results = results.sort(function sortUniqueArray(a, b) {\n          return a[key] > b[key];\n        });\n      }\n    }\n    return results;\n  }\n\n  /**\n   * get the prefixed property\n   * @param {Object} obj\n   * @param {String} property\n   * @returns {String|Undefined} prefixed\n   */\n  function prefixed(obj, property) {\n    var prefix, prop;\n    var camelProp = property[0].toUpperCase() + property.slice(1);\n    var i = 0;\n    while (i < VENDOR_PREFIXES.length) {\n      prefix = VENDOR_PREFIXES[i];\n      prop = prefix ? prefix + camelProp : property;\n      if (prop in obj) {\n        return prop;\n      }\n      i++;\n    }\n    return undefined;\n  }\n\n  /**\n   * get a unique id\n   * @returns {number} uniqueId\n   */\n  var _uniqueId = 1;\n  function uniqueId() {\n    return _uniqueId++;\n  }\n\n  /**\n   * get the window object of an element\n   * @param {HTMLElement} element\n   * @returns {DocumentView|Window}\n   */\n  function getWindowForElement(element) {\n    var doc = element.ownerDocument || element;\n    return doc.defaultView || doc.parentWindow || window;\n  }\n  var MOBILE_REGEX = /mobile|tablet|ip(ad|hone|od)|android/i;\n  var SUPPORT_TOUCH = 'ontouchstart' in window;\n  var SUPPORT_POINTER_EVENTS = prefixed(window, 'PointerEvent') !== undefined;\n  var SUPPORT_ONLY_TOUCH = SUPPORT_TOUCH && MOBILE_REGEX.test(navigator.userAgent);\n  var INPUT_TYPE_TOUCH = 'touch';\n  var INPUT_TYPE_PEN = 'pen';\n  var INPUT_TYPE_MOUSE = 'mouse';\n  var INPUT_TYPE_KINECT = 'kinect';\n  var COMPUTE_INTERVAL = 25;\n  var INPUT_START = 1;\n  var INPUT_MOVE = 2;\n  var INPUT_END = 4;\n  var INPUT_CANCEL = 8;\n  var DIRECTION_NONE = 1;\n  var DIRECTION_LEFT = 2;\n  var DIRECTION_RIGHT = 4;\n  var DIRECTION_UP = 8;\n  var DIRECTION_DOWN = 16;\n  var DIRECTION_HORIZONTAL = DIRECTION_LEFT | DIRECTION_RIGHT;\n  var DIRECTION_VERTICAL = DIRECTION_UP | DIRECTION_DOWN;\n  var DIRECTION_ALL = DIRECTION_HORIZONTAL | DIRECTION_VERTICAL;\n  var PROPS_XY = ['x', 'y'];\n  var PROPS_CLIENT_XY = ['clientX', 'clientY'];\n\n  /**\n   * create new input type manager\n   * @param {Manager} manager\n   * @param {Function} callback\n   * @returns {Input}\n   * @constructor\n   */\n  function Input(manager, callback) {\n    var self = this;\n    this.manager = manager;\n    this.callback = callback;\n    this.element = manager.element;\n    this.target = manager.options.inputTarget;\n\n    // smaller wrapper around the handler, for the scope and the enabled state of the manager,\n    // so when disabled the input events are completely bypassed.\n    this.domHandler = function (ev) {\n      if (boolOrFn(manager.options.enable, [manager])) {\n        self.handler(ev);\n      }\n    };\n    this.init();\n  }\n  Input.prototype = {\n    /**\n     * should handle the inputEvent data and trigger the callback\n     * @virtual\n     */\n    handler: function () {},\n    /**\n     * bind the events\n     */\n    init: function () {\n      this.evEl && addEventListeners(this.element, this.evEl, this.domHandler);\n      this.evTarget && addEventListeners(this.target, this.evTarget, this.domHandler);\n      this.evWin && addEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    },\n    /**\n     * unbind the events\n     */\n    destroy: function () {\n      this.evEl && removeEventListeners(this.element, this.evEl, this.domHandler);\n      this.evTarget && removeEventListeners(this.target, this.evTarget, this.domHandler);\n      this.evWin && removeEventListeners(getWindowForElement(this.element), this.evWin, this.domHandler);\n    }\n  };\n\n  /**\n   * create new input type manager\n   * called by the Manager constructor\n   * @param {Hammer} manager\n   * @returns {Input}\n   */\n  function createInputInstance(manager) {\n    var Type;\n    var inputClass = manager.options.inputClass;\n    if (inputClass) {\n      Type = inputClass;\n    } else if (SUPPORT_POINTER_EVENTS) {\n      Type = PointerEventInput;\n    } else if (SUPPORT_ONLY_TOUCH) {\n      Type = TouchInput;\n    } else if (!SUPPORT_TOUCH) {\n      Type = MouseInput;\n    } else {\n      Type = TouchMouseInput;\n    }\n    return new Type(manager, inputHandler);\n  }\n\n  /**\n   * handle input events\n   * @param {Manager} manager\n   * @param {String} eventType\n   * @param {Object} input\n   */\n  function inputHandler(manager, eventType, input) {\n    var pointersLen = input.pointers.length;\n    var changedPointersLen = input.changedPointers.length;\n    var isFirst = eventType & INPUT_START && pointersLen - changedPointersLen === 0;\n    var isFinal = eventType & (INPUT_END | INPUT_CANCEL) && pointersLen - changedPointersLen === 0;\n    input.isFirst = !!isFirst;\n    input.isFinal = !!isFinal;\n    if (isFirst) {\n      manager.session = {};\n    }\n\n    // source event is the normalized value of the domEvents\n    // like 'touchstart, mouseup, pointerdown'\n    input.eventType = eventType;\n\n    // compute scale, rotation etc\n    computeInputData(manager, input);\n\n    // emit secret event\n    manager.emit('hammer.input', input);\n    manager.recognize(input);\n    manager.session.prevInput = input;\n  }\n\n  /**\n   * extend the data with some usable properties like scale, rotate, velocity etc\n   * @param {Object} manager\n   * @param {Object} input\n   */\n  function computeInputData(manager, input) {\n    var session = manager.session;\n    var pointers = input.pointers;\n    var pointersLength = pointers.length;\n\n    // store the first input to calculate the distance and direction\n    if (!session.firstInput) {\n      session.firstInput = simpleCloneInputData(input);\n    }\n\n    // to compute scale and rotation we need to store the multiple touches\n    if (pointersLength > 1 && !session.firstMultiple) {\n      session.firstMultiple = simpleCloneInputData(input);\n    } else if (pointersLength === 1) {\n      session.firstMultiple = false;\n    }\n    var firstInput = session.firstInput;\n    var firstMultiple = session.firstMultiple;\n    var offsetCenter = firstMultiple ? firstMultiple.center : firstInput.center;\n    var center = input.center = getCenter(pointers);\n    input.timeStamp = now();\n    input.deltaTime = input.timeStamp - firstInput.timeStamp;\n    input.angle = getAngle(offsetCenter, center);\n    input.distance = getDistance(offsetCenter, center);\n    computeDeltaXY(session, input);\n    input.offsetDirection = getDirection(input.deltaX, input.deltaY);\n    var overallVelocity = getVelocity(input.deltaTime, input.deltaX, input.deltaY);\n    input.overallVelocityX = overallVelocity.x;\n    input.overallVelocityY = overallVelocity.y;\n    input.overallVelocity = abs(overallVelocity.x) > abs(overallVelocity.y) ? overallVelocity.x : overallVelocity.y;\n    input.scale = firstMultiple ? getScale(firstMultiple.pointers, pointers) : 1;\n    input.rotation = firstMultiple ? getRotation(firstMultiple.pointers, pointers) : 0;\n    input.maxPointers = !session.prevInput ? input.pointers.length : input.pointers.length > session.prevInput.maxPointers ? input.pointers.length : session.prevInput.maxPointers;\n    computeIntervalInputData(session, input);\n\n    // find the correct target\n    var target = manager.element;\n    if (hasParent(input.srcEvent.target, target)) {\n      target = input.srcEvent.target;\n    }\n    input.target = target;\n  }\n  function computeDeltaXY(session, input) {\n    var center = input.center;\n    var offset = session.offsetDelta || {};\n    var prevDelta = session.prevDelta || {};\n    var prevInput = session.prevInput || {};\n    if (input.eventType === INPUT_START || prevInput.eventType === INPUT_END) {\n      prevDelta = session.prevDelta = {\n        x: prevInput.deltaX || 0,\n        y: prevInput.deltaY || 0\n      };\n      offset = session.offsetDelta = {\n        x: center.x,\n        y: center.y\n      };\n    }\n    input.deltaX = prevDelta.x + (center.x - offset.x);\n    input.deltaY = prevDelta.y + (center.y - offset.y);\n  }\n\n  /**\n   * velocity is calculated every x ms\n   * @param {Object} session\n   * @param {Object} input\n   */\n  function computeIntervalInputData(session, input) {\n    var last = session.lastInterval || input,\n      deltaTime = input.timeStamp - last.timeStamp,\n      velocity,\n      velocityX,\n      velocityY,\n      direction;\n    if (input.eventType != INPUT_CANCEL && (deltaTime > COMPUTE_INTERVAL || last.velocity === undefined)) {\n      var deltaX = input.deltaX - last.deltaX;\n      var deltaY = input.deltaY - last.deltaY;\n      var v = getVelocity(deltaTime, deltaX, deltaY);\n      velocityX = v.x;\n      velocityY = v.y;\n      velocity = abs(v.x) > abs(v.y) ? v.x : v.y;\n      direction = getDirection(deltaX, deltaY);\n      session.lastInterval = input;\n    } else {\n      // use latest velocity info if it doesn't overtake a minimum period\n      velocity = last.velocity;\n      velocityX = last.velocityX;\n      velocityY = last.velocityY;\n      direction = last.direction;\n    }\n    input.velocity = velocity;\n    input.velocityX = velocityX;\n    input.velocityY = velocityY;\n    input.direction = direction;\n  }\n\n  /**\n   * create a simple clone from the input used for storage of firstInput and firstMultiple\n   * @param {Object} input\n   * @returns {Object} clonedInputData\n   */\n  function simpleCloneInputData(input) {\n    // make a simple copy of the pointers because we will get a reference if we don't\n    // we only need clientXY for the calculations\n    var pointers = [];\n    var i = 0;\n    while (i < input.pointers.length) {\n      pointers[i] = {\n        clientX: round(input.pointers[i].clientX),\n        clientY: round(input.pointers[i].clientY)\n      };\n      i++;\n    }\n    return {\n      timeStamp: now(),\n      pointers: pointers,\n      center: getCenter(pointers),\n      deltaX: input.deltaX,\n      deltaY: input.deltaY\n    };\n  }\n\n  /**\n   * get the center of all the pointers\n   * @param {Array} pointers\n   * @return {Object} center contains `x` and `y` properties\n   */\n  function getCenter(pointers) {\n    var pointersLength = pointers.length;\n\n    // no need to loop when only one touch\n    if (pointersLength === 1) {\n      return {\n        x: round(pointers[0].clientX),\n        y: round(pointers[0].clientY)\n      };\n    }\n    var x = 0,\n      y = 0,\n      i = 0;\n    while (i < pointersLength) {\n      x += pointers[i].clientX;\n      y += pointers[i].clientY;\n      i++;\n    }\n    return {\n      x: round(x / pointersLength),\n      y: round(y / pointersLength)\n    };\n  }\n\n  /**\n   * calculate the velocity between two points. unit is in px per ms.\n   * @param {Number} deltaTime\n   * @param {Number} x\n   * @param {Number} y\n   * @return {Object} velocity `x` and `y`\n   */\n  function getVelocity(deltaTime, x, y) {\n    return {\n      x: x / deltaTime || 0,\n      y: y / deltaTime || 0\n    };\n  }\n\n  /**\n   * get the direction between two points\n   * @param {Number} x\n   * @param {Number} y\n   * @return {Number} direction\n   */\n  function getDirection(x, y) {\n    if (x === y) {\n      return DIRECTION_NONE;\n    }\n    if (abs(x) >= abs(y)) {\n      return x < 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;\n    }\n    return y < 0 ? DIRECTION_UP : DIRECTION_DOWN;\n  }\n\n  /**\n   * calculate the absolute distance between two points\n   * @param {Object} p1 {x, y}\n   * @param {Object} p2 {x, y}\n   * @param {Array} [props] containing x and y keys\n   * @return {Number} distance\n   */\n  function getDistance(p1, p2, props) {\n    if (!props) {\n      props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n      y = p2[props[1]] - p1[props[1]];\n    return Math.sqrt(x * x + y * y);\n  }\n\n  /**\n   * calculate the angle between two coordinates\n   * @param {Object} p1\n   * @param {Object} p2\n   * @param {Array} [props] containing x and y keys\n   * @return {Number} angle\n   */\n  function getAngle(p1, p2, props) {\n    if (!props) {\n      props = PROPS_XY;\n    }\n    var x = p2[props[0]] - p1[props[0]],\n      y = p2[props[1]] - p1[props[1]];\n    return Math.atan2(y, x) * 180 / Math.PI;\n  }\n\n  /**\n   * calculate the rotation degrees between two pointersets\n   * @param {Array} start array of pointers\n   * @param {Array} end array of pointers\n   * @return {Number} rotation\n   */\n  function getRotation(start, end) {\n    return getAngle(end[1], end[0], PROPS_CLIENT_XY) + getAngle(start[1], start[0], PROPS_CLIENT_XY);\n  }\n\n  /**\n   * calculate the scale factor between two pointersets\n   * no scale is 1, and goes down to 0 when pinched together, and bigger when pinched out\n   * @param {Array} start array of pointers\n   * @param {Array} end array of pointers\n   * @return {Number} scale\n   */\n  function getScale(start, end) {\n    return getDistance(end[0], end[1], PROPS_CLIENT_XY) / getDistance(start[0], start[1], PROPS_CLIENT_XY);\n  }\n  var MOUSE_INPUT_MAP = {\n    mousedown: INPUT_START,\n    mousemove: INPUT_MOVE,\n    mouseup: INPUT_END\n  };\n  var MOUSE_ELEMENT_EVENTS = 'mousedown';\n  var MOUSE_WINDOW_EVENTS = 'mousemove mouseup';\n\n  /**\n   * Mouse events input\n   * @constructor\n   * @extends Input\n   */\n  function MouseInput() {\n    this.evEl = MOUSE_ELEMENT_EVENTS;\n    this.evWin = MOUSE_WINDOW_EVENTS;\n    this.pressed = false; // mousedown state\n\n    Input.apply(this, arguments);\n  }\n  inherit(MouseInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function MEhandler(ev) {\n      var eventType = MOUSE_INPUT_MAP[ev.type];\n\n      // on start we want to have the left mouse button down\n      if (eventType & INPUT_START && ev.button === 0) {\n        this.pressed = true;\n      }\n      if (eventType & INPUT_MOVE && ev.which !== 1) {\n        eventType = INPUT_END;\n      }\n\n      // mouse must be down\n      if (!this.pressed) {\n        return;\n      }\n      if (eventType & INPUT_END) {\n        this.pressed = false;\n      }\n      this.callback(this.manager, eventType, {\n        pointers: [ev],\n        changedPointers: [ev],\n        pointerType: INPUT_TYPE_MOUSE,\n        srcEvent: ev\n      });\n    }\n  });\n  var POINTER_INPUT_MAP = {\n    pointerdown: INPUT_START,\n    pointermove: INPUT_MOVE,\n    pointerup: INPUT_END,\n    pointercancel: INPUT_CANCEL,\n    pointerout: INPUT_CANCEL\n  };\n\n  // in IE10 the pointer types is defined as an enum\n  var IE10_POINTER_TYPE_ENUM = {\n    2: INPUT_TYPE_TOUCH,\n    3: INPUT_TYPE_PEN,\n    4: INPUT_TYPE_MOUSE,\n    5: INPUT_TYPE_KINECT // see https://twitter.com/jacobrossi/status/480596438489890816\n  };\n  var POINTER_ELEMENT_EVENTS = 'pointerdown';\n  var POINTER_WINDOW_EVENTS = 'pointermove pointerup pointercancel';\n\n  // IE10 has prefixed support, and case-sensitive\n  if (window.MSPointerEvent && !window.PointerEvent) {\n    POINTER_ELEMENT_EVENTS = 'MSPointerDown';\n    POINTER_WINDOW_EVENTS = 'MSPointerMove MSPointerUp MSPointerCancel';\n  }\n\n  /**\n   * Pointer events input\n   * @constructor\n   * @extends Input\n   */\n  function PointerEventInput() {\n    this.evEl = POINTER_ELEMENT_EVENTS;\n    this.evWin = POINTER_WINDOW_EVENTS;\n    Input.apply(this, arguments);\n    this.store = this.manager.session.pointerEvents = [];\n  }\n  inherit(PointerEventInput, Input, {\n    /**\n     * handle mouse events\n     * @param {Object} ev\n     */\n    handler: function PEhandler(ev) {\n      var store = this.store;\n      var removePointer = false;\n      var eventTypeNormalized = ev.type.toLowerCase().replace('ms', '');\n      var eventType = POINTER_INPUT_MAP[eventTypeNormalized];\n      var pointerType = IE10_POINTER_TYPE_ENUM[ev.pointerType] || ev.pointerType;\n      var isTouch = pointerType == INPUT_TYPE_TOUCH;\n\n      // get index of the event in the store\n      var storeIndex = inArray(store, ev.pointerId, 'pointerId');\n\n      // start and mouse must be down\n      if (eventType & INPUT_START && (ev.button === 0 || isTouch)) {\n        if (storeIndex < 0) {\n          store.push(ev);\n          storeIndex = store.length - 1;\n        }\n      } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n        removePointer = true;\n      }\n\n      // it not found, so the pointer hasn't been down (so it's probably a hover)\n      if (storeIndex < 0) {\n        return;\n      }\n\n      // update the event in the store\n      store[storeIndex] = ev;\n      this.callback(this.manager, eventType, {\n        pointers: store,\n        changedPointers: [ev],\n        pointerType: pointerType,\n        srcEvent: ev\n      });\n      if (removePointer) {\n        // remove from the store\n        store.splice(storeIndex, 1);\n      }\n    }\n  });\n  var SINGLE_TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n  };\n  var SINGLE_TOUCH_TARGET_EVENTS = 'touchstart';\n  var SINGLE_TOUCH_WINDOW_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n  /**\n   * Touch events input\n   * @constructor\n   * @extends Input\n   */\n  function SingleTouchInput() {\n    this.evTarget = SINGLE_TOUCH_TARGET_EVENTS;\n    this.evWin = SINGLE_TOUCH_WINDOW_EVENTS;\n    this.started = false;\n    Input.apply(this, arguments);\n  }\n  inherit(SingleTouchInput, Input, {\n    handler: function TEhandler(ev) {\n      var type = SINGLE_TOUCH_INPUT_MAP[ev.type];\n\n      // should we handle the touch events?\n      if (type === INPUT_START) {\n        this.started = true;\n      }\n      if (!this.started) {\n        return;\n      }\n      var touches = normalizeSingleTouches.call(this, ev, type);\n\n      // when done, reset the started state\n      if (type & (INPUT_END | INPUT_CANCEL) && touches[0].length - touches[1].length === 0) {\n        this.started = false;\n      }\n      this.callback(this.manager, type, {\n        pointers: touches[0],\n        changedPointers: touches[1],\n        pointerType: INPUT_TYPE_TOUCH,\n        srcEvent: ev\n      });\n    }\n  });\n\n  /**\n   * @this {TouchInput}\n   * @param {Object} ev\n   * @param {Number} type flag\n   * @returns {undefined|Array} [all, changed]\n   */\n  function normalizeSingleTouches(ev, type) {\n    var all = toArray(ev.touches);\n    var changed = toArray(ev.changedTouches);\n    if (type & (INPUT_END | INPUT_CANCEL)) {\n      all = uniqueArray(all.concat(changed), 'identifier', true);\n    }\n    return [all, changed];\n  }\n  var TOUCH_INPUT_MAP = {\n    touchstart: INPUT_START,\n    touchmove: INPUT_MOVE,\n    touchend: INPUT_END,\n    touchcancel: INPUT_CANCEL\n  };\n  var TOUCH_TARGET_EVENTS = 'touchstart touchmove touchend touchcancel';\n\n  /**\n   * Multi-user touch events input\n   * @constructor\n   * @extends Input\n   */\n  function TouchInput() {\n    this.evTarget = TOUCH_TARGET_EVENTS;\n    this.targetIds = {};\n    Input.apply(this, arguments);\n  }\n  inherit(TouchInput, Input, {\n    handler: function MTEhandler(ev) {\n      var type = TOUCH_INPUT_MAP[ev.type];\n      var touches = getTouches.call(this, ev, type);\n      if (!touches) {\n        return;\n      }\n      this.callback(this.manager, type, {\n        pointers: touches[0],\n        changedPointers: touches[1],\n        pointerType: INPUT_TYPE_TOUCH,\n        srcEvent: ev\n      });\n    }\n  });\n\n  /**\n   * @this {TouchInput}\n   * @param {Object} ev\n   * @param {Number} type flag\n   * @returns {undefined|Array} [all, changed]\n   */\n  function getTouches(ev, type) {\n    var allTouches = toArray(ev.touches);\n    var targetIds = this.targetIds;\n\n    // when there is only one touch, the process can be simplified\n    if (type & (INPUT_START | INPUT_MOVE) && allTouches.length === 1) {\n      targetIds[allTouches[0].identifier] = true;\n      return [allTouches, allTouches];\n    }\n    var i,\n      targetTouches,\n      changedTouches = toArray(ev.changedTouches),\n      changedTargetTouches = [],\n      target = this.target;\n\n    // get target touches from touches\n    targetTouches = allTouches.filter(function (touch) {\n      return hasParent(touch.target, target);\n    });\n\n    // collect touches\n    if (type === INPUT_START) {\n      i = 0;\n      while (i < targetTouches.length) {\n        targetIds[targetTouches[i].identifier] = true;\n        i++;\n      }\n    }\n\n    // filter changed touches to only contain touches that exist in the collected target ids\n    i = 0;\n    while (i < changedTouches.length) {\n      if (targetIds[changedTouches[i].identifier]) {\n        changedTargetTouches.push(changedTouches[i]);\n      }\n\n      // cleanup removed touches\n      if (type & (INPUT_END | INPUT_CANCEL)) {\n        delete targetIds[changedTouches[i].identifier];\n      }\n      i++;\n    }\n    if (!changedTargetTouches.length) {\n      return;\n    }\n    return [\n    // merge targetTouches with changedTargetTouches so it contains ALL touches, including 'end' and 'cancel'\n    uniqueArray(targetTouches.concat(changedTargetTouches), 'identifier', true), changedTargetTouches];\n  }\n\n  /**\n   * Combined touch and mouse input\n   *\n   * Touch has a higher priority then mouse, and while touching no mouse events are allowed.\n   * This because touch devices also emit mouse events while doing a touch.\n   *\n   * @constructor\n   * @extends Input\n   */\n\n  var DEDUP_TIMEOUT = 2500;\n  var DEDUP_DISTANCE = 25;\n  function TouchMouseInput() {\n    Input.apply(this, arguments);\n    var handler = bindFn(this.handler, this);\n    this.touch = new TouchInput(this.manager, handler);\n    this.mouse = new MouseInput(this.manager, handler);\n    this.primaryTouch = null;\n    this.lastTouches = [];\n  }\n  inherit(TouchMouseInput, Input, {\n    /**\n     * handle mouse and touch events\n     * @param {Hammer} manager\n     * @param {String} inputEvent\n     * @param {Object} inputData\n     */\n    handler: function TMEhandler(manager, inputEvent, inputData) {\n      var isTouch = inputData.pointerType == INPUT_TYPE_TOUCH,\n        isMouse = inputData.pointerType == INPUT_TYPE_MOUSE;\n      if (isMouse && inputData.sourceCapabilities && inputData.sourceCapabilities.firesTouchEvents) {\n        return;\n      }\n\n      // when we're in a touch event, record touches to  de-dupe synthetic mouse event\n      if (isTouch) {\n        recordTouches.call(this, inputEvent, inputData);\n      } else if (isMouse && isSyntheticEvent.call(this, inputData)) {\n        return;\n      }\n      this.callback(manager, inputEvent, inputData);\n    },\n    /**\n     * remove the event listeners\n     */\n    destroy: function destroy() {\n      this.touch.destroy();\n      this.mouse.destroy();\n    }\n  });\n  function recordTouches(eventType, eventData) {\n    if (eventType & INPUT_START) {\n      this.primaryTouch = eventData.changedPointers[0].identifier;\n      setLastTouch.call(this, eventData);\n    } else if (eventType & (INPUT_END | INPUT_CANCEL)) {\n      setLastTouch.call(this, eventData);\n    }\n  }\n  function setLastTouch(eventData) {\n    var touch = eventData.changedPointers[0];\n    if (touch.identifier === this.primaryTouch) {\n      var lastTouch = {\n        x: touch.clientX,\n        y: touch.clientY\n      };\n      this.lastTouches.push(lastTouch);\n      var lts = this.lastTouches;\n      var removeLastTouch = function () {\n        var i = lts.indexOf(lastTouch);\n        if (i > -1) {\n          lts.splice(i, 1);\n        }\n      };\n      setTimeout(removeLastTouch, DEDUP_TIMEOUT);\n    }\n  }\n  function isSyntheticEvent(eventData) {\n    var x = eventData.srcEvent.clientX,\n      y = eventData.srcEvent.clientY;\n    for (var i = 0; i < this.lastTouches.length; i++) {\n      var t = this.lastTouches[i];\n      var dx = Math.abs(x - t.x),\n        dy = Math.abs(y - t.y);\n      if (dx <= DEDUP_DISTANCE && dy <= DEDUP_DISTANCE) {\n        return true;\n      }\n    }\n    return false;\n  }\n  var PREFIXED_TOUCH_ACTION = prefixed(TEST_ELEMENT.style, 'touchAction');\n  var NATIVE_TOUCH_ACTION = PREFIXED_TOUCH_ACTION !== undefined;\n\n  // magical touchAction value\n  var TOUCH_ACTION_COMPUTE = 'compute';\n  var TOUCH_ACTION_AUTO = 'auto';\n  var TOUCH_ACTION_MANIPULATION = 'manipulation'; // not implemented\n  var TOUCH_ACTION_NONE = 'none';\n  var TOUCH_ACTION_PAN_X = 'pan-x';\n  var TOUCH_ACTION_PAN_Y = 'pan-y';\n  var TOUCH_ACTION_MAP = getTouchActionProps();\n\n  /**\n   * Touch Action\n   * sets the touchAction property or uses the js alternative\n   * @param {Manager} manager\n   * @param {String} value\n   * @constructor\n   */\n  function TouchAction(manager, value) {\n    this.manager = manager;\n    this.set(value);\n  }\n  TouchAction.prototype = {\n    /**\n     * set the touchAction value on the element or enable the polyfill\n     * @param {String} value\n     */\n    set: function (value) {\n      // find out the touch-action by the event handlers\n      if (value == TOUCH_ACTION_COMPUTE) {\n        value = this.compute();\n      }\n      if (NATIVE_TOUCH_ACTION && this.manager.element.style && TOUCH_ACTION_MAP[value]) {\n        this.manager.element.style[PREFIXED_TOUCH_ACTION] = value;\n      }\n      this.actions = value.toLowerCase().trim();\n    },\n    /**\n     * just re-set the touchAction value\n     */\n    update: function () {\n      this.set(this.manager.options.touchAction);\n    },\n    /**\n     * compute the value for the touchAction property based on the recognizer's settings\n     * @returns {String} value\n     */\n    compute: function () {\n      var actions = [];\n      each(this.manager.recognizers, function (recognizer) {\n        if (boolOrFn(recognizer.options.enable, [recognizer])) {\n          actions = actions.concat(recognizer.getTouchAction());\n        }\n      });\n      return cleanTouchActions(actions.join(' '));\n    },\n    /**\n     * this method is called on each input cycle and provides the preventing of the browser behavior\n     * @param {Object} input\n     */\n    preventDefaults: function (input) {\n      var srcEvent = input.srcEvent;\n      var direction = input.offsetDirection;\n\n      // if the touch action did prevented once this session\n      if (this.manager.session.prevented) {\n        srcEvent.preventDefault();\n        return;\n      }\n      var actions = this.actions;\n      var hasNone = inStr(actions, TOUCH_ACTION_NONE) && !TOUCH_ACTION_MAP[TOUCH_ACTION_NONE];\n      var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_Y];\n      var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X) && !TOUCH_ACTION_MAP[TOUCH_ACTION_PAN_X];\n      if (hasNone) {\n        //do not prevent defaults if this is a tap gesture\n\n        var isTapPointer = input.pointers.length === 1;\n        var isTapMovement = input.distance < 2;\n        var isTapTouchTime = input.deltaTime < 250;\n        if (isTapPointer && isTapMovement && isTapTouchTime) {\n          return;\n        }\n      }\n      if (hasPanX && hasPanY) {\n        // `pan-x pan-y` means browser handles all scrolling/panning, do not prevent\n        return;\n      }\n      if (hasNone || hasPanY && direction & DIRECTION_HORIZONTAL || hasPanX && direction & DIRECTION_VERTICAL) {\n        return this.preventSrc(srcEvent);\n      }\n    },\n    /**\n     * call preventDefault to prevent the browser's default behavior (scrolling in most cases)\n     * @param {Object} srcEvent\n     */\n    preventSrc: function (srcEvent) {\n      this.manager.session.prevented = true;\n      srcEvent.preventDefault();\n    }\n  };\n\n  /**\n   * when the touchActions are collected they are not a valid value, so we need to clean things up. *\n   * @param {String} actions\n   * @returns {*}\n   */\n  function cleanTouchActions(actions) {\n    // none\n    if (inStr(actions, TOUCH_ACTION_NONE)) {\n      return TOUCH_ACTION_NONE;\n    }\n    var hasPanX = inStr(actions, TOUCH_ACTION_PAN_X);\n    var hasPanY = inStr(actions, TOUCH_ACTION_PAN_Y);\n\n    // if both pan-x and pan-y are set (different recognizers\n    // for different directions, e.g. horizontal pan but vertical swipe?)\n    // we need none (as otherwise with pan-x pan-y combined none of these\n    // recognizers will work, since the browser would handle all panning\n    if (hasPanX && hasPanY) {\n      return TOUCH_ACTION_NONE;\n    }\n\n    // pan-x OR pan-y\n    if (hasPanX || hasPanY) {\n      return hasPanX ? TOUCH_ACTION_PAN_X : TOUCH_ACTION_PAN_Y;\n    }\n\n    // manipulation\n    if (inStr(actions, TOUCH_ACTION_MANIPULATION)) {\n      return TOUCH_ACTION_MANIPULATION;\n    }\n    return TOUCH_ACTION_AUTO;\n  }\n  function getTouchActionProps() {\n    if (!NATIVE_TOUCH_ACTION) {\n      return false;\n    }\n    var touchMap = {};\n    var cssSupports = window.CSS && window.CSS.supports;\n    ['auto', 'manipulation', 'pan-y', 'pan-x', 'pan-x pan-y', 'none'].forEach(function (val) {\n      // If css.supports is not supported but there is native touch-action assume it supports\n      // all values. This is the case for IE 10 and 11.\n      touchMap[val] = cssSupports ? window.CSS.supports('touch-action', val) : true;\n    });\n    return touchMap;\n  }\n\n  /**\n   * Recognizer flow explained; *\n   * All recognizers have the initial state of POSSIBLE when a input session starts.\n   * The definition of a input session is from the first input until the last input, with all it's movement in it. *\n   * Example session for mouse-input: mousedown -> mousemove -> mouseup\n   *\n   * On each recognizing cycle (see Manager.recognize) the .recognize() method is executed\n   * which determines with state it should be.\n   *\n   * If the recognizer has the state FAILED, CANCELLED or RECOGNIZED (equals ENDED), it is reset to\n   * POSSIBLE to give it another change on the next cycle.\n   *\n   *               Possible\n   *                  |\n   *            +-----+---------------+\n   *            |                     |\n   *      +-----+-----+               |\n   *      |           |               |\n   *   Failed      Cancelled          |\n   *                          +-------+------+\n   *                          |              |\n   *                      Recognized       Began\n   *                                         |\n   *                                      Changed\n   *                                         |\n   *                                  Ended/Recognized\n   */\n  var STATE_POSSIBLE = 1;\n  var STATE_BEGAN = 2;\n  var STATE_CHANGED = 4;\n  var STATE_ENDED = 8;\n  var STATE_RECOGNIZED = STATE_ENDED;\n  var STATE_CANCELLED = 16;\n  var STATE_FAILED = 32;\n\n  /**\n   * Recognizer\n   * Every recognizer needs to extend from this class.\n   * @constructor\n   * @param {Object} options\n   */\n  function Recognizer(options) {\n    this.options = assign({}, this.defaults, options || {});\n    this.id = uniqueId();\n    this.manager = null;\n\n    // default is enable true\n    this.options.enable = ifUndefined(this.options.enable, true);\n    this.state = STATE_POSSIBLE;\n    this.simultaneous = {};\n    this.requireFail = [];\n  }\n  Recognizer.prototype = {\n    /**\n     * @virtual\n     * @type {Object}\n     */\n    defaults: {},\n    /**\n     * set options\n     * @param {Object} options\n     * @return {Recognizer}\n     */\n    set: function (options) {\n      assign(this.options, options);\n\n      // also update the touchAction, in case something changed about the directions/enabled state\n      this.manager && this.manager.touchAction.update();\n      return this;\n    },\n    /**\n     * recognize simultaneous with an other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    recognizeWith: function (otherRecognizer) {\n      if (invokeArrayArg(otherRecognizer, 'recognizeWith', this)) {\n        return this;\n      }\n      var simultaneous = this.simultaneous;\n      otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n      if (!simultaneous[otherRecognizer.id]) {\n        simultaneous[otherRecognizer.id] = otherRecognizer;\n        otherRecognizer.recognizeWith(this);\n      }\n      return this;\n    },\n    /**\n     * drop the simultaneous link. it doesnt remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRecognizeWith: function (otherRecognizer) {\n      if (invokeArrayArg(otherRecognizer, 'dropRecognizeWith', this)) {\n        return this;\n      }\n      otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n      delete this.simultaneous[otherRecognizer.id];\n      return this;\n    },\n    /**\n     * recognizer can only run when an other is failing\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    requireFailure: function (otherRecognizer) {\n      if (invokeArrayArg(otherRecognizer, 'requireFailure', this)) {\n        return this;\n      }\n      var requireFail = this.requireFail;\n      otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n      if (inArray(requireFail, otherRecognizer) === -1) {\n        requireFail.push(otherRecognizer);\n        otherRecognizer.requireFailure(this);\n      }\n      return this;\n    },\n    /**\n     * drop the requireFailure link. it does not remove the link on the other recognizer.\n     * @param {Recognizer} otherRecognizer\n     * @returns {Recognizer} this\n     */\n    dropRequireFailure: function (otherRecognizer) {\n      if (invokeArrayArg(otherRecognizer, 'dropRequireFailure', this)) {\n        return this;\n      }\n      otherRecognizer = getRecognizerByNameIfManager(otherRecognizer, this);\n      var index = inArray(this.requireFail, otherRecognizer);\n      if (index > -1) {\n        this.requireFail.splice(index, 1);\n      }\n      return this;\n    },\n    /**\n     * has require failures boolean\n     * @returns {boolean}\n     */\n    hasRequireFailures: function () {\n      return this.requireFail.length > 0;\n    },\n    /**\n     * if the recognizer can recognize simultaneous with an other recognizer\n     * @param {Recognizer} otherRecognizer\n     * @returns {Boolean}\n     */\n    canRecognizeWith: function (otherRecognizer) {\n      return !!this.simultaneous[otherRecognizer.id];\n    },\n    /**\n     * You should use `tryEmit` instead of `emit` directly to check\n     * that all the needed recognizers has failed before emitting.\n     * @param {Object} input\n     */\n    emit: function (input) {\n      var self = this;\n      var state = this.state;\n      function emit(event) {\n        self.manager.emit(event, input);\n      }\n\n      // 'panstart' and 'panmove'\n      if (state < STATE_ENDED) {\n        emit(self.options.event + stateStr(state));\n      }\n      emit(self.options.event); // simple 'eventName' events\n\n      if (input.additionalEvent) {\n        // additional event(panleft, panright, pinchin, pinchout...)\n        emit(input.additionalEvent);\n      }\n\n      // panend and pancancel\n      if (state >= STATE_ENDED) {\n        emit(self.options.event + stateStr(state));\n      }\n    },\n    /**\n     * Check that all the require failure recognizers has failed,\n     * if true, it emits a gesture event,\n     * otherwise, setup the state to FAILED.\n     * @param {Object} input\n     */\n    tryEmit: function (input) {\n      if (this.canEmit()) {\n        return this.emit(input);\n      }\n      // it's failing anyway\n      this.state = STATE_FAILED;\n    },\n    /**\n     * can we emit?\n     * @returns {boolean}\n     */\n    canEmit: function () {\n      var i = 0;\n      while (i < this.requireFail.length) {\n        if (!(this.requireFail[i].state & (STATE_FAILED | STATE_POSSIBLE))) {\n          return false;\n        }\n        i++;\n      }\n      return true;\n    },\n    /**\n     * update the recognizer\n     * @param {Object} inputData\n     */\n    recognize: function (inputData) {\n      // make a new copy of the inputData\n      // so we can change the inputData without messing up the other recognizers\n      var inputDataClone = assign({}, inputData);\n\n      // is is enabled and allow recognizing?\n      if (!boolOrFn(this.options.enable, [this, inputDataClone])) {\n        this.reset();\n        this.state = STATE_FAILED;\n        return;\n      }\n\n      // reset when we've reached the end\n      if (this.state & (STATE_RECOGNIZED | STATE_CANCELLED | STATE_FAILED)) {\n        this.state = STATE_POSSIBLE;\n      }\n      this.state = this.process(inputDataClone);\n\n      // the recognizer has recognized a gesture\n      // so trigger an event\n      if (this.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED | STATE_CANCELLED)) {\n        this.tryEmit(inputDataClone);\n      }\n    },\n    /**\n     * return the state of the recognizer\n     * the actual recognizing happens in this method\n     * @virtual\n     * @param {Object} inputData\n     * @returns {Const} STATE\n     */\n    process: function (inputData) {},\n    // jshint ignore:line\n\n    /**\n     * return the preferred touch-action\n     * @virtual\n     * @returns {Array}\n     */\n    getTouchAction: function () {},\n    /**\n     * called when the gesture isn't allowed to recognize\n     * like when another is being recognized or it is disabled\n     * @virtual\n     */\n    reset: function () {}\n  };\n\n  /**\n   * get a usable string, used as event postfix\n   * @param {Const} state\n   * @returns {String} state\n   */\n  function stateStr(state) {\n    if (state & STATE_CANCELLED) {\n      return 'cancel';\n    } else if (state & STATE_ENDED) {\n      return 'end';\n    } else if (state & STATE_CHANGED) {\n      return 'move';\n    } else if (state & STATE_BEGAN) {\n      return 'start';\n    }\n    return '';\n  }\n\n  /**\n   * direction cons to string\n   * @param {Const} direction\n   * @returns {String}\n   */\n  function directionStr(direction) {\n    if (direction == DIRECTION_DOWN) {\n      return 'down';\n    } else if (direction == DIRECTION_UP) {\n      return 'up';\n    } else if (direction == DIRECTION_LEFT) {\n      return 'left';\n    } else if (direction == DIRECTION_RIGHT) {\n      return 'right';\n    }\n    return '';\n  }\n\n  /**\n   * get a recognizer by name if it is bound to a manager\n   * @param {Recognizer|String} otherRecognizer\n   * @param {Recognizer} recognizer\n   * @returns {Recognizer}\n   */\n  function getRecognizerByNameIfManager(otherRecognizer, recognizer) {\n    var manager = recognizer.manager;\n    if (manager) {\n      return manager.get(otherRecognizer);\n    }\n    return otherRecognizer;\n  }\n\n  /**\n   * This recognizer is just used as a base for the simple attribute recognizers.\n   * @constructor\n   * @extends Recognizer\n   */\n  function AttrRecognizer() {\n    Recognizer.apply(this, arguments);\n  }\n  inherit(AttrRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof AttrRecognizer\n     */\n    defaults: {\n      /**\n       * @type {Number}\n       * @default 1\n       */\n      pointers: 1\n    },\n    /**\n     * Used to check if it the recognizer receives valid input, like input.distance > 10.\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {Boolean} recognized\n     */\n    attrTest: function (input) {\n      var optionPointers = this.options.pointers;\n      return optionPointers === 0 || input.pointers.length === optionPointers;\n    },\n    /**\n     * Process the input and return the state for the recognizer\n     * @memberof AttrRecognizer\n     * @param {Object} input\n     * @returns {*} State\n     */\n    process: function (input) {\n      var state = this.state;\n      var eventType = input.eventType;\n      var isRecognized = state & (STATE_BEGAN | STATE_CHANGED);\n      var isValid = this.attrTest(input);\n\n      // on cancel input and we've recognized before, return STATE_CANCELLED\n      if (isRecognized && (eventType & INPUT_CANCEL || !isValid)) {\n        return state | STATE_CANCELLED;\n      } else if (isRecognized || isValid) {\n        if (eventType & INPUT_END) {\n          return state | STATE_ENDED;\n        } else if (!(state & STATE_BEGAN)) {\n          return STATE_BEGAN;\n        }\n        return state | STATE_CHANGED;\n      }\n      return STATE_FAILED;\n    }\n  });\n\n  /**\n   * Pan\n   * Recognized when the pointer is down and moved in the allowed direction.\n   * @constructor\n   * @extends AttrRecognizer\n   */\n  function PanRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n    this.pX = null;\n    this.pY = null;\n  }\n  inherit(PanRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PanRecognizer\n     */\n    defaults: {\n      event: 'pan',\n      threshold: 10,\n      pointers: 1,\n      direction: DIRECTION_ALL\n    },\n    getTouchAction: function () {\n      var direction = this.options.direction;\n      var actions = [];\n      if (direction & DIRECTION_HORIZONTAL) {\n        actions.push(TOUCH_ACTION_PAN_Y);\n      }\n      if (direction & DIRECTION_VERTICAL) {\n        actions.push(TOUCH_ACTION_PAN_X);\n      }\n      return actions;\n    },\n    directionTest: function (input) {\n      var options = this.options;\n      var hasMoved = true;\n      var distance = input.distance;\n      var direction = input.direction;\n      var x = input.deltaX;\n      var y = input.deltaY;\n\n      // lock to axis?\n      if (!(direction & options.direction)) {\n        if (options.direction & DIRECTION_HORIZONTAL) {\n          direction = x === 0 ? DIRECTION_NONE : x < 0 ? DIRECTION_LEFT : DIRECTION_RIGHT;\n          hasMoved = x != this.pX;\n          distance = Math.abs(input.deltaX);\n        } else {\n          direction = y === 0 ? DIRECTION_NONE : y < 0 ? DIRECTION_UP : DIRECTION_DOWN;\n          hasMoved = y != this.pY;\n          distance = Math.abs(input.deltaY);\n        }\n      }\n      input.direction = direction;\n      return hasMoved && distance > options.threshold && direction & options.direction;\n    },\n    attrTest: function (input) {\n      return AttrRecognizer.prototype.attrTest.call(this, input) && (this.state & STATE_BEGAN || !(this.state & STATE_BEGAN) && this.directionTest(input));\n    },\n    emit: function (input) {\n      this.pX = input.deltaX;\n      this.pY = input.deltaY;\n      var direction = directionStr(input.direction);\n      if (direction) {\n        input.additionalEvent = this.options.event + direction;\n      }\n      this._super.emit.call(this, input);\n    }\n  });\n\n  /**\n   * Pinch\n   * Recognized when two or more pointers are moving toward (zoom-in) or away from each other (zoom-out).\n   * @constructor\n   * @extends AttrRecognizer\n   */\n  function PinchRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n  }\n  inherit(PinchRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n      event: 'pinch',\n      threshold: 0,\n      pointers: 2\n    },\n    getTouchAction: function () {\n      return [TOUCH_ACTION_NONE];\n    },\n    attrTest: function (input) {\n      return this._super.attrTest.call(this, input) && (Math.abs(input.scale - 1) > this.options.threshold || this.state & STATE_BEGAN);\n    },\n    emit: function (input) {\n      if (input.scale !== 1) {\n        var inOut = input.scale < 1 ? 'in' : 'out';\n        input.additionalEvent = this.options.event + inOut;\n      }\n      this._super.emit.call(this, input);\n    }\n  });\n\n  /**\n   * Press\n   * Recognized when the pointer is down for x ms without any movement.\n   * @constructor\n   * @extends Recognizer\n   */\n  function PressRecognizer() {\n    Recognizer.apply(this, arguments);\n    this._timer = null;\n    this._input = null;\n  }\n  inherit(PressRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PressRecognizer\n     */\n    defaults: {\n      event: 'press',\n      pointers: 1,\n      time: 251,\n      // minimal time of the pointer to be pressed\n      threshold: 9 // a minimal movement is ok, but keep it low\n    },\n    getTouchAction: function () {\n      return [TOUCH_ACTION_AUTO];\n    },\n    process: function (input) {\n      var options = this.options;\n      var validPointers = input.pointers.length === options.pointers;\n      var validMovement = input.distance < options.threshold;\n      var validTime = input.deltaTime > options.time;\n      this._input = input;\n\n      // we only allow little movement\n      // and we've reached an end event, so a tap is possible\n      if (!validMovement || !validPointers || input.eventType & (INPUT_END | INPUT_CANCEL) && !validTime) {\n        this.reset();\n      } else if (input.eventType & INPUT_START) {\n        this.reset();\n        this._timer = setTimeoutContext(function () {\n          this.state = STATE_RECOGNIZED;\n          this.tryEmit();\n        }, options.time, this);\n      } else if (input.eventType & INPUT_END) {\n        return STATE_RECOGNIZED;\n      }\n      return STATE_FAILED;\n    },\n    reset: function () {\n      clearTimeout(this._timer);\n    },\n    emit: function (input) {\n      if (this.state !== STATE_RECOGNIZED) {\n        return;\n      }\n      if (input && input.eventType & INPUT_END) {\n        this.manager.emit(this.options.event + 'up', input);\n      } else {\n        this._input.timeStamp = now();\n        this.manager.emit(this.options.event, this._input);\n      }\n    }\n  });\n\n  /**\n   * Rotate\n   * Recognized when two or more pointer are moving in a circular motion.\n   * @constructor\n   * @extends AttrRecognizer\n   */\n  function RotateRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n  }\n  inherit(RotateRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof RotateRecognizer\n     */\n    defaults: {\n      event: 'rotate',\n      threshold: 0,\n      pointers: 2\n    },\n    getTouchAction: function () {\n      return [TOUCH_ACTION_NONE];\n    },\n    attrTest: function (input) {\n      return this._super.attrTest.call(this, input) && (Math.abs(input.rotation) > this.options.threshold || this.state & STATE_BEGAN);\n    }\n  });\n\n  /**\n   * Swipe\n   * Recognized when the pointer is moving fast (velocity), with enough distance in the allowed direction.\n   * @constructor\n   * @extends AttrRecognizer\n   */\n  function SwipeRecognizer() {\n    AttrRecognizer.apply(this, arguments);\n  }\n  inherit(SwipeRecognizer, AttrRecognizer, {\n    /**\n     * @namespace\n     * @memberof SwipeRecognizer\n     */\n    defaults: {\n      event: 'swipe',\n      threshold: 10,\n      velocity: 0.3,\n      direction: DIRECTION_HORIZONTAL | DIRECTION_VERTICAL,\n      pointers: 1\n    },\n    getTouchAction: function () {\n      return PanRecognizer.prototype.getTouchAction.call(this);\n    },\n    attrTest: function (input) {\n      var direction = this.options.direction;\n      var velocity;\n      if (direction & (DIRECTION_HORIZONTAL | DIRECTION_VERTICAL)) {\n        velocity = input.overallVelocity;\n      } else if (direction & DIRECTION_HORIZONTAL) {\n        velocity = input.overallVelocityX;\n      } else if (direction & DIRECTION_VERTICAL) {\n        velocity = input.overallVelocityY;\n      }\n      return this._super.attrTest.call(this, input) && direction & input.offsetDirection && input.distance > this.options.threshold && input.maxPointers == this.options.pointers && abs(velocity) > this.options.velocity && input.eventType & INPUT_END;\n    },\n    emit: function (input) {\n      var direction = directionStr(input.offsetDirection);\n      if (direction) {\n        this.manager.emit(this.options.event + direction, input);\n      }\n      this.manager.emit(this.options.event, input);\n    }\n  });\n\n  /**\n   * A tap is ecognized when the pointer is doing a small tap/click. Multiple taps are recognized if they occur\n   * between the given interval and position. The delay option can be used to recognize multi-taps without firing\n   * a single tap.\n   *\n   * The eventData from the emitted event contains the property `tapCount`, which contains the amount of\n   * multi-taps being recognized.\n   * @constructor\n   * @extends Recognizer\n   */\n  function TapRecognizer() {\n    Recognizer.apply(this, arguments);\n\n    // previous time and center,\n    // used for tap counting\n    this.pTime = false;\n    this.pCenter = false;\n    this._timer = null;\n    this._input = null;\n    this.count = 0;\n  }\n  inherit(TapRecognizer, Recognizer, {\n    /**\n     * @namespace\n     * @memberof PinchRecognizer\n     */\n    defaults: {\n      event: 'tap',\n      pointers: 1,\n      taps: 1,\n      interval: 300,\n      // max time between the multi-tap taps\n      time: 250,\n      // max time of the pointer to be down (like finger on the screen)\n      threshold: 9,\n      // a minimal movement is ok, but keep it low\n      posThreshold: 10 // a multi-tap can be a bit off the initial position\n    },\n    getTouchAction: function () {\n      return [TOUCH_ACTION_MANIPULATION];\n    },\n    process: function (input) {\n      var options = this.options;\n      var validPointers = input.pointers.length === options.pointers;\n      var validMovement = input.distance < options.threshold;\n      var validTouchTime = input.deltaTime < options.time;\n      this.reset();\n      if (input.eventType & INPUT_START && this.count === 0) {\n        return this.failTimeout();\n      }\n\n      // we only allow little movement\n      // and we've reached an end event, so a tap is possible\n      if (validMovement && validTouchTime && validPointers) {\n        if (input.eventType != INPUT_END) {\n          return this.failTimeout();\n        }\n        var validInterval = this.pTime ? input.timeStamp - this.pTime < options.interval : true;\n        var validMultiTap = !this.pCenter || getDistance(this.pCenter, input.center) < options.posThreshold;\n        this.pTime = input.timeStamp;\n        this.pCenter = input.center;\n        if (!validMultiTap || !validInterval) {\n          this.count = 1;\n        } else {\n          this.count += 1;\n        }\n        this._input = input;\n\n        // if tap count matches we have recognized it,\n        // else it has began recognizing...\n        var tapCount = this.count % options.taps;\n        if (tapCount === 0) {\n          // no failing requirements, immediately trigger the tap event\n          // or wait as long as the multitap interval to trigger\n          if (!this.hasRequireFailures()) {\n            return STATE_RECOGNIZED;\n          } else {\n            this._timer = setTimeoutContext(function () {\n              this.state = STATE_RECOGNIZED;\n              this.tryEmit();\n            }, options.interval, this);\n            return STATE_BEGAN;\n          }\n        }\n      }\n      return STATE_FAILED;\n    },\n    failTimeout: function () {\n      this._timer = setTimeoutContext(function () {\n        this.state = STATE_FAILED;\n      }, this.options.interval, this);\n      return STATE_FAILED;\n    },\n    reset: function () {\n      clearTimeout(this._timer);\n    },\n    emit: function () {\n      if (this.state == STATE_RECOGNIZED) {\n        this._input.tapCount = this.count;\n        this.manager.emit(this.options.event, this._input);\n      }\n    }\n  });\n\n  /**\n   * Simple way to create a manager with a default set of recognizers.\n   * @param {HTMLElement} element\n   * @param {Object} [options]\n   * @constructor\n   */\n  function Hammer(element, options) {\n    options = options || {};\n    options.recognizers = ifUndefined(options.recognizers, Hammer.defaults.preset);\n    return new Manager(element, options);\n  }\n\n  /**\n   * @const {string}\n   */\n  Hammer.VERSION = '2.0.7';\n\n  /**\n   * default settings\n   * @namespace\n   */\n  Hammer.defaults = {\n    /**\n     * set if DOM events are being triggered.\n     * But this is slower and unused by simple implementations, so disabled by default.\n     * @type {Boolean}\n     * @default false\n     */\n    domEvents: false,\n    /**\n     * The value for the touchAction property/fallback.\n     * When set to `compute` it will magically set the correct value based on the added recognizers.\n     * @type {String}\n     * @default compute\n     */\n    touchAction: TOUCH_ACTION_COMPUTE,\n    /**\n     * @type {Boolean}\n     * @default true\n     */\n    enable: true,\n    /**\n     * EXPERIMENTAL FEATURE -- can be removed/changed\n     * Change the parent input target element.\n     * If Null, then it is being set the to main element.\n     * @type {Null|EventTarget}\n     * @default null\n     */\n    inputTarget: null,\n    /**\n     * force an input class\n     * @type {Null|Function}\n     * @default null\n     */\n    inputClass: null,\n    /**\n     * Default recognizer setup when calling `Hammer()`\n     * When creating a new Manager these will be skipped.\n     * @type {Array}\n     */\n    preset: [\n    // RecognizerClass, options, [recognizeWith, ...], [requireFailure, ...]\n    [RotateRecognizer, {\n      enable: false\n    }], [PinchRecognizer, {\n      enable: false\n    }, ['rotate']], [SwipeRecognizer, {\n      direction: DIRECTION_HORIZONTAL\n    }], [PanRecognizer, {\n      direction: DIRECTION_HORIZONTAL\n    }, ['swipe']], [TapRecognizer], [TapRecognizer, {\n      event: 'doubletap',\n      taps: 2\n    }, ['tap']], [PressRecognizer]],\n    /**\n     * Some CSS properties can be used to improve the working of Hammer.\n     * Add them to this method and they will be set when creating a new Manager.\n     * @namespace\n     */\n    cssProps: {\n      /**\n       * Disables text selection to improve the dragging gesture. Mainly for desktop browsers.\n       * @type {String}\n       * @default 'none'\n       */\n      userSelect: 'none',\n      /**\n       * Disable the Windows Phone grippers when pressing an element.\n       * @type {String}\n       * @default 'none'\n       */\n      touchSelect: 'none',\n      /**\n       * Disables the default callout shown when you touch and hold a touch target.\n       * On iOS, when you touch and hold a touch target such as a link, Safari displays\n       * a callout containing information about the link. This property allows you to disable that callout.\n       * @type {String}\n       * @default 'none'\n       */\n      touchCallout: 'none',\n      /**\n       * Specifies whether zooming is enabled. Used by IE10>\n       * @type {String}\n       * @default 'none'\n       */\n      contentZooming: 'none',\n      /**\n       * Specifies that an entire element should be draggable instead of its contents. Mainly for desktop browsers.\n       * @type {String}\n       * @default 'none'\n       */\n      userDrag: 'none',\n      /**\n       * Overrides the highlight color shown when the user taps a link or a JavaScript\n       * clickable element in iOS. This property obeys the alpha value, if specified.\n       * @type {String}\n       * @default 'rgba(0,0,0,0)'\n       */\n      tapHighlightColor: 'rgba(0,0,0,0)'\n    }\n  };\n  var STOP = 1;\n  var FORCED_STOP = 2;\n\n  /**\n   * Manager\n   * @param {HTMLElement} element\n   * @param {Object} [options]\n   * @constructor\n   */\n  function Manager(element, options) {\n    this.options = assign({}, Hammer.defaults, options || {});\n    this.options.inputTarget = this.options.inputTarget || element;\n    this.handlers = {};\n    this.session = {};\n    this.recognizers = [];\n    this.oldCssProps = {};\n    this.element = element;\n    this.input = createInputInstance(this);\n    this.touchAction = new TouchAction(this, this.options.touchAction);\n    toggleCssProps(this, true);\n    each(this.options.recognizers, function (item) {\n      var recognizer = this.add(new item[0](item[1]));\n      item[2] && recognizer.recognizeWith(item[2]);\n      item[3] && recognizer.requireFailure(item[3]);\n    }, this);\n  }\n  Manager.prototype = {\n    /**\n     * set options\n     * @param {Object} options\n     * @returns {Manager}\n     */\n    set: function (options) {\n      assign(this.options, options);\n\n      // Options that need a little more setup\n      if (options.touchAction) {\n        this.touchAction.update();\n      }\n      if (options.inputTarget) {\n        // Clean up existing event listeners and reinitialize\n        this.input.destroy();\n        this.input.target = options.inputTarget;\n        this.input.init();\n      }\n      return this;\n    },\n    /**\n     * stop recognizing for this session.\n     * This session will be discarded, when a new [input]start event is fired.\n     * When forced, the recognizer cycle is stopped immediately.\n     * @param {Boolean} [force]\n     */\n    stop: function (force) {\n      this.session.stopped = force ? FORCED_STOP : STOP;\n    },\n    /**\n     * run the recognizers!\n     * called by the inputHandler function on every movement of the pointers (touches)\n     * it walks through all the recognizers and tries to detect the gesture that is being made\n     * @param {Object} inputData\n     */\n    recognize: function (inputData) {\n      var session = this.session;\n      if (session.stopped) {\n        return;\n      }\n\n      // run the touch-action polyfill\n      this.touchAction.preventDefaults(inputData);\n      var recognizer;\n      var recognizers = this.recognizers;\n\n      // this holds the recognizer that is being recognized.\n      // so the recognizer's state needs to be BEGAN, CHANGED, ENDED or RECOGNIZED\n      // if no recognizer is detecting a thing, it is set to `null`\n      var curRecognizer = session.curRecognizer;\n\n      // reset when the last recognizer is recognized\n      // or when we're in a new session\n      if (!curRecognizer || curRecognizer && curRecognizer.state & STATE_RECOGNIZED) {\n        curRecognizer = session.curRecognizer = null;\n      }\n      var i = 0;\n      while (i < recognizers.length) {\n        recognizer = recognizers[i];\n\n        // find out if we are allowed try to recognize the input for this one.\n        // 1.   allow if the session is NOT forced stopped (see the .stop() method)\n        // 2.   allow if we still haven't recognized a gesture in this session, or the this recognizer is the one\n        //      that is being recognized.\n        // 3.   allow if the recognizer is allowed to run simultaneous with the current recognized recognizer.\n        //      this can be setup with the `recognizeWith()` method on the recognizer.\n        if (session.stopped !== FORCED_STOP && (\n        // 1\n        !curRecognizer || recognizer == curRecognizer ||\n        // 2\n        recognizer.canRecognizeWith(curRecognizer))) {\n          // 3\n          recognizer.recognize(inputData);\n        } else {\n          recognizer.reset();\n        }\n\n        // if the recognizer has been recognizing the input as a valid gesture, we want to store this one as the\n        // current active recognizer. but only if we don't already have an active recognizer\n        if (!curRecognizer && recognizer.state & (STATE_BEGAN | STATE_CHANGED | STATE_ENDED)) {\n          curRecognizer = session.curRecognizer = recognizer;\n        }\n        i++;\n      }\n    },\n    /**\n     * get a recognizer by its event name.\n     * @param {Recognizer|String} recognizer\n     * @returns {Recognizer|Null}\n     */\n    get: function (recognizer) {\n      if (recognizer instanceof Recognizer) {\n        return recognizer;\n      }\n      var recognizers = this.recognizers;\n      for (var i = 0; i < recognizers.length; i++) {\n        if (recognizers[i].options.event == recognizer) {\n          return recognizers[i];\n        }\n      }\n      return null;\n    },\n    /**\n     * add a recognizer to the manager\n     * existing recognizers with the same event name will be removed\n     * @param {Recognizer} recognizer\n     * @returns {Recognizer|Manager}\n     */\n    add: function (recognizer) {\n      if (invokeArrayArg(recognizer, 'add', this)) {\n        return this;\n      }\n\n      // remove existing\n      var existing = this.get(recognizer.options.event);\n      if (existing) {\n        this.remove(existing);\n      }\n      this.recognizers.push(recognizer);\n      recognizer.manager = this;\n      this.touchAction.update();\n      return recognizer;\n    },\n    /**\n     * remove a recognizer by name or instance\n     * @param {Recognizer|String} recognizer\n     * @returns {Manager}\n     */\n    remove: function (recognizer) {\n      if (invokeArrayArg(recognizer, 'remove', this)) {\n        return this;\n      }\n      recognizer = this.get(recognizer);\n\n      // let's make sure this recognizer exists\n      if (recognizer) {\n        var recognizers = this.recognizers;\n        var index = inArray(recognizers, recognizer);\n        if (index !== -1) {\n          recognizers.splice(index, 1);\n          this.touchAction.update();\n        }\n      }\n      return this;\n    },\n    /**\n     * bind event\n     * @param {String} events\n     * @param {Function} handler\n     * @returns {EventEmitter} this\n     */\n    on: function (events, handler) {\n      if (events === undefined) {\n        return;\n      }\n      if (handler === undefined) {\n        return;\n      }\n      var handlers = this.handlers;\n      each(splitStr(events), function (event) {\n        handlers[event] = handlers[event] || [];\n        handlers[event].push(handler);\n      });\n      return this;\n    },\n    /**\n     * unbind event, leave emit blank to remove all handlers\n     * @param {String} events\n     * @param {Function} [handler]\n     * @returns {EventEmitter} this\n     */\n    off: function (events, handler) {\n      if (events === undefined) {\n        return;\n      }\n      var handlers = this.handlers;\n      each(splitStr(events), function (event) {\n        if (!handler) {\n          delete handlers[event];\n        } else {\n          handlers[event] && handlers[event].splice(inArray(handlers[event], handler), 1);\n        }\n      });\n      return this;\n    },\n    /**\n     * emit event to the listeners\n     * @param {String} event\n     * @param {Object} data\n     */\n    emit: function (event, data) {\n      // we also want to trigger dom events\n      if (this.options.domEvents) {\n        triggerDomEvent(event, data);\n      }\n\n      // no handlers, so skip it all\n      var handlers = this.handlers[event] && this.handlers[event].slice();\n      if (!handlers || !handlers.length) {\n        return;\n      }\n      data.type = event;\n      data.preventDefault = function () {\n        data.srcEvent.preventDefault();\n      };\n      var i = 0;\n      while (i < handlers.length) {\n        handlers[i](data);\n        i++;\n      }\n    },\n    /**\n     * destroy the manager and unbinds all events\n     * it doesn't unbind dom events, that is the user own responsibility\n     */\n    destroy: function () {\n      this.element && toggleCssProps(this, false);\n      this.handlers = {};\n      this.session = {};\n      this.input.destroy();\n      this.element = null;\n    }\n  };\n\n  /**\n   * add/remove the css properties as defined in manager.options.cssProps\n   * @param {Manager} manager\n   * @param {Boolean} add\n   */\n  function toggleCssProps(manager, add) {\n    var element = manager.element;\n    if (!element.style) {\n      return;\n    }\n    var prop;\n    each(manager.options.cssProps, function (value, name) {\n      prop = prefixed(element.style, name);\n      if (add) {\n        manager.oldCssProps[prop] = element.style[prop];\n        element.style[prop] = value;\n      } else {\n        element.style[prop] = manager.oldCssProps[prop] || '';\n      }\n    });\n    if (!add) {\n      manager.oldCssProps = {};\n    }\n  }\n\n  /**\n   * trigger dom event\n   * @param {String} event\n   * @param {Object} data\n   */\n  function triggerDomEvent(event, data) {\n    var gestureEvent = document.createEvent('Event');\n    gestureEvent.initEvent(event, true, true);\n    gestureEvent.gesture = data;\n    data.target.dispatchEvent(gestureEvent);\n  }\n  assign(Hammer, {\n    INPUT_START: INPUT_START,\n    INPUT_MOVE: INPUT_MOVE,\n    INPUT_END: INPUT_END,\n    INPUT_CANCEL: INPUT_CANCEL,\n    STATE_POSSIBLE: STATE_POSSIBLE,\n    STATE_BEGAN: STATE_BEGAN,\n    STATE_CHANGED: STATE_CHANGED,\n    STATE_ENDED: STATE_ENDED,\n    STATE_RECOGNIZED: STATE_RECOGNIZED,\n    STATE_CANCELLED: STATE_CANCELLED,\n    STATE_FAILED: STATE_FAILED,\n    DIRECTION_NONE: DIRECTION_NONE,\n    DIRECTION_LEFT: DIRECTION_LEFT,\n    DIRECTION_RIGHT: DIRECTION_RIGHT,\n    DIRECTION_UP: DIRECTION_UP,\n    DIRECTION_DOWN: DIRECTION_DOWN,\n    DIRECTION_HORIZONTAL: DIRECTION_HORIZONTAL,\n    DIRECTION_VERTICAL: DIRECTION_VERTICAL,\n    DIRECTION_ALL: DIRECTION_ALL,\n    Manager: Manager,\n    Input: Input,\n    TouchAction: TouchAction,\n    TouchInput: TouchInput,\n    MouseInput: MouseInput,\n    PointerEventInput: PointerEventInput,\n    TouchMouseInput: TouchMouseInput,\n    SingleTouchInput: SingleTouchInput,\n    Recognizer: Recognizer,\n    AttrRecognizer: AttrRecognizer,\n    Tap: TapRecognizer,\n    Pan: PanRecognizer,\n    Swipe: SwipeRecognizer,\n    Pinch: PinchRecognizer,\n    Rotate: RotateRecognizer,\n    Press: PressRecognizer,\n    on: addEventListeners,\n    off: removeEventListeners,\n    each: each,\n    merge: merge,\n    extend: extend,\n    assign: assign,\n    inherit: inherit,\n    bindFn: bindFn,\n    prefixed: prefixed\n  });\n\n  // this prevents errors when Hammer is loaded in the presence of an AMD\n  //  style loader but by script tag, not by the loader.\n  var freeGlobal = typeof window !== 'undefined' ? window : typeof self !== 'undefined' ? self : {}; // jshint ignore:line\n  freeGlobal.Hammer = Hammer;\n  if (typeof define === 'function' && define.amd) {\n    define(function () {\n      return Hammer;\n    });\n  } else if (typeof module != 'undefined' && module.exports) {\n    module.exports = Hammer;\n  } else {\n    window[exportName] = Hammer;\n  }\n})(window, document, 'Hammer');","/******************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\n/* global Reflect, Promise, SuppressedError, Symbol */\n\nvar extendStatics = function (d, b) {\n  extendStatics = Object.setPrototypeOf || {\n    __proto__: []\n  } instanceof Array && function (d, b) {\n    d.__proto__ = b;\n  } || function (d, b) {\n    for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n  };\n  return extendStatics(d, b);\n};\nexport function __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n  function __() {\n    this.constructor = d;\n  }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\nexport var __assign = function () {\n  __assign = Object.assign || function __assign(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nexport function __rest(s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n}\nexport function __decorate(decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\nexport function __param(paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n}\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n  function accept(f) {\n    if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\");\n    return f;\n  }\n  var kind = contextIn.kind,\n    key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n  var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n  var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n  var _,\n    done = false;\n  for (var i = decorators.length - 1; i >= 0; i--) {\n    var context = {};\n    for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\n    for (var p in contextIn.access) context.access[p] = contextIn.access[p];\n    context.addInitializer = function (f) {\n      if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\");\n      extraInitializers.push(accept(f || null));\n    };\n    var result = (0, decorators[i])(kind === \"accessor\" ? {\n      get: descriptor.get,\n      set: descriptor.set\n    } : descriptor[key], context);\n    if (kind === \"accessor\") {\n      if (result === void 0) continue;\n      if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n      if (_ = accept(result.get)) descriptor.get = _;\n      if (_ = accept(result.set)) descriptor.set = _;\n      if (_ = accept(result.init)) initializers.unshift(_);\n    } else if (_ = accept(result)) {\n      if (kind === \"field\") initializers.unshift(_);else descriptor[key] = _;\n    }\n  }\n  if (target) Object.defineProperty(target, contextIn.name, descriptor);\n  done = true;\n}\n;\nexport function __runInitializers(thisArg, initializers, value) {\n  var useValue = arguments.length > 2;\n  for (var i = 0; i < initializers.length; i++) {\n    value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n  }\n  return useValue ? value : void 0;\n}\n;\nexport function __propKey(x) {\n  return typeof x === \"symbol\" ? x : \"\".concat(x);\n}\n;\nexport function __setFunctionName(f, name, prefix) {\n  if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\n  return Object.defineProperty(f, \"name\", {\n    configurable: true,\n    value: prefix ? \"\".concat(prefix, \" \", name) : name\n  });\n}\n;\nexport function __metadata(metadataKey, metadataValue) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\nexport function __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\nexport function __generator(thisArg, body) {\n  var _ = {\n      label: 0,\n      sent: function () {\n        if (t[0] & 1) throw t[1];\n        return t[1];\n      },\n      trys: [],\n      ops: []\n    },\n    f,\n    y,\n    t,\n    g;\n  return g = {\n    next: verb(0),\n    \"throw\": verb(1),\n    \"return\": verb(2)\n  }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function () {\n    return this;\n  }), g;\n  function verb(n) {\n    return function (v) {\n      return step([n, v]);\n    };\n  }\n  function step(op) {\n    if (f) throw new TypeError(\"Generator is already executing.\");\n    while (g && (g = 0, op[0] && (_ = 0)), _) try {\n      if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n      if (y = 0, t) op = [op[0] & 2, t.value];\n      switch (op[0]) {\n        case 0:\n        case 1:\n          t = op;\n          break;\n        case 4:\n          _.label++;\n          return {\n            value: op[1],\n            done: false\n          };\n        case 5:\n          _.label++;\n          y = op[1];\n          op = [0];\n          continue;\n        case 7:\n          op = _.ops.pop();\n          _.trys.pop();\n          continue;\n        default:\n          if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {\n            _ = 0;\n            continue;\n          }\n          if (op[0] === 3 && (!t || op[1] > t[0] && op[1] < t[3])) {\n            _.label = op[1];\n            break;\n          }\n          if (op[0] === 6 && _.label < t[1]) {\n            _.label = t[1];\n            t = op;\n            break;\n          }\n          if (t && _.label < t[2]) {\n            _.label = t[2];\n            _.ops.push(op);\n            break;\n          }\n          if (t[2]) _.ops.pop();\n          _.trys.pop();\n          continue;\n      }\n      op = body.call(thisArg, _);\n    } catch (e) {\n      op = [6, e];\n      y = 0;\n    } finally {\n      f = t = 0;\n    }\n    if (op[0] & 5) throw op[1];\n    return {\n      value: op[0] ? op[1] : void 0,\n      done: true\n    };\n  }\n}\nexport var __createBinding = Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n    desc = {\n      enumerable: true,\n      get: function () {\n        return m[k];\n      }\n    };\n  }\n  Object.defineProperty(o, k2, desc);\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n};\nexport function __exportStar(m, o) {\n  for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\n}\nexport function __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator,\n    m = s && o[s],\n    i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n    next: function () {\n      if (o && i >= o.length) o = void 0;\n      return {\n        value: o && o[i++],\n        done: !o\n      };\n    }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\nexport function __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o),\n    r,\n    ar = [],\n    e;\n  try {\n    while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  } catch (error) {\n    e = {\n      error: error\n    };\n  } finally {\n    try {\n      if (r && !r.done && (m = i[\"return\"])) m.call(i);\n    } finally {\n      if (e) throw e.error;\n    }\n  }\n  return ar;\n}\n\n/** @deprecated */\nexport function __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++) ar = ar.concat(__read(arguments[i]));\n  return ar;\n}\n\n/** @deprecated */\nexport function __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) r[k] = a[j];\n  return r;\n}\nexport function __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\nexport function __await(v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\nexport function __asyncGenerator(thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []),\n    i,\n    q = [];\n  return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\", awaitReturn), i[Symbol.asyncIterator] = function () {\n    return this;\n  }, i;\n  function awaitReturn(f) {\n    return function (v) {\n      return Promise.resolve(v).then(f, reject);\n    };\n  }\n  function verb(n, f) {\n    if (g[n]) {\n      i[n] = function (v) {\n        return new Promise(function (a, b) {\n          q.push([n, v, a, b]) > 1 || resume(n, v);\n        });\n      };\n      if (f) i[n] = f(i[n]);\n    }\n  }\n  function resume(n, v) {\n    try {\n      step(g[n](v));\n    } catch (e) {\n      settle(q[0][3], e);\n    }\n  }\n  function step(r) {\n    r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r);\n  }\n  function fulfill(value) {\n    resume(\"next\", value);\n  }\n  function reject(value) {\n    resume(\"throw\", value);\n  }\n  function settle(f, v) {\n    if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]);\n  }\n}\nexport function __asyncDelegator(o) {\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function (e) {\n    throw e;\n  }), verb(\"return\"), i[Symbol.iterator] = function () {\n    return this;\n  }, i;\n  function verb(n, f) {\n    i[n] = o[n] ? function (v) {\n      return (p = !p) ? {\n        value: __await(o[n](v)),\n        done: false\n      } : f ? f(v) : v;\n    } : f;\n  }\n}\nexport function __asyncValues(o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator],\n    i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () {\n    return this;\n  }, i);\n  function verb(n) {\n    i[n] = o[n] && function (v) {\n      return new Promise(function (resolve, reject) {\n        v = o[n](v), settle(resolve, reject, v.done, v.value);\n      });\n    };\n  }\n  function settle(resolve, reject, d, v) {\n    Promise.resolve(v).then(function (v) {\n      resolve({\n        value: v,\n        done: d\n      });\n    }, reject);\n  }\n}\nexport function __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n  return cooked;\n}\n;\nvar __setModuleDefault = Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n};\nexport function __importStar(mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n}\nexport function __importDefault(mod) {\n  return mod && mod.__esModule ? mod : {\n    default: mod\n  };\n}\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n}\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value), value;\n}\nexport function __classPrivateFieldIn(state, receiver) {\n  if (receiver === null || typeof receiver !== \"object\" && typeof receiver !== \"function\") throw new TypeError(\"Cannot use 'in' operator on non-object\");\n  return typeof state === \"function\" ? receiver === state : state.has(receiver);\n}\nexport function __addDisposableResource(env, value, async) {\n  if (value !== null && value !== void 0) {\n    if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\n    var dispose, inner;\n    if (async) {\n      if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\n      dispose = value[Symbol.asyncDispose];\n    }\n    if (dispose === void 0) {\n      if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\n      dispose = value[Symbol.dispose];\n      if (async) inner = dispose;\n    }\n    if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\n    if (inner) dispose = function () {\n      try {\n        inner.call(this);\n      } catch (e) {\n        return Promise.reject(e);\n      }\n    };\n    env.stack.push({\n      value: value,\n      dispose: dispose,\n      async: async\n    });\n  } else if (async) {\n    env.stack.push({\n      async: true\n    });\n  }\n  return value;\n}\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\n  var e = new Error(message);\n  return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n};\nexport function __disposeResources(env) {\n  function fail(e) {\n    env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\n    env.hasError = true;\n  }\n  function next() {\n    while (env.stack.length) {\n      var rec = env.stack.pop();\n      try {\n        var result = rec.dispose && rec.dispose.call(rec.value);\n        if (rec.async) return Promise.resolve(result).then(next, function (e) {\n          fail(e);\n          return next();\n        });\n      } catch (e) {\n        fail(e);\n      }\n    }\n    if (env.hasError) throw env.error;\n  }\n  return next();\n}\nexport default {\n  __extends,\n  __assign,\n  __rest,\n  __decorate,\n  __param,\n  __metadata,\n  __awaiter,\n  __generator,\n  __createBinding,\n  __exportStar,\n  __values,\n  __read,\n  __spread,\n  __spreadArrays,\n  __spreadArray,\n  __await,\n  __asyncGenerator,\n  __asyncDelegator,\n  __asyncValues,\n  __makeTemplateObject,\n  __importStar,\n  __importDefault,\n  __classPrivateFieldGet,\n  __classPrivateFieldSet,\n  __classPrivateFieldIn,\n  __addDisposableResource,\n  __disposeResources\n};","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst tslib_1 = require(\"tslib\");\nconst isEqual_1 = tslib_1.__importDefault(require(\"lodash/isEqual\"));\nconst merge_1 = tslib_1.__importDefault(require(\"lodash/merge\"));\nconst react_1 = tslib_1.__importDefault(require(\"react\"));\n/** 使用React包装的Valine评论组件 */\nclass Valine extends react_1.default.PureComponent {\n    constructor(props) {\n        super(props);\n        this._containerRef = react_1.default.createRef();\n    }\n    async componentDidMount() {\n        if (this._checkAvailability()) {\n            await this._makeValine();\n        }\n    }\n    async componentDidUpdate(prevProps) {\n        if (isEqual_1.default(this.props, prevProps)) {\n            return;\n        }\n        if (this._checkAvailability()) {\n            await this._makeValine();\n        }\n    }\n    render() {\n        return react_1.default.createElement(\"div\", Object.assign({ ref: this._containerRef }, this.props));\n    }\n    _checkAvailability() {\n        return typeof window !== 'undefined' && !!this._containerRef.current;\n    }\n    async _makeValine() {\n        const RealValine = await (await Promise.resolve().then(() => tslib_1.__importStar(require('valine')))).default;\n        const localOptions = this.props;\n        const globalOptions = window.valineOptions;\n        const options = merge_1.default({}, globalOptions, localOptions);\n        delete options.el;\n        new RealValine({\n            ...options,\n            el: this._containerRef.current,\n        });\n        window.valineOptions;\n    }\n}\nexports.default = Valine;\n","function _extends() {\n  return _extends = Object.assign ? Object.assign.bind() : function (n) {\n    for (var e = 1; e < arguments.length; e++) {\n      var t = arguments[e];\n      for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]);\n    }\n    return n;\n  }, _extends.apply(null, arguments);\n}\nexport { _extends as default };","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\nexport { _typeof as default };","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nexport { toPropertyKey as default };","import _typeof from \"./typeof.js\";\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nexport { toPrimitive as default };","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperty(e, r, t) {\n  return (r = toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nexport { _defineProperty as default };","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nfunction _slicedToArray(r, e) {\n  return arrayWithHoles(r) || iterableToArrayLimit(r, e) || unsupportedIterableToArray(r, e) || nonIterableRest();\n}\nexport { _slicedToArray as default };","function _arrayWithHoles(r) {\n  if (Array.isArray(r)) return r;\n}\nexport { _arrayWithHoles as default };","function _iterableToArrayLimit(r, l) {\n  var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (null != t) {\n    var e,\n      n,\n      i,\n      u,\n      a = [],\n      f = !0,\n      o = !1;\n    try {\n      if (i = (t = t.call(r)).next, 0 === l) {\n        if (Object(t) !== t) return;\n        f = !1;\n      } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0);\n    } catch (r) {\n      o = !0, n = r;\n    } finally {\n      try {\n        if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return;\n      } finally {\n        if (o) throw n;\n      }\n    }\n    return a;\n  }\n}\nexport { _iterableToArrayLimit as default };","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nexport { _nonIterableRest as default };","function _classCallCheck(a, n) {\n  if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\");\n}\nexport { _classCallCheck as default };","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperties(e, r) {\n  for (var t = 0; t < r.length; t++) {\n    var o = r[t];\n    o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, toPropertyKey(o.key), o);\n  }\n}\nfunction _createClass(e, r, t) {\n  return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", {\n    writable: !1\n  }), e;\n}\nexport { _createClass as default };","/**\r\n * Common utilities\r\n * @module glMatrix\r\n */\n// Configuration Constants\nexport var EPSILON = 0.000001;\nexport var ARRAY_TYPE = typeof Float32Array !== 'undefined' ? Float32Array : Array;\nexport var RANDOM = Math.random;\n/**\r\n * Sets the type of array used when creating new vectors and matrices\r\n *\r\n * @param {Float32ArrayConstructor | ArrayConstructor} type Array type, such as Float32Array or Array\r\n */\n\nexport function setMatrixArrayType(type) {\n  ARRAY_TYPE = type;\n}\nvar degree = Math.PI / 180;\n/**\r\n * Convert Degree To Radian\r\n *\r\n * @param {Number} a Angle in Degrees\r\n */\n\nexport function toRadian(a) {\n  return a * degree;\n}\n/**\r\n * Tests whether or not the arguments have approximately the same value, within an absolute\r\n * or relative tolerance of glMatrix.EPSILON (an absolute tolerance is used for values less\r\n * than or equal to 1.0, and a relative tolerance is used for larger values)\r\n *\r\n * @param {Number} a The first number to test.\r\n * @param {Number} b The second number to test.\r\n * @returns {Boolean} True if the numbers are approximately equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  return Math.abs(a - b) <= EPSILON * Math.max(1.0, Math.abs(a), Math.abs(b));\n}\nif (!Math.hypot) Math.hypot = function () {\n  var y = 0,\n    i = arguments.length;\n  while (i--) {\n    y += arguments[i] * arguments[i];\n  }\n  return Math.sqrt(y);\n};","import * as glMatrix from \"./common.js\";\n/**\r\n * 4 Dimensional Vector\r\n * @module vec4\r\n */\n\n/**\r\n * Creates a new, empty vec4\r\n *\r\n * @returns {vec4} a new 4D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n  }\n  return out;\n}\n/**\r\n * Creates a new vec4 initialized with values from an existing vector\r\n *\r\n * @param {ReadonlyVec4} a vector to clone\r\n * @returns {vec4} a new 4D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Creates a new vec4 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {vec4} a new 4D vector\r\n */\n\nexport function fromValues(x, y, z, w) {\n  var out = new glMatrix.ARRAY_TYPE(4);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\r\n * Copy the values from one vec4 to another\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the source vector\r\n * @returns {vec4} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Set the components of a vec4 to the given values\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @param {Number} w W component\r\n * @returns {vec4} out\r\n */\n\nexport function set(out, x, y, z, w) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  out[3] = w;\n  return out;\n}\n/**\r\n * Adds two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  return out;\n}\n/**\r\n * Multiplies two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  out[3] = a[3] * b[3];\n  return out;\n}\n/**\r\n * Divides two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  out[3] = a[3] / b[3];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to ceil\r\n * @returns {vec4} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  out[3] = Math.ceil(a[3]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to floor\r\n * @returns {vec4} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  out[3] = Math.floor(a[3]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  out[3] = Math.min(a[3], b[3]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {vec4} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  out[3] = Math.max(a[3], b[3]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to round\r\n * @returns {vec4} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  out[3] = Math.round(a[3]);\n  return out;\n}\n/**\r\n * Scales a vec4 by a scalar number\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec4} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  return out;\n}\n/**\r\n * Adds two vec4's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec4} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec4's\r\n *\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec4's\r\n *\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  var w = b[3] - a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\r\n * Calculates the length of a vec4\r\n *\r\n * @param {ReadonlyVec4} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return Math.hypot(x, y, z, w);\n}\n/**\r\n * Calculates the squared length of a vec4\r\n *\r\n * @param {ReadonlyVec4} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  return x * x + y * y + z * z + w * w;\n}\n/**\r\n * Negates the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to negate\r\n * @returns {vec4} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  out[3] = -a[3];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to invert\r\n * @returns {vec4} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  out[3] = 1.0 / a[3];\n  return out;\n}\n/**\r\n * Normalize a vec4\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a vector to normalize\r\n * @returns {vec4} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var w = a[3];\n  var len = x * x + y * y + z * z + w * w;\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n  }\n  out[0] = x * len;\n  out[1] = y * len;\n  out[2] = z * len;\n  out[3] = w * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec4's\r\n *\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2] + a[3] * b[3];\n}\n/**\r\n * Returns the cross-product of three vectors in a 4-dimensional space\r\n *\r\n * @param {ReadonlyVec4} result the receiving vector\r\n * @param {ReadonlyVec4} U the first vector\r\n * @param {ReadonlyVec4} V the second vector\r\n * @param {ReadonlyVec4} W the third vector\r\n * @returns {vec4} result\r\n */\n\nexport function cross(out, u, v, w) {\n  var A = v[0] * w[1] - v[1] * w[0],\n    B = v[0] * w[2] - v[2] * w[0],\n    C = v[0] * w[3] - v[3] * w[0],\n    D = v[1] * w[2] - v[2] * w[1],\n    E = v[1] * w[3] - v[3] * w[1],\n    F = v[2] * w[3] - v[3] * w[2];\n  var G = u[0];\n  var H = u[1];\n  var I = u[2];\n  var J = u[3];\n  out[0] = H * F - I * E + J * D;\n  out[1] = -(G * F) + I * C - J * B;\n  out[2] = G * E - H * C + J * A;\n  out[3] = -(G * D) + H * B - I * A;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec4's\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the first operand\r\n * @param {ReadonlyVec4} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec4} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  var aw = a[3];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  out[3] = aw + t * (b[3] - aw);\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec4} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0; // Marsaglia, George. Choosing a Point from the Surface of a\n  // Sphere. Ann. Math. Statist. 43 (1972), no. 2, 645--646.\n  // http://projecteuclid.org/euclid.aoms/1177692644;\n\n  var v1, v2, v3, v4;\n  var s1, s2;\n  do {\n    v1 = glMatrix.RANDOM() * 2 - 1;\n    v2 = glMatrix.RANDOM() * 2 - 1;\n    s1 = v1 * v1 + v2 * v2;\n  } while (s1 >= 1);\n  do {\n    v3 = glMatrix.RANDOM() * 2 - 1;\n    v4 = glMatrix.RANDOM() * 2 - 1;\n    s2 = v3 * v3 + v4 * v4;\n  } while (s2 >= 1);\n  var d = Math.sqrt((1 - s1) / s2);\n  out[0] = scale * v1;\n  out[1] = scale * v2;\n  out[2] = scale * v3 * d;\n  out[3] = scale * v4 * d;\n  return out;\n}\n/**\r\n * Transforms the vec4 with a mat4.\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the vector to transform\r\n * @param {ReadonlyMat4} m matrix to transform with\r\n * @returns {vec4} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n    y = a[1],\n    z = a[2],\n    w = a[3];\n  out[0] = m[0] * x + m[4] * y + m[8] * z + m[12] * w;\n  out[1] = m[1] * x + m[5] * y + m[9] * z + m[13] * w;\n  out[2] = m[2] * x + m[6] * y + m[10] * z + m[14] * w;\n  out[3] = m[3] * x + m[7] * y + m[11] * z + m[15] * w;\n  return out;\n}\n/**\r\n * Transforms the vec4 with a quat\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @param {ReadonlyVec4} a the vector to transform\r\n * @param {ReadonlyQuat} q quaternion to transform with\r\n * @returns {vec4} out\r\n */\n\nexport function transformQuat(out, a, q) {\n  var x = a[0],\n    y = a[1],\n    z = a[2];\n  var qx = q[0],\n    qy = q[1],\n    qz = q[2],\n    qw = q[3]; // calculate quat * vec\n\n  var ix = qw * x + qy * z - qz * y;\n  var iy = qw * y + qz * x - qx * z;\n  var iz = qw * z + qx * y - qy * x;\n  var iw = -qx * x - qy * y - qz * z; // calculate result * inverse quat\n\n  out[0] = ix * qw + iw * -qx + iy * -qz - iz * -qy;\n  out[1] = iy * qw + iw * -qy + iz * -qx - ix * -qz;\n  out[2] = iz * qw + iw * -qz + ix * -qy - iy * -qx;\n  out[3] = a[3];\n  return out;\n}\n/**\r\n * Set the components of a vec4 to zero\r\n *\r\n * @param {vec4} out the receiving vector\r\n * @returns {vec4} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {ReadonlyVec4} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return \"vec4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \")\";\n}\n/**\r\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyVec4} a The first vector.\r\n * @param {ReadonlyVec4} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyVec4} a The first vector.\r\n * @param {ReadonlyVec4} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n    a1 = a[1],\n    a2 = a[2],\n    a3 = a[3];\n  var b0 = b[0],\n    b1 = b[1],\n    b2 = b[2],\n    b3 = b[3];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3));\n}\n/**\r\n * Alias for {@link vec4.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec4.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec4.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec4.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec4.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec4.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec4.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec4s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec4. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec4s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n    if (!stride) {\n      stride = 4;\n    }\n    if (!offset) {\n      offset = 0;\n    }\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      vec[3] = a[i + 3];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n      a[i + 3] = vec[3];\n    }\n    return a;\n  };\n}();","import * as vec4 from 'gl-matrix/vec4';\nexport function createMat4() {\n  return [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n}\nexport function transformVector(matrix, vector) {\n  var result = vec4.transformMat4([], vector, matrix);\n  vec4.scale(result, result, 1 / result[3]);\n  return result;\n}\nexport function mod(value, divisor) {\n  var modulus = value % divisor;\n  return modulus < 0 ? divisor + modulus : modulus;\n}\nexport function lerp(start, end, step) {\n  return step * end + (1 - step) * start;\n}","import * as glMatrix from \"./common.js\";\n/**\r\n * 4x4 Matrix<br>Format: column-major, when typed out it looks like row-major<br>The matrices are being post multiplied.\r\n * @module mat4\r\n */\n\n/**\r\n * Creates a new identity mat4\r\n *\r\n * @returns {mat4} a new 4x4 matrix\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[1] = 0;\n    out[2] = 0;\n    out[3] = 0;\n    out[4] = 0;\n    out[6] = 0;\n    out[7] = 0;\n    out[8] = 0;\n    out[9] = 0;\n    out[11] = 0;\n    out[12] = 0;\n    out[13] = 0;\n    out[14] = 0;\n  }\n  out[0] = 1;\n  out[5] = 1;\n  out[10] = 1;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a new mat4 initialized with values from an existing matrix\r\n *\r\n * @param {ReadonlyMat4} a matrix to clone\r\n * @returns {mat4} a new 4x4 matrix\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Copy the values from one mat4 to another\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4];\n  out[5] = a[5];\n  out[6] = a[6];\n  out[7] = a[7];\n  out[8] = a[8];\n  out[9] = a[9];\n  out[10] = a[10];\n  out[11] = a[11];\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Create a new mat4 with the given values\r\n *\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\r\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\r\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\r\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\r\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\r\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\r\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\r\n * @returns {mat4} A new mat4\r\n */\n\nexport function fromValues(m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  var out = new glMatrix.ARRAY_TYPE(16);\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\r\n * Set the components of a mat4 to the given values\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {Number} m00 Component in column 0, row 0 position (index 0)\r\n * @param {Number} m01 Component in column 0, row 1 position (index 1)\r\n * @param {Number} m02 Component in column 0, row 2 position (index 2)\r\n * @param {Number} m03 Component in column 0, row 3 position (index 3)\r\n * @param {Number} m10 Component in column 1, row 0 position (index 4)\r\n * @param {Number} m11 Component in column 1, row 1 position (index 5)\r\n * @param {Number} m12 Component in column 1, row 2 position (index 6)\r\n * @param {Number} m13 Component in column 1, row 3 position (index 7)\r\n * @param {Number} m20 Component in column 2, row 0 position (index 8)\r\n * @param {Number} m21 Component in column 2, row 1 position (index 9)\r\n * @param {Number} m22 Component in column 2, row 2 position (index 10)\r\n * @param {Number} m23 Component in column 2, row 3 position (index 11)\r\n * @param {Number} m30 Component in column 3, row 0 position (index 12)\r\n * @param {Number} m31 Component in column 3, row 1 position (index 13)\r\n * @param {Number} m32 Component in column 3, row 2 position (index 14)\r\n * @param {Number} m33 Component in column 3, row 3 position (index 15)\r\n * @returns {mat4} out\r\n */\n\nexport function set(out, m00, m01, m02, m03, m10, m11, m12, m13, m20, m21, m22, m23, m30, m31, m32, m33) {\n  out[0] = m00;\n  out[1] = m01;\n  out[2] = m02;\n  out[3] = m03;\n  out[4] = m10;\n  out[5] = m11;\n  out[6] = m12;\n  out[7] = m13;\n  out[8] = m20;\n  out[9] = m21;\n  out[10] = m22;\n  out[11] = m23;\n  out[12] = m30;\n  out[13] = m31;\n  out[14] = m32;\n  out[15] = m33;\n  return out;\n}\n/**\r\n * Set a mat4 to the identity matrix\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @returns {mat4} out\r\n */\n\nexport function identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Transpose the values of a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function transpose(out, a) {\n  // If we are transposing ourselves we can skip a few steps but have to cache some values\n  if (out === a) {\n    var a01 = a[1],\n      a02 = a[2],\n      a03 = a[3];\n    var a12 = a[6],\n      a13 = a[7];\n    var a23 = a[11];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a01;\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a02;\n    out[9] = a12;\n    out[11] = a[14];\n    out[12] = a03;\n    out[13] = a13;\n    out[14] = a23;\n  } else {\n    out[0] = a[0];\n    out[1] = a[4];\n    out[2] = a[8];\n    out[3] = a[12];\n    out[4] = a[1];\n    out[5] = a[5];\n    out[6] = a[9];\n    out[7] = a[13];\n    out[8] = a[2];\n    out[9] = a[6];\n    out[10] = a[10];\n    out[11] = a[14];\n    out[12] = a[3];\n    out[13] = a[7];\n    out[14] = a[11];\n    out[15] = a[15];\n  }\n  return out;\n}\n/**\r\n * Inverts a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function invert(out, a) {\n  var a00 = a[0],\n    a01 = a[1],\n    a02 = a[2],\n    a03 = a[3];\n  var a10 = a[4],\n    a11 = a[5],\n    a12 = a[6],\n    a13 = a[7];\n  var a20 = a[8],\n    a21 = a[9],\n    a22 = a[10],\n    a23 = a[11];\n  var a30 = a[12],\n    a31 = a[13],\n    a32 = a[14],\n    a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  var det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n  if (!det) {\n    return null;\n  }\n  det = 1.0 / det;\n  out[0] = (a11 * b11 - a12 * b10 + a13 * b09) * det;\n  out[1] = (a02 * b10 - a01 * b11 - a03 * b09) * det;\n  out[2] = (a31 * b05 - a32 * b04 + a33 * b03) * det;\n  out[3] = (a22 * b04 - a21 * b05 - a23 * b03) * det;\n  out[4] = (a12 * b08 - a10 * b11 - a13 * b07) * det;\n  out[5] = (a00 * b11 - a02 * b08 + a03 * b07) * det;\n  out[6] = (a32 * b02 - a30 * b05 - a33 * b01) * det;\n  out[7] = (a20 * b05 - a22 * b02 + a23 * b01) * det;\n  out[8] = (a10 * b10 - a11 * b08 + a13 * b06) * det;\n  out[9] = (a01 * b08 - a00 * b10 - a03 * b06) * det;\n  out[10] = (a30 * b04 - a31 * b02 + a33 * b00) * det;\n  out[11] = (a21 * b02 - a20 * b04 - a23 * b00) * det;\n  out[12] = (a11 * b07 - a10 * b09 - a12 * b06) * det;\n  out[13] = (a00 * b09 - a01 * b07 + a02 * b06) * det;\n  out[14] = (a31 * b01 - a30 * b03 - a32 * b00) * det;\n  out[15] = (a20 * b03 - a21 * b01 + a22 * b00) * det;\n  return out;\n}\n/**\r\n * Calculates the adjugate of a mat4\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {mat4} out\r\n */\n\nexport function adjoint(out, a) {\n  var a00 = a[0],\n    a01 = a[1],\n    a02 = a[2],\n    a03 = a[3];\n  var a10 = a[4],\n    a11 = a[5],\n    a12 = a[6],\n    a13 = a[7];\n  var a20 = a[8],\n    a21 = a[9],\n    a22 = a[10],\n    a23 = a[11];\n  var a30 = a[12],\n    a31 = a[13],\n    a32 = a[14],\n    a33 = a[15];\n  out[0] = a11 * (a22 * a33 - a23 * a32) - a21 * (a12 * a33 - a13 * a32) + a31 * (a12 * a23 - a13 * a22);\n  out[1] = -(a01 * (a22 * a33 - a23 * a32) - a21 * (a02 * a33 - a03 * a32) + a31 * (a02 * a23 - a03 * a22));\n  out[2] = a01 * (a12 * a33 - a13 * a32) - a11 * (a02 * a33 - a03 * a32) + a31 * (a02 * a13 - a03 * a12);\n  out[3] = -(a01 * (a12 * a23 - a13 * a22) - a11 * (a02 * a23 - a03 * a22) + a21 * (a02 * a13 - a03 * a12));\n  out[4] = -(a10 * (a22 * a33 - a23 * a32) - a20 * (a12 * a33 - a13 * a32) + a30 * (a12 * a23 - a13 * a22));\n  out[5] = a00 * (a22 * a33 - a23 * a32) - a20 * (a02 * a33 - a03 * a32) + a30 * (a02 * a23 - a03 * a22);\n  out[6] = -(a00 * (a12 * a33 - a13 * a32) - a10 * (a02 * a33 - a03 * a32) + a30 * (a02 * a13 - a03 * a12));\n  out[7] = a00 * (a12 * a23 - a13 * a22) - a10 * (a02 * a23 - a03 * a22) + a20 * (a02 * a13 - a03 * a12);\n  out[8] = a10 * (a21 * a33 - a23 * a31) - a20 * (a11 * a33 - a13 * a31) + a30 * (a11 * a23 - a13 * a21);\n  out[9] = -(a00 * (a21 * a33 - a23 * a31) - a20 * (a01 * a33 - a03 * a31) + a30 * (a01 * a23 - a03 * a21));\n  out[10] = a00 * (a11 * a33 - a13 * a31) - a10 * (a01 * a33 - a03 * a31) + a30 * (a01 * a13 - a03 * a11);\n  out[11] = -(a00 * (a11 * a23 - a13 * a21) - a10 * (a01 * a23 - a03 * a21) + a20 * (a01 * a13 - a03 * a11));\n  out[12] = -(a10 * (a21 * a32 - a22 * a31) - a20 * (a11 * a32 - a12 * a31) + a30 * (a11 * a22 - a12 * a21));\n  out[13] = a00 * (a21 * a32 - a22 * a31) - a20 * (a01 * a32 - a02 * a31) + a30 * (a01 * a22 - a02 * a21);\n  out[14] = -(a00 * (a11 * a32 - a12 * a31) - a10 * (a01 * a32 - a02 * a31) + a30 * (a01 * a12 - a02 * a11));\n  out[15] = a00 * (a11 * a22 - a12 * a21) - a10 * (a01 * a22 - a02 * a21) + a20 * (a01 * a12 - a02 * a11);\n  return out;\n}\n/**\r\n * Calculates the determinant of a mat4\r\n *\r\n * @param {ReadonlyMat4} a the source matrix\r\n * @returns {Number} determinant of a\r\n */\n\nexport function determinant(a) {\n  var a00 = a[0],\n    a01 = a[1],\n    a02 = a[2],\n    a03 = a[3];\n  var a10 = a[4],\n    a11 = a[5],\n    a12 = a[6],\n    a13 = a[7];\n  var a20 = a[8],\n    a21 = a[9],\n    a22 = a[10],\n    a23 = a[11];\n  var a30 = a[12],\n    a31 = a[13],\n    a32 = a[14],\n    a33 = a[15];\n  var b00 = a00 * a11 - a01 * a10;\n  var b01 = a00 * a12 - a02 * a10;\n  var b02 = a00 * a13 - a03 * a10;\n  var b03 = a01 * a12 - a02 * a11;\n  var b04 = a01 * a13 - a03 * a11;\n  var b05 = a02 * a13 - a03 * a12;\n  var b06 = a20 * a31 - a21 * a30;\n  var b07 = a20 * a32 - a22 * a30;\n  var b08 = a20 * a33 - a23 * a30;\n  var b09 = a21 * a32 - a22 * a31;\n  var b10 = a21 * a33 - a23 * a31;\n  var b11 = a22 * a33 - a23 * a32; // Calculate the determinant\n\n  return b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n}\n/**\r\n * Multiplies two mat4s\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the first operand\r\n * @param {ReadonlyMat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nexport function multiply(out, a, b) {\n  var a00 = a[0],\n    a01 = a[1],\n    a02 = a[2],\n    a03 = a[3];\n  var a10 = a[4],\n    a11 = a[5],\n    a12 = a[6],\n    a13 = a[7];\n  var a20 = a[8],\n    a21 = a[9],\n    a22 = a[10],\n    a23 = a[11];\n  var a30 = a[12],\n    a31 = a[13],\n    a32 = a[14],\n    a33 = a[15]; // Cache only the current line of the second matrix\n\n  var b0 = b[0],\n    b1 = b[1],\n    b2 = b[2],\n    b3 = b[3];\n  out[0] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[1] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[2] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[3] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[4];\n  b1 = b[5];\n  b2 = b[6];\n  b3 = b[7];\n  out[4] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[5] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[6] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[7] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[8];\n  b1 = b[9];\n  b2 = b[10];\n  b3 = b[11];\n  out[8] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[9] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[10] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[11] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  b0 = b[12];\n  b1 = b[13];\n  b2 = b[14];\n  b3 = b[15];\n  out[12] = b0 * a00 + b1 * a10 + b2 * a20 + b3 * a30;\n  out[13] = b0 * a01 + b1 * a11 + b2 * a21 + b3 * a31;\n  out[14] = b0 * a02 + b1 * a12 + b2 * a22 + b3 * a32;\n  out[15] = b0 * a03 + b1 * a13 + b2 * a23 + b3 * a33;\n  return out;\n}\n/**\r\n * Translate a mat4 by the given vector\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to translate\r\n * @param {ReadonlyVec3} v vector to translate by\r\n * @returns {mat4} out\r\n */\n\nexport function translate(out, a, v) {\n  var x = v[0],\n    y = v[1],\n    z = v[2];\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n  if (a === out) {\n    out[12] = a[0] * x + a[4] * y + a[8] * z + a[12];\n    out[13] = a[1] * x + a[5] * y + a[9] * z + a[13];\n    out[14] = a[2] * x + a[6] * y + a[10] * z + a[14];\n    out[15] = a[3] * x + a[7] * y + a[11] * z + a[15];\n  } else {\n    a00 = a[0];\n    a01 = a[1];\n    a02 = a[2];\n    a03 = a[3];\n    a10 = a[4];\n    a11 = a[5];\n    a12 = a[6];\n    a13 = a[7];\n    a20 = a[8];\n    a21 = a[9];\n    a22 = a[10];\n    a23 = a[11];\n    out[0] = a00;\n    out[1] = a01;\n    out[2] = a02;\n    out[3] = a03;\n    out[4] = a10;\n    out[5] = a11;\n    out[6] = a12;\n    out[7] = a13;\n    out[8] = a20;\n    out[9] = a21;\n    out[10] = a22;\n    out[11] = a23;\n    out[12] = a00 * x + a10 * y + a20 * z + a[12];\n    out[13] = a01 * x + a11 * y + a21 * z + a[13];\n    out[14] = a02 * x + a12 * y + a22 * z + a[14];\n    out[15] = a03 * x + a13 * y + a23 * z + a[15];\n  }\n  return out;\n}\n/**\r\n * Scales the mat4 by the dimensions in the given vec3 not using vectorization\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to scale\r\n * @param {ReadonlyVec3} v the vec3 to scale the matrix by\r\n * @returns {mat4} out\r\n **/\n\nexport function scale(out, a, v) {\n  var x = v[0],\n    y = v[1],\n    z = v[2];\n  out[0] = a[0] * x;\n  out[1] = a[1] * x;\n  out[2] = a[2] * x;\n  out[3] = a[3] * x;\n  out[4] = a[4] * y;\n  out[5] = a[5] * y;\n  out[6] = a[6] * y;\n  out[7] = a[7] * y;\n  out[8] = a[8] * z;\n  out[9] = a[9] * z;\n  out[10] = a[10] * z;\n  out[11] = a[11] * z;\n  out[12] = a[12];\n  out[13] = a[13];\n  out[14] = a[14];\n  out[15] = a[15];\n  return out;\n}\n/**\r\n * Rotates a mat4 by the given angle around the given axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @param {ReadonlyVec3} axis the axis to rotate around\r\n * @returns {mat4} out\r\n */\n\nexport function rotate(out, a, rad, axis) {\n  var x = axis[0],\n    y = axis[1],\n    z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n  var a00, a01, a02, a03;\n  var a10, a11, a12, a13;\n  var a20, a21, a22, a23;\n  var b00, b01, b02;\n  var b10, b11, b12;\n  var b20, b21, b22;\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c;\n  a00 = a[0];\n  a01 = a[1];\n  a02 = a[2];\n  a03 = a[3];\n  a10 = a[4];\n  a11 = a[5];\n  a12 = a[6];\n  a13 = a[7];\n  a20 = a[8];\n  a21 = a[9];\n  a22 = a[10];\n  a23 = a[11]; // Construct the elements of the rotation matrix\n\n  b00 = x * x * t + c;\n  b01 = y * x * t + z * s;\n  b02 = z * x * t - y * s;\n  b10 = x * y * t - z * s;\n  b11 = y * y * t + c;\n  b12 = z * y * t + x * s;\n  b20 = x * z * t + y * s;\n  b21 = y * z * t - x * s;\n  b22 = z * z * t + c; // Perform rotation-specific matrix multiplication\n\n  out[0] = a00 * b00 + a10 * b01 + a20 * b02;\n  out[1] = a01 * b00 + a11 * b01 + a21 * b02;\n  out[2] = a02 * b00 + a12 * b01 + a22 * b02;\n  out[3] = a03 * b00 + a13 * b01 + a23 * b02;\n  out[4] = a00 * b10 + a10 * b11 + a20 * b12;\n  out[5] = a01 * b10 + a11 * b11 + a21 * b12;\n  out[6] = a02 * b10 + a12 * b11 + a22 * b12;\n  out[7] = a03 * b10 + a13 * b11 + a23 * b12;\n  out[8] = a00 * b20 + a10 * b21 + a20 * b22;\n  out[9] = a01 * b20 + a11 * b21 + a21 * b22;\n  out[10] = a02 * b20 + a12 * b21 + a22 * b22;\n  out[11] = a03 * b20 + a13 * b21 + a23 * b22;\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  }\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the X axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function rotateX(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[0] = a[0];\n    out[1] = a[1];\n    out[2] = a[2];\n    out[3] = a[3];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n  out[4] = a10 * c + a20 * s;\n  out[5] = a11 * c + a21 * s;\n  out[6] = a12 * c + a22 * s;\n  out[7] = a13 * c + a23 * s;\n  out[8] = a20 * c - a10 * s;\n  out[9] = a21 * c - a11 * s;\n  out[10] = a22 * c - a12 * s;\n  out[11] = a23 * c - a13 * s;\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the Y axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function rotateY(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a20 = a[8];\n  var a21 = a[9];\n  var a22 = a[10];\n  var a23 = a[11];\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged rows\n    out[4] = a[4];\n    out[5] = a[5];\n    out[6] = a[6];\n    out[7] = a[7];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n  out[0] = a00 * c - a20 * s;\n  out[1] = a01 * c - a21 * s;\n  out[2] = a02 * c - a22 * s;\n  out[3] = a03 * c - a23 * s;\n  out[8] = a00 * s + a20 * c;\n  out[9] = a01 * s + a21 * c;\n  out[10] = a02 * s + a22 * c;\n  out[11] = a03 * s + a23 * c;\n  return out;\n}\n/**\r\n * Rotates a matrix by the given angle around the Z axis\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to rotate\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function rotateZ(out, a, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad);\n  var a00 = a[0];\n  var a01 = a[1];\n  var a02 = a[2];\n  var a03 = a[3];\n  var a10 = a[4];\n  var a11 = a[5];\n  var a12 = a[6];\n  var a13 = a[7];\n  if (a !== out) {\n    // If the source and destination differ, copy the unchanged last row\n    out[8] = a[8];\n    out[9] = a[9];\n    out[10] = a[10];\n    out[11] = a[11];\n    out[12] = a[12];\n    out[13] = a[13];\n    out[14] = a[14];\n    out[15] = a[15];\n  } // Perform axis-specific matrix multiplication\n\n  out[0] = a00 * c + a10 * s;\n  out[1] = a01 * c + a11 * s;\n  out[2] = a02 * c + a12 * s;\n  out[3] = a03 * c + a13 * s;\n  out[4] = a10 * c - a00 * s;\n  out[5] = a11 * c - a01 * s;\n  out[6] = a12 * c - a02 * s;\n  out[7] = a13 * c - a03 * s;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, dest, vec);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {ReadonlyVec3} v Translation vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromTranslation(out, v) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a vector scaling\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.scale(dest, dest, vec);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {ReadonlyVec3} v Scaling vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromScaling(out, v) {\n  out[0] = v[0];\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = v[1];\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = v[2];\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a given angle around a given axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotate(dest, dest, rad, axis);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @param {ReadonlyVec3} axis the axis to rotate around\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotation(out, rad, axis) {\n  var x = axis[0],\n    y = axis[1],\n    z = axis[2];\n  var len = Math.hypot(x, y, z);\n  var s, c, t;\n  if (len < glMatrix.EPSILON) {\n    return null;\n  }\n  len = 1 / len;\n  x *= len;\n  y *= len;\n  z *= len;\n  s = Math.sin(rad);\n  c = Math.cos(rad);\n  t = 1 - c; // Perform rotation-specific matrix multiplication\n\n  out[0] = x * x * t + c;\n  out[1] = y * x * t + z * s;\n  out[2] = z * x * t - y * s;\n  out[3] = 0;\n  out[4] = x * y * t - z * s;\n  out[5] = y * y * t + c;\n  out[6] = z * y * t + x * s;\n  out[7] = 0;\n  out[8] = x * z * t + y * s;\n  out[9] = y * z * t - x * s;\n  out[10] = z * z * t + c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the X axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateX(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function fromXRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = c;\n  out[6] = s;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = -s;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the Y axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateY(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function fromYRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = 0;\n  out[2] = -s;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = s;\n  out[9] = 0;\n  out[10] = c;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from the given angle around the Z axis\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.rotateZ(dest, dest, rad);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {Number} rad the angle to rotate the matrix by\r\n * @returns {mat4} out\r\n */\n\nexport function fromZRotation(out, rad) {\n  var s = Math.sin(rad);\n  var c = Math.cos(rad); // Perform axis-specific matrix multiplication\n\n  out[0] = c;\n  out[1] = s;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = -s;\n  out[5] = c;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation and vector translation\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {ReadonlyVec3} v Translation vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotationTranslation(out, q, v) {\n  // Quaternion math\n  var x = q[0],\n    y = q[1],\n    z = q[2],\n    w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - (yy + zz);\n  out[1] = xy + wz;\n  out[2] = xz - wy;\n  out[3] = 0;\n  out[4] = xy - wz;\n  out[5] = 1 - (xx + zz);\n  out[6] = yz + wx;\n  out[7] = 0;\n  out[8] = xz + wy;\n  out[9] = yz - wx;\n  out[10] = 1 - (xx + yy);\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a new mat4 from a dual quat.\r\n *\r\n * @param {mat4} out Matrix\r\n * @param {ReadonlyQuat2} a Dual Quaternion\r\n * @returns {mat4} mat4 receiving operation result\r\n */\n\nexport function fromQuat2(out, a) {\n  var translation = new glMatrix.ARRAY_TYPE(3);\n  var bx = -a[0],\n    by = -a[1],\n    bz = -a[2],\n    bw = a[3],\n    ax = a[4],\n    ay = a[5],\n    az = a[6],\n    aw = a[7];\n  var magnitude = bx * bx + by * by + bz * bz + bw * bw; //Only scale if it makes sense\n\n  if (magnitude > 0) {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2 / magnitude;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2 / magnitude;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2 / magnitude;\n  } else {\n    translation[0] = (ax * bw + aw * bx + ay * bz - az * by) * 2;\n    translation[1] = (ay * bw + aw * by + az * bx - ax * bz) * 2;\n    translation[2] = (az * bw + aw * bz + ax * by - ay * bx) * 2;\n  }\n  fromRotationTranslation(out, a, translation);\n  return out;\n}\n/**\r\n * Returns the translation vector component of a transformation\r\n *  matrix. If a matrix is built with fromRotationTranslation,\r\n *  the returned vector will be the same as the translation vector\r\n *  originally supplied.\r\n * @param  {vec3} out Vector to receive translation component\r\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\r\n * @return {vec3} out\r\n */\n\nexport function getTranslation(out, mat) {\n  out[0] = mat[12];\n  out[1] = mat[13];\n  out[2] = mat[14];\n  return out;\n}\n/**\r\n * Returns the scaling factor component of a transformation\r\n *  matrix. If a matrix is built with fromRotationTranslationScale\r\n *  with a normalized Quaternion paramter, the returned vector will be\r\n *  the same as the scaling vector\r\n *  originally supplied.\r\n * @param  {vec3} out Vector to receive scaling factor component\r\n * @param  {ReadonlyMat4} mat Matrix to be decomposed (input)\r\n * @return {vec3} out\r\n */\n\nexport function getScaling(out, mat) {\n  var m11 = mat[0];\n  var m12 = mat[1];\n  var m13 = mat[2];\n  var m21 = mat[4];\n  var m22 = mat[5];\n  var m23 = mat[6];\n  var m31 = mat[8];\n  var m32 = mat[9];\n  var m33 = mat[10];\n  out[0] = Math.hypot(m11, m12, m13);\n  out[1] = Math.hypot(m21, m22, m23);\n  out[2] = Math.hypot(m31, m32, m33);\n  return out;\n}\n/**\r\n * Returns a quaternion representing the rotational component\r\n *  of a transformation matrix. If a matrix is built with\r\n *  fromRotationTranslation, the returned quaternion will be the\r\n *  same as the quaternion originally supplied.\r\n * @param {quat} out Quaternion to receive the rotation component\r\n * @param {ReadonlyMat4} mat Matrix to be decomposed (input)\r\n * @return {quat} out\r\n */\n\nexport function getRotation(out, mat) {\n  var scaling = new glMatrix.ARRAY_TYPE(3);\n  getScaling(scaling, mat);\n  var is1 = 1 / scaling[0];\n  var is2 = 1 / scaling[1];\n  var is3 = 1 / scaling[2];\n  var sm11 = mat[0] * is1;\n  var sm12 = mat[1] * is2;\n  var sm13 = mat[2] * is3;\n  var sm21 = mat[4] * is1;\n  var sm22 = mat[5] * is2;\n  var sm23 = mat[6] * is3;\n  var sm31 = mat[8] * is1;\n  var sm32 = mat[9] * is2;\n  var sm33 = mat[10] * is3;\n  var trace = sm11 + sm22 + sm33;\n  var S = 0;\n  if (trace > 0) {\n    S = Math.sqrt(trace + 1.0) * 2;\n    out[3] = 0.25 * S;\n    out[0] = (sm23 - sm32) / S;\n    out[1] = (sm31 - sm13) / S;\n    out[2] = (sm12 - sm21) / S;\n  } else if (sm11 > sm22 && sm11 > sm33) {\n    S = Math.sqrt(1.0 + sm11 - sm22 - sm33) * 2;\n    out[3] = (sm23 - sm32) / S;\n    out[0] = 0.25 * S;\n    out[1] = (sm12 + sm21) / S;\n    out[2] = (sm31 + sm13) / S;\n  } else if (sm22 > sm33) {\n    S = Math.sqrt(1.0 + sm22 - sm11 - sm33) * 2;\n    out[3] = (sm31 - sm13) / S;\n    out[0] = (sm12 + sm21) / S;\n    out[1] = 0.25 * S;\n    out[2] = (sm23 + sm32) / S;\n  } else {\n    S = Math.sqrt(1.0 + sm33 - sm11 - sm22) * 2;\n    out[3] = (sm12 - sm21) / S;\n    out[0] = (sm31 + sm13) / S;\n    out[1] = (sm23 + sm32) / S;\n    out[2] = 0.25 * S;\n  }\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation, vector translation and vector scale\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *     mat4.scale(dest, scale)\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {ReadonlyVec3} v Translation vector\r\n * @param {ReadonlyVec3} s Scaling vector\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotationTranslationScale(out, q, v, s) {\n  // Quaternion math\n  var x = q[0],\n    y = q[1],\n    z = q[2],\n    w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  out[0] = (1 - (yy + zz)) * sx;\n  out[1] = (xy + wz) * sx;\n  out[2] = (xz - wy) * sx;\n  out[3] = 0;\n  out[4] = (xy - wz) * sy;\n  out[5] = (1 - (xx + zz)) * sy;\n  out[6] = (yz + wx) * sy;\n  out[7] = 0;\n  out[8] = (xz + wy) * sz;\n  out[9] = (yz - wx) * sz;\n  out[10] = (1 - (xx + yy)) * sz;\n  out[11] = 0;\n  out[12] = v[0];\n  out[13] = v[1];\n  out[14] = v[2];\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Creates a matrix from a quaternion rotation, vector translation and vector scale, rotating and scaling around the given origin\r\n * This is equivalent to (but much faster than):\r\n *\r\n *     mat4.identity(dest);\r\n *     mat4.translate(dest, vec);\r\n *     mat4.translate(dest, origin);\r\n *     let quatMat = mat4.create();\r\n *     quat4.toMat4(quat, quatMat);\r\n *     mat4.multiply(dest, quatMat);\r\n *     mat4.scale(dest, scale)\r\n *     mat4.translate(dest, negativeOrigin);\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {quat4} q Rotation quaternion\r\n * @param {ReadonlyVec3} v Translation vector\r\n * @param {ReadonlyVec3} s Scaling vector\r\n * @param {ReadonlyVec3} o The origin vector around which to scale and rotate\r\n * @returns {mat4} out\r\n */\n\nexport function fromRotationTranslationScaleOrigin(out, q, v, s, o) {\n  // Quaternion math\n  var x = q[0],\n    y = q[1],\n    z = q[2],\n    w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var xy = x * y2;\n  var xz = x * z2;\n  var yy = y * y2;\n  var yz = y * z2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  var sx = s[0];\n  var sy = s[1];\n  var sz = s[2];\n  var ox = o[0];\n  var oy = o[1];\n  var oz = o[2];\n  var out0 = (1 - (yy + zz)) * sx;\n  var out1 = (xy + wz) * sx;\n  var out2 = (xz - wy) * sx;\n  var out4 = (xy - wz) * sy;\n  var out5 = (1 - (xx + zz)) * sy;\n  var out6 = (yz + wx) * sy;\n  var out8 = (xz + wy) * sz;\n  var out9 = (yz - wx) * sz;\n  var out10 = (1 - (xx + yy)) * sz;\n  out[0] = out0;\n  out[1] = out1;\n  out[2] = out2;\n  out[3] = 0;\n  out[4] = out4;\n  out[5] = out5;\n  out[6] = out6;\n  out[7] = 0;\n  out[8] = out8;\n  out[9] = out9;\n  out[10] = out10;\n  out[11] = 0;\n  out[12] = v[0] + ox - (out0 * ox + out4 * oy + out8 * oz);\n  out[13] = v[1] + oy - (out1 * ox + out5 * oy + out9 * oz);\n  out[14] = v[2] + oz - (out2 * ox + out6 * oy + out10 * oz);\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Calculates a 4x4 matrix from the given quaternion\r\n *\r\n * @param {mat4} out mat4 receiving operation result\r\n * @param {ReadonlyQuat} q Quaternion to create matrix from\r\n *\r\n * @returns {mat4} out\r\n */\n\nexport function fromQuat(out, q) {\n  var x = q[0],\n    y = q[1],\n    z = q[2],\n    w = q[3];\n  var x2 = x + x;\n  var y2 = y + y;\n  var z2 = z + z;\n  var xx = x * x2;\n  var yx = y * x2;\n  var yy = y * y2;\n  var zx = z * x2;\n  var zy = z * y2;\n  var zz = z * z2;\n  var wx = w * x2;\n  var wy = w * y2;\n  var wz = w * z2;\n  out[0] = 1 - yy - zz;\n  out[1] = yx + wz;\n  out[2] = zx - wy;\n  out[3] = 0;\n  out[4] = yx - wz;\n  out[5] = 1 - xx - zz;\n  out[6] = zy + wx;\n  out[7] = 0;\n  out[8] = zx + wy;\n  out[9] = zy - wx;\n  out[10] = 1 - xx - yy;\n  out[11] = 0;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = 0;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a frustum matrix with the given bounds\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {Number} left Left bound of the frustum\r\n * @param {Number} right Right bound of the frustum\r\n * @param {Number} bottom Bottom bound of the frustum\r\n * @param {Number} top Top bound of the frustum\r\n * @param {Number} near Near bound of the frustum\r\n * @param {Number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nexport function frustum(out, left, right, bottom, top, near, far) {\n  var rl = 1 / (right - left);\n  var tb = 1 / (top - bottom);\n  var nf = 1 / (near - far);\n  out[0] = near * 2 * rl;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = near * 2 * tb;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = (right + left) * rl;\n  out[9] = (top + bottom) * tb;\n  out[10] = (far + near) * nf;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[14] = far * near * 2 * nf;\n  out[15] = 0;\n  return out;\n}\n/**\r\n * Generates a perspective projection matrix with the given bounds.\r\n * Passing null/undefined/no value for far will generate infinite projection matrix.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {number} fovy Vertical field of view in radians\r\n * @param {number} aspect Aspect ratio. typically viewport width/height\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum, can be null or Infinity\r\n * @returns {mat4} out\r\n */\n\nexport function perspective(out, fovy, aspect, near, far) {\n  var f = 1.0 / Math.tan(fovy / 2),\n    nf;\n  out[0] = f / aspect;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = f;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[11] = -1;\n  out[12] = 0;\n  out[13] = 0;\n  out[15] = 0;\n  if (far != null && far !== Infinity) {\n    nf = 1 / (near - far);\n    out[10] = (far + near) * nf;\n    out[14] = 2 * far * near * nf;\n  } else {\n    out[10] = -1;\n    out[14] = -2 * near;\n  }\n  return out;\n}\n/**\r\n * Generates a perspective projection matrix with the given field of view.\r\n * This is primarily useful for generating projection matrices to be used\r\n * with the still experiemental WebVR API.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {Object} fov Object containing the following values: upDegrees, downDegrees, leftDegrees, rightDegrees\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nexport function perspectiveFromFieldOfView(out, fov, near, far) {\n  var upTan = Math.tan(fov.upDegrees * Math.PI / 180.0);\n  var downTan = Math.tan(fov.downDegrees * Math.PI / 180.0);\n  var leftTan = Math.tan(fov.leftDegrees * Math.PI / 180.0);\n  var rightTan = Math.tan(fov.rightDegrees * Math.PI / 180.0);\n  var xScale = 2.0 / (leftTan + rightTan);\n  var yScale = 2.0 / (upTan + downTan);\n  out[0] = xScale;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  out[3] = 0.0;\n  out[4] = 0.0;\n  out[5] = yScale;\n  out[6] = 0.0;\n  out[7] = 0.0;\n  out[8] = -((leftTan - rightTan) * xScale * 0.5);\n  out[9] = (upTan - downTan) * yScale * 0.5;\n  out[10] = far / (near - far);\n  out[11] = -1.0;\n  out[12] = 0.0;\n  out[13] = 0.0;\n  out[14] = far * near / (near - far);\n  out[15] = 0.0;\n  return out;\n}\n/**\r\n * Generates a orthogonal projection matrix with the given bounds\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {number} left Left bound of the frustum\r\n * @param {number} right Right bound of the frustum\r\n * @param {number} bottom Bottom bound of the frustum\r\n * @param {number} top Top bound of the frustum\r\n * @param {number} near Near bound of the frustum\r\n * @param {number} far Far bound of the frustum\r\n * @returns {mat4} out\r\n */\n\nexport function ortho(out, left, right, bottom, top, near, far) {\n  var lr = 1 / (left - right);\n  var bt = 1 / (bottom - top);\n  var nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 2 * nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = (far + near) * nf;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a look-at matrix with the given eye position, focal point, and up axis.\r\n * If you want a matrix that actually makes an object look at another object, you should use targetTo instead.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {ReadonlyVec3} eye Position of the viewer\r\n * @param {ReadonlyVec3} center Point the viewer is looking at\r\n * @param {ReadonlyVec3} up vec3 pointing up\r\n * @returns {mat4} out\r\n */\n\nexport function lookAt(out, eye, center, up) {\n  var x0, x1, x2, y0, y1, y2, z0, z1, z2, len;\n  var eyex = eye[0];\n  var eyey = eye[1];\n  var eyez = eye[2];\n  var upx = up[0];\n  var upy = up[1];\n  var upz = up[2];\n  var centerx = center[0];\n  var centery = center[1];\n  var centerz = center[2];\n  if (Math.abs(eyex - centerx) < glMatrix.EPSILON && Math.abs(eyey - centery) < glMatrix.EPSILON && Math.abs(eyez - centerz) < glMatrix.EPSILON) {\n    return identity(out);\n  }\n  z0 = eyex - centerx;\n  z1 = eyey - centery;\n  z2 = eyez - centerz;\n  len = 1 / Math.hypot(z0, z1, z2);\n  z0 *= len;\n  z1 *= len;\n  z2 *= len;\n  x0 = upy * z2 - upz * z1;\n  x1 = upz * z0 - upx * z2;\n  x2 = upx * z1 - upy * z0;\n  len = Math.hypot(x0, x1, x2);\n  if (!len) {\n    x0 = 0;\n    x1 = 0;\n    x2 = 0;\n  } else {\n    len = 1 / len;\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n  y0 = z1 * x2 - z2 * x1;\n  y1 = z2 * x0 - z0 * x2;\n  y2 = z0 * x1 - z1 * x0;\n  len = Math.hypot(y0, y1, y2);\n  if (!len) {\n    y0 = 0;\n    y1 = 0;\n    y2 = 0;\n  } else {\n    len = 1 / len;\n    y0 *= len;\n    y1 *= len;\n    y2 *= len;\n  }\n  out[0] = x0;\n  out[1] = y0;\n  out[2] = z0;\n  out[3] = 0;\n  out[4] = x1;\n  out[5] = y1;\n  out[6] = z1;\n  out[7] = 0;\n  out[8] = x2;\n  out[9] = y2;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = -(x0 * eyex + x1 * eyey + x2 * eyez);\n  out[13] = -(y0 * eyex + y1 * eyey + y2 * eyez);\n  out[14] = -(z0 * eyex + z1 * eyey + z2 * eyez);\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Generates a matrix that makes something look at something else.\r\n *\r\n * @param {mat4} out mat4 frustum matrix will be written into\r\n * @param {ReadonlyVec3} eye Position of the viewer\r\n * @param {ReadonlyVec3} center Point the viewer is looking at\r\n * @param {ReadonlyVec3} up vec3 pointing up\r\n * @returns {mat4} out\r\n */\n\nexport function targetTo(out, eye, target, up) {\n  var eyex = eye[0],\n    eyey = eye[1],\n    eyez = eye[2],\n    upx = up[0],\n    upy = up[1],\n    upz = up[2];\n  var z0 = eyex - target[0],\n    z1 = eyey - target[1],\n    z2 = eyez - target[2];\n  var len = z0 * z0 + z1 * z1 + z2 * z2;\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    z0 *= len;\n    z1 *= len;\n    z2 *= len;\n  }\n  var x0 = upy * z2 - upz * z1,\n    x1 = upz * z0 - upx * z2,\n    x2 = upx * z1 - upy * z0;\n  len = x0 * x0 + x1 * x1 + x2 * x2;\n  if (len > 0) {\n    len = 1 / Math.sqrt(len);\n    x0 *= len;\n    x1 *= len;\n    x2 *= len;\n  }\n  out[0] = x0;\n  out[1] = x1;\n  out[2] = x2;\n  out[3] = 0;\n  out[4] = z1 * x2 - z2 * x1;\n  out[5] = z2 * x0 - z0 * x2;\n  out[6] = z0 * x1 - z1 * x0;\n  out[7] = 0;\n  out[8] = z0;\n  out[9] = z1;\n  out[10] = z2;\n  out[11] = 0;\n  out[12] = eyex;\n  out[13] = eyey;\n  out[14] = eyez;\n  out[15] = 1;\n  return out;\n}\n/**\r\n * Returns a string representation of a mat4\r\n *\r\n * @param {ReadonlyMat4} a matrix to represent as a string\r\n * @returns {String} string representation of the matrix\r\n */\n\nexport function str(a) {\n  return \"mat4(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \", \" + a[3] + \", \" + a[4] + \", \" + a[5] + \", \" + a[6] + \", \" + a[7] + \", \" + a[8] + \", \" + a[9] + \", \" + a[10] + \", \" + a[11] + \", \" + a[12] + \", \" + a[13] + \", \" + a[14] + \", \" + a[15] + \")\";\n}\n/**\r\n * Returns Frobenius norm of a mat4\r\n *\r\n * @param {ReadonlyMat4} a the matrix to calculate Frobenius norm of\r\n * @returns {Number} Frobenius norm\r\n */\n\nexport function frob(a) {\n  return Math.hypot(a[0], a[1], a[2], a[3], a[4], a[5], a[6], a[7], a[8], a[9], a[10], a[11], a[12], a[13], a[14], a[15]);\n}\n/**\r\n * Adds two mat4's\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the first operand\r\n * @param {ReadonlyMat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  out[3] = a[3] + b[3];\n  out[4] = a[4] + b[4];\n  out[5] = a[5] + b[5];\n  out[6] = a[6] + b[6];\n  out[7] = a[7] + b[7];\n  out[8] = a[8] + b[8];\n  out[9] = a[9] + b[9];\n  out[10] = a[10] + b[10];\n  out[11] = a[11] + b[11];\n  out[12] = a[12] + b[12];\n  out[13] = a[13] + b[13];\n  out[14] = a[14] + b[14];\n  out[15] = a[15] + b[15];\n  return out;\n}\n/**\r\n * Subtracts matrix b from matrix a\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the first operand\r\n * @param {ReadonlyMat4} b the second operand\r\n * @returns {mat4} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  out[3] = a[3] - b[3];\n  out[4] = a[4] - b[4];\n  out[5] = a[5] - b[5];\n  out[6] = a[6] - b[6];\n  out[7] = a[7] - b[7];\n  out[8] = a[8] - b[8];\n  out[9] = a[9] - b[9];\n  out[10] = a[10] - b[10];\n  out[11] = a[11] - b[11];\n  out[12] = a[12] - b[12];\n  out[13] = a[13] - b[13];\n  out[14] = a[14] - b[14];\n  out[15] = a[15] - b[15];\n  return out;\n}\n/**\r\n * Multiply each element of the matrix by a scalar.\r\n *\r\n * @param {mat4} out the receiving matrix\r\n * @param {ReadonlyMat4} a the matrix to scale\r\n * @param {Number} b amount to scale the matrix's elements by\r\n * @returns {mat4} out\r\n */\n\nexport function multiplyScalar(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  out[3] = a[3] * b;\n  out[4] = a[4] * b;\n  out[5] = a[5] * b;\n  out[6] = a[6] * b;\n  out[7] = a[7] * b;\n  out[8] = a[8] * b;\n  out[9] = a[9] * b;\n  out[10] = a[10] * b;\n  out[11] = a[11] * b;\n  out[12] = a[12] * b;\n  out[13] = a[13] * b;\n  out[14] = a[14] * b;\n  out[15] = a[15] * b;\n  return out;\n}\n/**\r\n * Adds two mat4's after multiplying each element of the second operand by a scalar value.\r\n *\r\n * @param {mat4} out the receiving vector\r\n * @param {ReadonlyMat4} a the first operand\r\n * @param {ReadonlyMat4} b the second operand\r\n * @param {Number} scale the amount to scale b's elements by before adding\r\n * @returns {mat4} out\r\n */\n\nexport function multiplyScalarAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  out[3] = a[3] + b[3] * scale;\n  out[4] = a[4] + b[4] * scale;\n  out[5] = a[5] + b[5] * scale;\n  out[6] = a[6] + b[6] * scale;\n  out[7] = a[7] + b[7] * scale;\n  out[8] = a[8] + b[8] * scale;\n  out[9] = a[9] + b[9] * scale;\n  out[10] = a[10] + b[10] * scale;\n  out[11] = a[11] + b[11] * scale;\n  out[12] = a[12] + b[12] * scale;\n  out[13] = a[13] + b[13] * scale;\n  out[14] = a[14] + b[14] * scale;\n  out[15] = a[15] + b[15] * scale;\n  return out;\n}\n/**\r\n * Returns whether or not the matrices have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyMat4} a The first matrix.\r\n * @param {ReadonlyMat4} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2] && a[3] === b[3] && a[4] === b[4] && a[5] === b[5] && a[6] === b[6] && a[7] === b[7] && a[8] === b[8] && a[9] === b[9] && a[10] === b[10] && a[11] === b[11] && a[12] === b[12] && a[13] === b[13] && a[14] === b[14] && a[15] === b[15];\n}\n/**\r\n * Returns whether or not the matrices have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyMat4} a The first matrix.\r\n * @param {ReadonlyMat4} b The second matrix.\r\n * @returns {Boolean} True if the matrices are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n    a1 = a[1],\n    a2 = a[2],\n    a3 = a[3];\n  var a4 = a[4],\n    a5 = a[5],\n    a6 = a[6],\n    a7 = a[7];\n  var a8 = a[8],\n    a9 = a[9],\n    a10 = a[10],\n    a11 = a[11];\n  var a12 = a[12],\n    a13 = a[13],\n    a14 = a[14],\n    a15 = a[15];\n  var b0 = b[0],\n    b1 = b[1],\n    b2 = b[2],\n    b3 = b[3];\n  var b4 = b[4],\n    b5 = b[5],\n    b6 = b[6],\n    b7 = b[7];\n  var b8 = b[8],\n    b9 = b[9],\n    b10 = b[10],\n    b11 = b[11];\n  var b12 = b[12],\n    b13 = b[13],\n    b14 = b[14],\n    b15 = b[15];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2)) && Math.abs(a3 - b3) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a3), Math.abs(b3)) && Math.abs(a4 - b4) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a4), Math.abs(b4)) && Math.abs(a5 - b5) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a5), Math.abs(b5)) && Math.abs(a6 - b6) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a6), Math.abs(b6)) && Math.abs(a7 - b7) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a7), Math.abs(b7)) && Math.abs(a8 - b8) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a8), Math.abs(b8)) && Math.abs(a9 - b9) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a9), Math.abs(b9)) && Math.abs(a10 - b10) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a10), Math.abs(b10)) && Math.abs(a11 - b11) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a11), Math.abs(b11)) && Math.abs(a12 - b12) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a12), Math.abs(b12)) && Math.abs(a13 - b13) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a13), Math.abs(b13)) && Math.abs(a14 - b14) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a14), Math.abs(b14)) && Math.abs(a15 - b15) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a15), Math.abs(b15));\n}\n/**\r\n * Alias for {@link mat4.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link mat4.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;","import * as glMatrix from \"./common.js\";\n/**\r\n * 2 Dimensional Vector\r\n * @module vec2\r\n */\n\n/**\r\n * Creates a new, empty vec2\r\n *\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n  }\n  return out;\n}\n/**\r\n * Creates a new vec2 initialized with values from an existing vector\r\n *\r\n * @param {ReadonlyVec2} a vector to clone\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\r\n * Creates a new vec2 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @returns {vec2} a new 2D vector\r\n */\n\nexport function fromValues(x, y) {\n  var out = new glMatrix.ARRAY_TYPE(2);\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\r\n * Copy the values from one vec2 to another\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the source vector\r\n * @returns {vec2} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  return out;\n}\n/**\r\n * Set the components of a vec2 to the given values\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @returns {vec2} out\r\n */\n\nexport function set(out, x, y) {\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\r\n * Adds two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  return out;\n}\n/**\r\n * Multiplies two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  return out;\n}\n/**\r\n * Divides two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to ceil\r\n * @returns {vec2} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to floor\r\n * @returns {vec2} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec2} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to round\r\n * @returns {vec2} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  return out;\n}\n/**\r\n * Scales a vec2 by a scalar number\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec2} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  return out;\n}\n/**\r\n * Adds two vec2's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec2} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec2's\r\n *\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0],\n    y = b[1] - a[1];\n  return Math.hypot(x, y);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec2's\r\n *\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0],\n    y = b[1] - a[1];\n  return x * x + y * y;\n}\n/**\r\n * Calculates the length of a vec2\r\n *\r\n * @param {ReadonlyVec2} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0],\n    y = a[1];\n  return Math.hypot(x, y);\n}\n/**\r\n * Calculates the squared length of a vec2\r\n *\r\n * @param {ReadonlyVec2} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0],\n    y = a[1];\n  return x * x + y * y;\n}\n/**\r\n * Negates the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to negate\r\n * @returns {vec2} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to invert\r\n * @returns {vec2} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  return out;\n}\n/**\r\n * Normalize a vec2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a vector to normalize\r\n * @returns {vec2} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0],\n    y = a[1];\n  var len = x * x + y * y;\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec2's\r\n *\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1];\n}\n/**\r\n * Computes the cross product of two vec2's\r\n * Note that the cross product must by definition produce a 3D vector\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function cross(out, a, b) {\n  var z = a[0] * b[1] - a[1] * b[0];\n  out[0] = out[1] = 0;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec2's\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the first operand\r\n * @param {ReadonlyVec2} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec2} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0],\n    ay = a[1];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec2} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  out[0] = Math.cos(r) * scale;\n  out[1] = Math.sin(r) * scale;\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat2\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat2} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat2(out, a, m) {\n  var x = a[0],\n    y = a[1];\n  out[0] = m[0] * x + m[2] * y;\n  out[1] = m[1] * x + m[3] * y;\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat2d\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat2d} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat2d(out, a, m) {\n  var x = a[0],\n    y = a[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat3\r\n * 3rd vector component is implicitly '1'\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat3} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n    y = a[1];\n  out[0] = m[0] * x + m[3] * y + m[6];\n  out[1] = m[1] * x + m[4] * y + m[7];\n  return out;\n}\n/**\r\n * Transforms the vec2 with a mat4\r\n * 3rd vector component is implicitly '0'\r\n * 4th vector component is implicitly '1'\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @param {ReadonlyVec2} a the vector to transform\r\n * @param {ReadonlyMat4} m matrix to transform with\r\n * @returns {vec2} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0];\n  var y = a[1];\n  out[0] = m[0] * x + m[4] * y + m[12];\n  out[1] = m[1] * x + m[5] * y + m[13];\n  return out;\n}\n/**\r\n * Rotate a 2D vector\r\n * @param {vec2} out The receiving vec2\r\n * @param {ReadonlyVec2} a The vec2 point to rotate\r\n * @param {ReadonlyVec2} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec2} out\r\n */\n\nexport function rotate(out, a, b, rad) {\n  //Translate point to the origin\n  var p0 = a[0] - b[0],\n    p1 = a[1] - b[1],\n    sinC = Math.sin(rad),\n    cosC = Math.cos(rad); //perform rotation and translate to correct position\n\n  out[0] = p0 * cosC - p1 * sinC + b[0];\n  out[1] = p0 * sinC + p1 * cosC + b[1];\n  return out;\n}\n/**\r\n * Get the angle between two 2D vectors\r\n * @param {ReadonlyVec2} a The first operand\r\n * @param {ReadonlyVec2} b The second operand\r\n * @returns {Number} The angle in radians\r\n */\n\nexport function angle(a, b) {\n  var x1 = a[0],\n    y1 = a[1],\n    x2 = b[0],\n    y2 = b[1],\n    // mag is the product of the magnitudes of a and b\n    mag = Math.sqrt(x1 * x1 + y1 * y1) * Math.sqrt(x2 * x2 + y2 * y2),\n    // mag &&.. short circuits if mag == 0\n    cosine = mag && (x1 * x2 + y1 * y2) / mag; // Math.min(Math.max(cosine, -1), 1) clamps the cosine between -1 and 1\n\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\r\n * Set the components of a vec2 to zero\r\n *\r\n * @param {vec2} out the receiving vector\r\n * @returns {vec2} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {ReadonlyVec2} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return \"vec2(\" + a[0] + \", \" + a[1] + \")\";\n}\n/**\r\n * Returns whether or not the vectors exactly have the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyVec2} a The first vector.\r\n * @param {ReadonlyVec2} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyVec2} a The first vector.\r\n * @param {ReadonlyVec2} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n    a1 = a[1];\n  var b0 = b[0],\n    b1 = b[1];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1));\n}\n/**\r\n * Alias for {@link vec2.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec2.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec2.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec2.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec2.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec2.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec2.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec2s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec2. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec2s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n    if (!stride) {\n      stride = 2;\n    }\n    if (!offset) {\n      offset = 0;\n    }\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n    }\n    return a;\n  };\n}();","import * as glMatrix from \"./common.js\";\n/**\r\n * 3 Dimensional Vector\r\n * @module vec3\r\n */\n\n/**\r\n * Creates a new, empty vec3\r\n *\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function create() {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  if (glMatrix.ARRAY_TYPE != Float32Array) {\n    out[0] = 0;\n    out[1] = 0;\n    out[2] = 0;\n  }\n  return out;\n}\n/**\r\n * Creates a new vec3 initialized with values from an existing vector\r\n *\r\n * @param {ReadonlyVec3} a vector to clone\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function clone(a) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\r\n * Calculates the length of a vec3\r\n *\r\n * @param {ReadonlyVec3} a vector to calculate length of\r\n * @returns {Number} length of a\r\n */\n\nexport function length(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return Math.hypot(x, y, z);\n}\n/**\r\n * Creates a new vec3 initialized with the given values\r\n *\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @returns {vec3} a new 3D vector\r\n */\n\nexport function fromValues(x, y, z) {\n  var out = new glMatrix.ARRAY_TYPE(3);\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Copy the values from one vec3 to another\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the source vector\r\n * @returns {vec3} out\r\n */\n\nexport function copy(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  return out;\n}\n/**\r\n * Set the components of a vec3 to the given values\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {Number} x X component\r\n * @param {Number} y Y component\r\n * @param {Number} z Z component\r\n * @returns {vec3} out\r\n */\n\nexport function set(out, x, y, z) {\n  out[0] = x;\n  out[1] = y;\n  out[2] = z;\n  return out;\n}\n/**\r\n * Adds two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function add(out, a, b) {\n  out[0] = a[0] + b[0];\n  out[1] = a[1] + b[1];\n  out[2] = a[2] + b[2];\n  return out;\n}\n/**\r\n * Subtracts vector b from vector a\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function subtract(out, a, b) {\n  out[0] = a[0] - b[0];\n  out[1] = a[1] - b[1];\n  out[2] = a[2] - b[2];\n  return out;\n}\n/**\r\n * Multiplies two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function multiply(out, a, b) {\n  out[0] = a[0] * b[0];\n  out[1] = a[1] * b[1];\n  out[2] = a[2] * b[2];\n  return out;\n}\n/**\r\n * Divides two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function divide(out, a, b) {\n  out[0] = a[0] / b[0];\n  out[1] = a[1] / b[1];\n  out[2] = a[2] / b[2];\n  return out;\n}\n/**\r\n * Math.ceil the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to ceil\r\n * @returns {vec3} out\r\n */\n\nexport function ceil(out, a) {\n  out[0] = Math.ceil(a[0]);\n  out[1] = Math.ceil(a[1]);\n  out[2] = Math.ceil(a[2]);\n  return out;\n}\n/**\r\n * Math.floor the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to floor\r\n * @returns {vec3} out\r\n */\n\nexport function floor(out, a) {\n  out[0] = Math.floor(a[0]);\n  out[1] = Math.floor(a[1]);\n  out[2] = Math.floor(a[2]);\n  return out;\n}\n/**\r\n * Returns the minimum of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function min(out, a, b) {\n  out[0] = Math.min(a[0], b[0]);\n  out[1] = Math.min(a[1], b[1]);\n  out[2] = Math.min(a[2], b[2]);\n  return out;\n}\n/**\r\n * Returns the maximum of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function max(out, a, b) {\n  out[0] = Math.max(a[0], b[0]);\n  out[1] = Math.max(a[1], b[1]);\n  out[2] = Math.max(a[2], b[2]);\n  return out;\n}\n/**\r\n * Math.round the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to round\r\n * @returns {vec3} out\r\n */\n\nexport function round(out, a) {\n  out[0] = Math.round(a[0]);\n  out[1] = Math.round(a[1]);\n  out[2] = Math.round(a[2]);\n  return out;\n}\n/**\r\n * Scales a vec3 by a scalar number\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to scale\r\n * @param {Number} b amount to scale the vector by\r\n * @returns {vec3} out\r\n */\n\nexport function scale(out, a, b) {\n  out[0] = a[0] * b;\n  out[1] = a[1] * b;\n  out[2] = a[2] * b;\n  return out;\n}\n/**\r\n * Adds two vec3's after scaling the second operand by a scalar value\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {Number} scale the amount to scale b by before adding\r\n * @returns {vec3} out\r\n */\n\nexport function scaleAndAdd(out, a, b, scale) {\n  out[0] = a[0] + b[0] * scale;\n  out[1] = a[1] + b[1] * scale;\n  out[2] = a[2] + b[2] * scale;\n  return out;\n}\n/**\r\n * Calculates the euclidian distance between two vec3's\r\n *\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {Number} distance between a and b\r\n */\n\nexport function distance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return Math.hypot(x, y, z);\n}\n/**\r\n * Calculates the squared euclidian distance between two vec3's\r\n *\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {Number} squared distance between a and b\r\n */\n\nexport function squaredDistance(a, b) {\n  var x = b[0] - a[0];\n  var y = b[1] - a[1];\n  var z = b[2] - a[2];\n  return x * x + y * y + z * z;\n}\n/**\r\n * Calculates the squared length of a vec3\r\n *\r\n * @param {ReadonlyVec3} a vector to calculate squared length of\r\n * @returns {Number} squared length of a\r\n */\n\nexport function squaredLength(a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  return x * x + y * y + z * z;\n}\n/**\r\n * Negates the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to negate\r\n * @returns {vec3} out\r\n */\n\nexport function negate(out, a) {\n  out[0] = -a[0];\n  out[1] = -a[1];\n  out[2] = -a[2];\n  return out;\n}\n/**\r\n * Returns the inverse of the components of a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to invert\r\n * @returns {vec3} out\r\n */\n\nexport function inverse(out, a) {\n  out[0] = 1.0 / a[0];\n  out[1] = 1.0 / a[1];\n  out[2] = 1.0 / a[2];\n  return out;\n}\n/**\r\n * Normalize a vec3\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a vector to normalize\r\n * @returns {vec3} out\r\n */\n\nexport function normalize(out, a) {\n  var x = a[0];\n  var y = a[1];\n  var z = a[2];\n  var len = x * x + y * y + z * z;\n  if (len > 0) {\n    //TODO: evaluate use of glm_invsqrt here?\n    len = 1 / Math.sqrt(len);\n  }\n  out[0] = a[0] * len;\n  out[1] = a[1] * len;\n  out[2] = a[2] * len;\n  return out;\n}\n/**\r\n * Calculates the dot product of two vec3's\r\n *\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {Number} dot product of a and b\r\n */\n\nexport function dot(a, b) {\n  return a[0] * b[0] + a[1] * b[1] + a[2] * b[2];\n}\n/**\r\n * Computes the cross product of two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @returns {vec3} out\r\n */\n\nexport function cross(out, a, b) {\n  var ax = a[0],\n    ay = a[1],\n    az = a[2];\n  var bx = b[0],\n    by = b[1],\n    bz = b[2];\n  out[0] = ay * bz - az * by;\n  out[1] = az * bx - ax * bz;\n  out[2] = ax * by - ay * bx;\n  return out;\n}\n/**\r\n * Performs a linear interpolation between two vec3's\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function lerp(out, a, b, t) {\n  var ax = a[0];\n  var ay = a[1];\n  var az = a[2];\n  out[0] = ax + t * (b[0] - ax);\n  out[1] = ay + t * (b[1] - ay);\n  out[2] = az + t * (b[2] - az);\n  return out;\n}\n/**\r\n * Performs a hermite interpolation with two control points\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {ReadonlyVec3} c the third operand\r\n * @param {ReadonlyVec3} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function hermite(out, a, b, c, d, t) {\n  var factorTimes2 = t * t;\n  var factor1 = factorTimes2 * (2 * t - 3) + 1;\n  var factor2 = factorTimes2 * (t - 2) + t;\n  var factor3 = factorTimes2 * (t - 1);\n  var factor4 = factorTimes2 * (3 - 2 * t);\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\r\n * Performs a bezier interpolation with two control points\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the first operand\r\n * @param {ReadonlyVec3} b the second operand\r\n * @param {ReadonlyVec3} c the third operand\r\n * @param {ReadonlyVec3} d the fourth operand\r\n * @param {Number} t interpolation amount, in the range [0-1], between the two inputs\r\n * @returns {vec3} out\r\n */\n\nexport function bezier(out, a, b, c, d, t) {\n  var inverseFactor = 1 - t;\n  var inverseFactorTimesTwo = inverseFactor * inverseFactor;\n  var factorTimes2 = t * t;\n  var factor1 = inverseFactorTimesTwo * inverseFactor;\n  var factor2 = 3 * t * inverseFactorTimesTwo;\n  var factor3 = 3 * factorTimes2 * inverseFactor;\n  var factor4 = factorTimes2 * t;\n  out[0] = a[0] * factor1 + b[0] * factor2 + c[0] * factor3 + d[0] * factor4;\n  out[1] = a[1] * factor1 + b[1] * factor2 + c[1] * factor3 + d[1] * factor4;\n  out[2] = a[2] * factor1 + b[2] * factor2 + c[2] * factor3 + d[2] * factor4;\n  return out;\n}\n/**\r\n * Generates a random vector with the given scale\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {Number} [scale] Length of the resulting vector. If ommitted, a unit vector will be returned\r\n * @returns {vec3} out\r\n */\n\nexport function random(out, scale) {\n  scale = scale || 1.0;\n  var r = glMatrix.RANDOM() * 2.0 * Math.PI;\n  var z = glMatrix.RANDOM() * 2.0 - 1.0;\n  var zScale = Math.sqrt(1.0 - z * z) * scale;\n  out[0] = Math.cos(r) * zScale;\n  out[1] = Math.sin(r) * zScale;\n  out[2] = z * scale;\n  return out;\n}\n/**\r\n * Transforms the vec3 with a mat4.\r\n * 4th vector component is implicitly '1'\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to transform\r\n * @param {ReadonlyMat4} m matrix to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformMat4(out, a, m) {\n  var x = a[0],\n    y = a[1],\n    z = a[2];\n  var w = m[3] * x + m[7] * y + m[11] * z + m[15];\n  w = w || 1.0;\n  out[0] = (m[0] * x + m[4] * y + m[8] * z + m[12]) / w;\n  out[1] = (m[1] * x + m[5] * y + m[9] * z + m[13]) / w;\n  out[2] = (m[2] * x + m[6] * y + m[10] * z + m[14]) / w;\n  return out;\n}\n/**\r\n * Transforms the vec3 with a mat3.\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to transform\r\n * @param {ReadonlyMat3} m the 3x3 matrix to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformMat3(out, a, m) {\n  var x = a[0],\n    y = a[1],\n    z = a[2];\n  out[0] = x * m[0] + y * m[3] + z * m[6];\n  out[1] = x * m[1] + y * m[4] + z * m[7];\n  out[2] = x * m[2] + y * m[5] + z * m[8];\n  return out;\n}\n/**\r\n * Transforms the vec3 with a quat\r\n * Can also be used for dual quaternions. (Multiply it with the real part)\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @param {ReadonlyVec3} a the vector to transform\r\n * @param {ReadonlyQuat} q quaternion to transform with\r\n * @returns {vec3} out\r\n */\n\nexport function transformQuat(out, a, q) {\n  // benchmarks: https://jsperf.com/quaternion-transform-vec3-implementations-fixed\n  var qx = q[0],\n    qy = q[1],\n    qz = q[2],\n    qw = q[3];\n  var x = a[0],\n    y = a[1],\n    z = a[2]; // var qvec = [qx, qy, qz];\n  // var uv = vec3.cross([], qvec, a);\n\n  var uvx = qy * z - qz * y,\n    uvy = qz * x - qx * z,\n    uvz = qx * y - qy * x; // var uuv = vec3.cross([], qvec, uv);\n\n  var uuvx = qy * uvz - qz * uvy,\n    uuvy = qz * uvx - qx * uvz,\n    uuvz = qx * uvy - qy * uvx; // vec3.scale(uv, uv, 2 * w);\n\n  var w2 = qw * 2;\n  uvx *= w2;\n  uvy *= w2;\n  uvz *= w2; // vec3.scale(uuv, uuv, 2);\n\n  uuvx *= 2;\n  uuvy *= 2;\n  uuvz *= 2; // return vec3.add(out, a, vec3.add(out, uv, uuv));\n\n  out[0] = x + uvx + uuvx;\n  out[1] = y + uvy + uuvy;\n  out[2] = z + uvz + uuvz;\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the x-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {ReadonlyVec3} a The vec3 point to rotate\r\n * @param {ReadonlyVec3} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec3} out\r\n */\n\nexport function rotateX(out, a, b, rad) {\n  var p = [],\n    r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0];\n  r[1] = p[1] * Math.cos(rad) - p[2] * Math.sin(rad);\n  r[2] = p[1] * Math.sin(rad) + p[2] * Math.cos(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the y-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {ReadonlyVec3} a The vec3 point to rotate\r\n * @param {ReadonlyVec3} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec3} out\r\n */\n\nexport function rotateY(out, a, b, rad) {\n  var p = [],\n    r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[2] * Math.sin(rad) + p[0] * Math.cos(rad);\n  r[1] = p[1];\n  r[2] = p[2] * Math.cos(rad) - p[0] * Math.sin(rad); //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Rotate a 3D vector around the z-axis\r\n * @param {vec3} out The receiving vec3\r\n * @param {ReadonlyVec3} a The vec3 point to rotate\r\n * @param {ReadonlyVec3} b The origin of the rotation\r\n * @param {Number} rad The angle of rotation in radians\r\n * @returns {vec3} out\r\n */\n\nexport function rotateZ(out, a, b, rad) {\n  var p = [],\n    r = []; //Translate point to the origin\n\n  p[0] = a[0] - b[0];\n  p[1] = a[1] - b[1];\n  p[2] = a[2] - b[2]; //perform rotation\n\n  r[0] = p[0] * Math.cos(rad) - p[1] * Math.sin(rad);\n  r[1] = p[0] * Math.sin(rad) + p[1] * Math.cos(rad);\n  r[2] = p[2]; //translate to correct position\n\n  out[0] = r[0] + b[0];\n  out[1] = r[1] + b[1];\n  out[2] = r[2] + b[2];\n  return out;\n}\n/**\r\n * Get the angle between two 3D vectors\r\n * @param {ReadonlyVec3} a The first operand\r\n * @param {ReadonlyVec3} b The second operand\r\n * @returns {Number} The angle in radians\r\n */\n\nexport function angle(a, b) {\n  var ax = a[0],\n    ay = a[1],\n    az = a[2],\n    bx = b[0],\n    by = b[1],\n    bz = b[2],\n    mag1 = Math.sqrt(ax * ax + ay * ay + az * az),\n    mag2 = Math.sqrt(bx * bx + by * by + bz * bz),\n    mag = mag1 * mag2,\n    cosine = mag && dot(a, b) / mag;\n  return Math.acos(Math.min(Math.max(cosine, -1), 1));\n}\n/**\r\n * Set the components of a vec3 to zero\r\n *\r\n * @param {vec3} out the receiving vector\r\n * @returns {vec3} out\r\n */\n\nexport function zero(out) {\n  out[0] = 0.0;\n  out[1] = 0.0;\n  out[2] = 0.0;\n  return out;\n}\n/**\r\n * Returns a string representation of a vector\r\n *\r\n * @param {ReadonlyVec3} a vector to represent as a string\r\n * @returns {String} string representation of the vector\r\n */\n\nexport function str(a) {\n  return \"vec3(\" + a[0] + \", \" + a[1] + \", \" + a[2] + \")\";\n}\n/**\r\n * Returns whether or not the vectors have exactly the same elements in the same position (when compared with ===)\r\n *\r\n * @param {ReadonlyVec3} a The first vector.\r\n * @param {ReadonlyVec3} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function exactEquals(a, b) {\n  return a[0] === b[0] && a[1] === b[1] && a[2] === b[2];\n}\n/**\r\n * Returns whether or not the vectors have approximately the same elements in the same position.\r\n *\r\n * @param {ReadonlyVec3} a The first vector.\r\n * @param {ReadonlyVec3} b The second vector.\r\n * @returns {Boolean} True if the vectors are equal, false otherwise.\r\n */\n\nexport function equals(a, b) {\n  var a0 = a[0],\n    a1 = a[1],\n    a2 = a[2];\n  var b0 = b[0],\n    b1 = b[1],\n    b2 = b[2];\n  return Math.abs(a0 - b0) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a0), Math.abs(b0)) && Math.abs(a1 - b1) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a1), Math.abs(b1)) && Math.abs(a2 - b2) <= glMatrix.EPSILON * Math.max(1.0, Math.abs(a2), Math.abs(b2));\n}\n/**\r\n * Alias for {@link vec3.subtract}\r\n * @function\r\n */\n\nexport var sub = subtract;\n/**\r\n * Alias for {@link vec3.multiply}\r\n * @function\r\n */\n\nexport var mul = multiply;\n/**\r\n * Alias for {@link vec3.divide}\r\n * @function\r\n */\n\nexport var div = divide;\n/**\r\n * Alias for {@link vec3.distance}\r\n * @function\r\n */\n\nexport var dist = distance;\n/**\r\n * Alias for {@link vec3.squaredDistance}\r\n * @function\r\n */\n\nexport var sqrDist = squaredDistance;\n/**\r\n * Alias for {@link vec3.length}\r\n * @function\r\n */\n\nexport var len = length;\n/**\r\n * Alias for {@link vec3.squaredLength}\r\n * @function\r\n */\n\nexport var sqrLen = squaredLength;\n/**\r\n * Perform some operation over an array of vec3s.\r\n *\r\n * @param {Array} a the array of vectors to iterate over\r\n * @param {Number} stride Number of elements between the start of each vec3. If 0 assumes tightly packed\r\n * @param {Number} offset Number of elements to skip at the beginning of the array\r\n * @param {Number} count Number of vec3s to iterate over. If 0 iterates over entire array\r\n * @param {Function} fn Function to call for each vector in the array\r\n * @param {Object} [arg] additional argument to pass to fn\r\n * @returns {Array} a\r\n * @function\r\n */\n\nexport var forEach = function () {\n  var vec = create();\n  return function (a, stride, offset, count, fn, arg) {\n    var i, l;\n    if (!stride) {\n      stride = 3;\n    }\n    if (!offset) {\n      offset = 0;\n    }\n    if (count) {\n      l = Math.min(count * stride + offset, a.length);\n    } else {\n      l = a.length;\n    }\n    for (i = offset; i < l; i += stride) {\n      vec[0] = a[i];\n      vec[1] = a[i + 1];\n      vec[2] = a[i + 2];\n      fn(vec, vec, arg);\n      a[i] = vec[0];\n      a[i + 1] = vec[1];\n      a[i + 2] = vec[2];\n    }\n    return a;\n  };\n}();","export default function assert(condition, message) {\n  if (!condition) {\n    throw new Error(message || '@math.gl/web-mercator: assertion failed.');\n  }\n}","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { createMat4, transformVector } from './math-utils';\nimport * as mat4 from 'gl-matrix/mat4';\nimport * as vec2 from 'gl-matrix/vec2';\nimport * as vec3 from 'gl-matrix/vec3';\nimport assert from './assert';\nvar PI = Math.PI;\nvar PI_4 = PI / 4;\nvar DEGREES_TO_RADIANS = PI / 180;\nvar RADIANS_TO_DEGREES = 180 / PI;\nvar TILE_SIZE = 512;\nvar EARTH_CIRCUMFERENCE = 40.03e6;\nvar DEFAULT_ALTITUDE = 1.5;\nexport function zoomToScale(zoom) {\n  return Math.pow(2, zoom);\n}\nexport function scaleToZoom(scale) {\n  return Math.log2(scale);\n}\nexport function lngLatToWorld(_ref) {\n  var _ref2 = _slicedToArray(_ref, 2),\n    lng = _ref2[0],\n    lat = _ref2[1];\n  assert(Number.isFinite(lng));\n  assert(Number.isFinite(lat) && lat >= -90 && lat <= 90, 'invalid latitude');\n  var lambda2 = lng * DEGREES_TO_RADIANS;\n  var phi2 = lat * DEGREES_TO_RADIANS;\n  var x = TILE_SIZE * (lambda2 + PI) / (2 * PI);\n  var y = TILE_SIZE * (PI + Math.log(Math.tan(PI_4 + phi2 * 0.5))) / (2 * PI);\n  return [x, y];\n}\nexport function worldToLngLat(_ref3) {\n  var _ref4 = _slicedToArray(_ref3, 2),\n    x = _ref4[0],\n    y = _ref4[1];\n  var lambda2 = x / TILE_SIZE * (2 * PI) - PI;\n  var phi2 = 2 * (Math.atan(Math.exp(y / TILE_SIZE * (2 * PI) - PI)) - PI_4);\n  return [lambda2 * RADIANS_TO_DEGREES, phi2 * RADIANS_TO_DEGREES];\n}\nexport function getMeterZoom(_ref5) {\n  var latitude = _ref5.latitude;\n  assert(Number.isFinite(latitude));\n  var latCosine = Math.cos(latitude * DEGREES_TO_RADIANS);\n  return scaleToZoom(EARTH_CIRCUMFERENCE * latCosine) - 9;\n}\nexport function getDistanceScales(_ref6) {\n  var latitude = _ref6.latitude,\n    longitude = _ref6.longitude,\n    _ref6$highPrecision = _ref6.highPrecision,\n    highPrecision = _ref6$highPrecision === void 0 ? false : _ref6$highPrecision;\n  assert(Number.isFinite(latitude) && Number.isFinite(longitude));\n  var result = {};\n  var worldSize = TILE_SIZE;\n  var latCosine = Math.cos(latitude * DEGREES_TO_RADIANS);\n  var unitsPerDegreeX = worldSize / 360;\n  var unitsPerDegreeY = unitsPerDegreeX / latCosine;\n  var altUnitsPerMeter = worldSize / EARTH_CIRCUMFERENCE / latCosine;\n  result.unitsPerMeter = [altUnitsPerMeter, altUnitsPerMeter, altUnitsPerMeter];\n  result.metersPerUnit = [1 / altUnitsPerMeter, 1 / altUnitsPerMeter, 1 / altUnitsPerMeter];\n  result.unitsPerDegree = [unitsPerDegreeX, unitsPerDegreeY, altUnitsPerMeter];\n  result.degreesPerUnit = [1 / unitsPerDegreeX, 1 / unitsPerDegreeY, 1 / altUnitsPerMeter];\n  if (highPrecision) {\n    var latCosine2 = DEGREES_TO_RADIANS * Math.tan(latitude * DEGREES_TO_RADIANS) / latCosine;\n    var unitsPerDegreeY2 = unitsPerDegreeX * latCosine2 / 2;\n    var altUnitsPerDegree2 = worldSize / EARTH_CIRCUMFERENCE * latCosine2;\n    var altUnitsPerMeter2 = altUnitsPerDegree2 / unitsPerDegreeY * altUnitsPerMeter;\n    result.unitsPerDegree2 = [0, unitsPerDegreeY2, altUnitsPerDegree2];\n    result.unitsPerMeter2 = [altUnitsPerMeter2, 0, altUnitsPerMeter2];\n  }\n  return result;\n}\nexport function addMetersToLngLat(lngLatZ, xyz) {\n  var _lngLatZ = _slicedToArray(lngLatZ, 3),\n    longitude = _lngLatZ[0],\n    latitude = _lngLatZ[1],\n    z0 = _lngLatZ[2];\n  var _xyz = _slicedToArray(xyz, 3),\n    x = _xyz[0],\n    y = _xyz[1],\n    z = _xyz[2];\n  var _getDistanceScales = getDistanceScales({\n      longitude: longitude,\n      latitude: latitude,\n      highPrecision: true\n    }),\n    unitsPerMeter = _getDistanceScales.unitsPerMeter,\n    unitsPerMeter2 = _getDistanceScales.unitsPerMeter2;\n  var worldspace = lngLatToWorld(lngLatZ);\n  worldspace[0] += x * (unitsPerMeter[0] + unitsPerMeter2[0] * y);\n  worldspace[1] += y * (unitsPerMeter[1] + unitsPerMeter2[1] * y);\n  var newLngLat = worldToLngLat(worldspace);\n  var newZ = (z0 || 0) + (z || 0);\n  return Number.isFinite(z0) || Number.isFinite(z) ? [newLngLat[0], newLngLat[1], newZ] : newLngLat;\n}\nexport function getViewMatrix(_ref7) {\n  var height = _ref7.height,\n    pitch = _ref7.pitch,\n    bearing = _ref7.bearing,\n    altitude = _ref7.altitude,\n    scale = _ref7.scale,\n    _ref7$center = _ref7.center,\n    center = _ref7$center === void 0 ? null : _ref7$center;\n  var vm = createMat4();\n  mat4.translate(vm, vm, [0, 0, -altitude]);\n  mat4.rotateX(vm, vm, -pitch * DEGREES_TO_RADIANS);\n  mat4.rotateZ(vm, vm, bearing * DEGREES_TO_RADIANS);\n  scale /= height;\n  mat4.scale(vm, vm, [scale, scale, scale]);\n  if (center) {\n    mat4.translate(vm, vm, vec3.negate([], center));\n  }\n  return vm;\n}\nexport function getProjectionParameters(_ref8) {\n  var width = _ref8.width,\n    height = _ref8.height,\n    _ref8$altitude = _ref8.altitude,\n    altitude = _ref8$altitude === void 0 ? DEFAULT_ALTITUDE : _ref8$altitude,\n    _ref8$pitch = _ref8.pitch,\n    pitch = _ref8$pitch === void 0 ? 0 : _ref8$pitch,\n    _ref8$nearZMultiplier = _ref8.nearZMultiplier,\n    nearZMultiplier = _ref8$nearZMultiplier === void 0 ? 1 : _ref8$nearZMultiplier,\n    _ref8$farZMultiplier = _ref8.farZMultiplier,\n    farZMultiplier = _ref8$farZMultiplier === void 0 ? 1 : _ref8$farZMultiplier;\n  var pitchRadians = pitch * DEGREES_TO_RADIANS;\n  var halfFov = Math.atan(0.5 / altitude);\n  var topHalfSurfaceDistance = Math.sin(halfFov) * altitude / Math.sin(Math.min(Math.max(Math.PI / 2 - pitchRadians - halfFov, 0.01), Math.PI - 0.01));\n  var farZ = Math.sin(pitchRadians) * topHalfSurfaceDistance + altitude;\n  return {\n    fov: 2 * halfFov,\n    aspect: width / height,\n    focalDistance: altitude,\n    near: nearZMultiplier,\n    far: farZ * farZMultiplier\n  };\n}\nexport function getProjectionMatrix(_ref9) {\n  var width = _ref9.width,\n    height = _ref9.height,\n    pitch = _ref9.pitch,\n    altitude = _ref9.altitude,\n    nearZMultiplier = _ref9.nearZMultiplier,\n    farZMultiplier = _ref9.farZMultiplier;\n  var _getProjectionParamet = getProjectionParameters({\n      width: width,\n      height: height,\n      altitude: altitude,\n      pitch: pitch,\n      nearZMultiplier: nearZMultiplier,\n      farZMultiplier: farZMultiplier\n    }),\n    fov = _getProjectionParamet.fov,\n    aspect = _getProjectionParamet.aspect,\n    near = _getProjectionParamet.near,\n    far = _getProjectionParamet.far;\n  var projectionMatrix = mat4.perspective([], fov, aspect, near, far);\n  return projectionMatrix;\n}\nexport function worldToPixels(xyz, pixelProjectionMatrix) {\n  var _xyz2 = _slicedToArray(xyz, 3),\n    x = _xyz2[0],\n    y = _xyz2[1],\n    _xyz2$ = _xyz2[2],\n    z = _xyz2$ === void 0 ? 0 : _xyz2$;\n  assert(Number.isFinite(x) && Number.isFinite(y) && Number.isFinite(z));\n  return transformVector(pixelProjectionMatrix, [x, y, z, 1]);\n}\nexport function pixelsToWorld(xyz, pixelUnprojectionMatrix) {\n  var targetZ = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n  var _xyz3 = _slicedToArray(xyz, 3),\n    x = _xyz3[0],\n    y = _xyz3[1],\n    z = _xyz3[2];\n  assert(Number.isFinite(x) && Number.isFinite(y), 'invalid pixel coordinate');\n  if (Number.isFinite(z)) {\n    var coord = transformVector(pixelUnprojectionMatrix, [x, y, z, 1]);\n    return coord;\n  }\n  var coord0 = transformVector(pixelUnprojectionMatrix, [x, y, 0, 1]);\n  var coord1 = transformVector(pixelUnprojectionMatrix, [x, y, 1, 1]);\n  var z0 = coord0[2];\n  var z1 = coord1[2];\n  var t = z0 === z1 ? 0 : ((targetZ || 0) - z0) / (z1 - z0);\n  return vec2.lerp([], coord0, coord1, t);\n}","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport WebMercatorViewport from './web-mercator-viewport';\nimport assert from './assert';\nexport default function fitBounds(_ref) {\n  var width = _ref.width,\n    height = _ref.height,\n    bounds = _ref.bounds,\n    _ref$minExtent = _ref.minExtent,\n    minExtent = _ref$minExtent === void 0 ? 0 : _ref$minExtent,\n    _ref$maxZoom = _ref.maxZoom,\n    maxZoom = _ref$maxZoom === void 0 ? 24 : _ref$maxZoom,\n    _ref$padding = _ref.padding,\n    padding = _ref$padding === void 0 ? 0 : _ref$padding,\n    _ref$offset = _ref.offset,\n    offset = _ref$offset === void 0 ? [0, 0] : _ref$offset;\n  var _bounds = _slicedToArray(bounds, 2),\n    _bounds$ = _slicedToArray(_bounds[0], 2),\n    west = _bounds$[0],\n    south = _bounds$[1],\n    _bounds$2 = _slicedToArray(_bounds[1], 2),\n    east = _bounds$2[0],\n    north = _bounds$2[1];\n  if (Number.isFinite(padding)) {\n    var p = padding;\n    padding = {\n      top: p,\n      bottom: p,\n      left: p,\n      right: p\n    };\n  } else {\n    assert(Number.isFinite(padding.top) && Number.isFinite(padding.bottom) && Number.isFinite(padding.left) && Number.isFinite(padding.right));\n  }\n  var viewport = new WebMercatorViewport({\n    width: width,\n    height: height,\n    longitude: 0,\n    latitude: 0,\n    zoom: 0\n  });\n  var nw = viewport.project([west, north]);\n  var se = viewport.project([east, south]);\n  var size = [Math.max(Math.abs(se[0] - nw[0]), minExtent), Math.max(Math.abs(se[1] - nw[1]), minExtent)];\n  var targetSize = [width - padding.left - padding.right - Math.abs(offset[0]) * 2, height - padding.top - padding.bottom - Math.abs(offset[1]) * 2];\n  assert(targetSize[0] > 0 && targetSize[1] > 0);\n  var scaleX = targetSize[0] / size[0];\n  var scaleY = targetSize[1] / size[1];\n  var offsetX = (padding.right - padding.left) / 2 / scaleX;\n  var offsetY = (padding.bottom - padding.top) / 2 / scaleY;\n  var center = [(se[0] + nw[0]) / 2 + offsetX, (se[1] + nw[1]) / 2 + offsetY];\n  var centerLngLat = viewport.unproject(center);\n  var zoom = Math.min(maxZoom, viewport.zoom + Math.log2(Math.abs(Math.min(scaleX, scaleY))));\n  assert(Number.isFinite(zoom));\n  return {\n    longitude: centerLngLat[0],\n    latitude: centerLngLat[1],\n    zoom: zoom\n  };\n}","import { worldToLngLat } from './web-mercator-utils';\nimport * as vec2 from 'gl-matrix/vec2';\nimport { transformVector } from './math-utils';\nvar DEGREES_TO_RADIANS = Math.PI / 180;\nexport default function getBounds(viewport) {\n  var z = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var width = viewport.width,\n    height = viewport.height,\n    unproject = viewport.unproject;\n  var unprojectOps = {\n    targetZ: z\n  };\n  var bottomLeft = unproject([0, height], unprojectOps);\n  var bottomRight = unproject([width, height], unprojectOps);\n  var topLeft;\n  var topRight;\n  var halfFov = Math.atan(0.5 / viewport.altitude);\n  var angleToGround = (90 - viewport.pitch) * DEGREES_TO_RADIANS;\n  if (halfFov > angleToGround - 0.01) {\n    topLeft = unprojectOnFarPlane(viewport, 0, z);\n    topRight = unprojectOnFarPlane(viewport, width, z);\n  } else {\n    topLeft = unproject([0, 0], unprojectOps);\n    topRight = unproject([width, 0], unprojectOps);\n  }\n  return [bottomLeft, bottomRight, topRight, topLeft];\n}\nfunction unprojectOnFarPlane(viewport, x, targetZ) {\n  var pixelUnprojectionMatrix = viewport.pixelUnprojectionMatrix;\n  var coord0 = transformVector(pixelUnprojectionMatrix, [x, 0, 1, 1]);\n  var coord1 = transformVector(pixelUnprojectionMatrix, [x, viewport.height, 1, 1]);\n  var z = targetZ * viewport.distanceScales.unitsPerMeter[2];\n  var t = (z - coord0[2]) / (coord1[2] - coord0[2]);\n  var coord = vec2.lerp([], coord0, coord1, t);\n  var result = worldToLngLat(coord);\n  result[2] = targetZ;\n  return result;\n}","import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport { createMat4 } from './math-utils';\nimport { zoomToScale, pixelsToWorld, lngLatToWorld, worldToLngLat, worldToPixels, getProjectionMatrix, getDistanceScales, getViewMatrix } from './web-mercator-utils';\nimport _fitBounds from './fit-bounds';\nimport getBounds from './get-bounds';\nimport * as mat4 from 'gl-matrix/mat4';\nimport * as vec2 from 'gl-matrix/vec2';\nimport * as vec3 from 'gl-matrix/vec3';\nvar WebMercatorViewport = function () {\n  function WebMercatorViewport() {\n    var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n        width: 1,\n        height: 1\n      },\n      width = _ref.width,\n      height = _ref.height,\n      _ref$latitude = _ref.latitude,\n      latitude = _ref$latitude === void 0 ? 0 : _ref$latitude,\n      _ref$longitude = _ref.longitude,\n      longitude = _ref$longitude === void 0 ? 0 : _ref$longitude,\n      _ref$zoom = _ref.zoom,\n      zoom = _ref$zoom === void 0 ? 0 : _ref$zoom,\n      _ref$pitch = _ref.pitch,\n      pitch = _ref$pitch === void 0 ? 0 : _ref$pitch,\n      _ref$bearing = _ref.bearing,\n      bearing = _ref$bearing === void 0 ? 0 : _ref$bearing,\n      _ref$altitude = _ref.altitude,\n      altitude = _ref$altitude === void 0 ? 1.5 : _ref$altitude,\n      _ref$position = _ref.position,\n      position = _ref$position === void 0 ? null : _ref$position,\n      _ref$nearZMultiplier = _ref.nearZMultiplier,\n      nearZMultiplier = _ref$nearZMultiplier === void 0 ? 0.02 : _ref$nearZMultiplier,\n      _ref$farZMultiplier = _ref.farZMultiplier,\n      farZMultiplier = _ref$farZMultiplier === void 0 ? 1.01 : _ref$farZMultiplier;\n    _classCallCheck(this, WebMercatorViewport);\n    width = width || 1;\n    height = height || 1;\n    var scale = zoomToScale(zoom);\n    altitude = Math.max(0.75, altitude);\n    var distanceScales = getDistanceScales({\n      longitude: longitude,\n      latitude: latitude\n    });\n    var center = lngLatToWorld([longitude, latitude]);\n    center[2] = 0;\n    if (position) {\n      vec3.add(center, center, vec3.mul([], position, distanceScales.unitsPerMeter));\n    }\n    this.projectionMatrix = getProjectionMatrix({\n      width: width,\n      height: height,\n      pitch: pitch,\n      altitude: altitude,\n      nearZMultiplier: nearZMultiplier,\n      farZMultiplier: farZMultiplier\n    });\n    this.viewMatrix = getViewMatrix({\n      height: height,\n      scale: scale,\n      center: center,\n      pitch: pitch,\n      bearing: bearing,\n      altitude: altitude\n    });\n    this.width = width;\n    this.height = height;\n    this.scale = scale;\n    this.latitude = latitude;\n    this.longitude = longitude;\n    this.zoom = zoom;\n    this.pitch = pitch;\n    this.bearing = bearing;\n    this.altitude = altitude;\n    this.center = center;\n    this.meterOffset = position || [0, 0, 0];\n    this.distanceScales = distanceScales;\n    this._initMatrices();\n    this.equals = this.equals.bind(this);\n    this.project = this.project.bind(this);\n    this.unproject = this.unproject.bind(this);\n    this.projectPosition = this.projectPosition.bind(this);\n    this.unprojectPosition = this.unprojectPosition.bind(this);\n    Object.freeze(this);\n  }\n  _createClass(WebMercatorViewport, [{\n    key: \"_initMatrices\",\n    value: function _initMatrices() {\n      var width = this.width,\n        height = this.height,\n        projectionMatrix = this.projectionMatrix,\n        viewMatrix = this.viewMatrix;\n      var vpm = createMat4();\n      mat4.multiply(vpm, vpm, projectionMatrix);\n      mat4.multiply(vpm, vpm, viewMatrix);\n      this.viewProjectionMatrix = vpm;\n      var m = createMat4();\n      mat4.scale(m, m, [width / 2, -height / 2, 1]);\n      mat4.translate(m, m, [1, -1, 0]);\n      mat4.multiply(m, m, vpm);\n      var mInverse = mat4.invert(createMat4(), m);\n      if (!mInverse) {\n        throw new Error('Pixel project matrix not invertible');\n      }\n      this.pixelProjectionMatrix = m;\n      this.pixelUnprojectionMatrix = mInverse;\n    }\n  }, {\n    key: \"equals\",\n    value: function equals(viewport) {\n      if (!(viewport instanceof WebMercatorViewport)) {\n        return false;\n      }\n      return viewport.width === this.width && viewport.height === this.height && mat4.equals(viewport.projectionMatrix, this.projectionMatrix) && mat4.equals(viewport.viewMatrix, this.viewMatrix);\n    }\n  }, {\n    key: \"project\",\n    value: function project(xyz) {\n      var _ref2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        _ref2$topLeft = _ref2.topLeft,\n        topLeft = _ref2$topLeft === void 0 ? true : _ref2$topLeft;\n      var worldPosition = this.projectPosition(xyz);\n      var coord = worldToPixels(worldPosition, this.pixelProjectionMatrix);\n      var _coord = _slicedToArray(coord, 2),\n        x = _coord[0],\n        y = _coord[1];\n      var y2 = topLeft ? y : this.height - y;\n      return xyz.length === 2 ? [x, y2] : [x, y2, coord[2]];\n    }\n  }, {\n    key: \"unproject\",\n    value: function unproject(xyz) {\n      var _ref3 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n        _ref3$topLeft = _ref3.topLeft,\n        topLeft = _ref3$topLeft === void 0 ? true : _ref3$topLeft,\n        _ref3$targetZ = _ref3.targetZ,\n        targetZ = _ref3$targetZ === void 0 ? undefined : _ref3$targetZ;\n      var _xyz = _slicedToArray(xyz, 3),\n        x = _xyz[0],\n        y = _xyz[1],\n        z = _xyz[2];\n      var y2 = topLeft ? y : this.height - y;\n      var targetZWorld = targetZ && targetZ * this.distanceScales.unitsPerMeter[2];\n      var coord = pixelsToWorld([x, y2, z], this.pixelUnprojectionMatrix, targetZWorld);\n      var _this$unprojectPositi = this.unprojectPosition(coord),\n        _this$unprojectPositi2 = _slicedToArray(_this$unprojectPositi, 3),\n        X = _this$unprojectPositi2[0],\n        Y = _this$unprojectPositi2[1],\n        Z = _this$unprojectPositi2[2];\n      if (Number.isFinite(z)) {\n        return [X, Y, Z];\n      }\n      return Number.isFinite(targetZ) ? [X, Y, targetZ] : [X, Y];\n    }\n  }, {\n    key: \"projectPosition\",\n    value: function projectPosition(xyz) {\n      var _lngLatToWorld = lngLatToWorld(xyz),\n        _lngLatToWorld2 = _slicedToArray(_lngLatToWorld, 2),\n        X = _lngLatToWorld2[0],\n        Y = _lngLatToWorld2[1];\n      var Z = (xyz[2] || 0) * this.distanceScales.unitsPerMeter[2];\n      return [X, Y, Z];\n    }\n  }, {\n    key: \"unprojectPosition\",\n    value: function unprojectPosition(xyz) {\n      var _worldToLngLat = worldToLngLat(xyz),\n        _worldToLngLat2 = _slicedToArray(_worldToLngLat, 2),\n        X = _worldToLngLat2[0],\n        Y = _worldToLngLat2[1];\n      var Z = (xyz[2] || 0) * this.distanceScales.metersPerUnit[2];\n      return [X, Y, Z];\n    }\n  }, {\n    key: \"projectFlat\",\n    value: function projectFlat(lngLat) {\n      return lngLatToWorld(lngLat);\n    }\n  }, {\n    key: \"unprojectFlat\",\n    value: function unprojectFlat(xy) {\n      return worldToLngLat(xy);\n    }\n  }, {\n    key: \"getMapCenterByLngLatPosition\",\n    value: function getMapCenterByLngLatPosition(_ref4) {\n      var lngLat = _ref4.lngLat,\n        pos = _ref4.pos;\n      var fromLocation = pixelsToWorld(pos, this.pixelUnprojectionMatrix);\n      var toLocation = lngLatToWorld(lngLat);\n      var translate = vec2.add([], toLocation, vec2.negate([], fromLocation));\n      var newCenter = vec2.add([], this.center, translate);\n      return worldToLngLat(newCenter);\n    }\n  }, {\n    key: \"getLocationAtPoint\",\n    value: function getLocationAtPoint(_ref5) {\n      var lngLat = _ref5.lngLat,\n        pos = _ref5.pos;\n      return this.getMapCenterByLngLatPosition({\n        lngLat: lngLat,\n        pos: pos\n      });\n    }\n  }, {\n    key: \"fitBounds\",\n    value: function fitBounds(bounds) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var width = this.width,\n        height = this.height;\n      var _fitBounds2 = _fitBounds(Object.assign({\n          width: width,\n          height: height,\n          bounds: bounds\n        }, options)),\n        longitude = _fitBounds2.longitude,\n        latitude = _fitBounds2.latitude,\n        zoom = _fitBounds2.zoom;\n      return new WebMercatorViewport({\n        width: width,\n        height: height,\n        longitude: longitude,\n        latitude: latitude,\n        zoom: zoom\n      });\n    }\n  }, {\n    key: \"getBounds\",\n    value: function getBounds(options) {\n      var corners = this.getBoundingRegion(options);\n      var west = Math.min.apply(Math, _toConsumableArray(corners.map(function (p) {\n        return p[0];\n      })));\n      var east = Math.max.apply(Math, _toConsumableArray(corners.map(function (p) {\n        return p[0];\n      })));\n      var south = Math.min.apply(Math, _toConsumableArray(corners.map(function (p) {\n        return p[1];\n      })));\n      var north = Math.max.apply(Math, _toConsumableArray(corners.map(function (p) {\n        return p[1];\n      })));\n      return [[west, south], [east, north]];\n    }\n  }, {\n    key: \"getBoundingRegion\",\n    value: function getBoundingRegion() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      return getBounds(this, options.z || 0);\n    }\n  }]);\n  return WebMercatorViewport;\n}();\nexport { WebMercatorViewport as default };","import WebMercatorViewport from './web-mercator-viewport';\nimport { mod } from './math-utils';\nvar MAX_LATITUDE = 85.05113;\nvar MIN_LATITUDE = -85.05113;\nexport default function normalizeViewportProps(_ref) {\n  var width = _ref.width,\n    height = _ref.height,\n    longitude = _ref.longitude,\n    latitude = _ref.latitude,\n    zoom = _ref.zoom,\n    _ref$pitch = _ref.pitch,\n    pitch = _ref$pitch === void 0 ? 0 : _ref$pitch,\n    _ref$bearing = _ref.bearing,\n    bearing = _ref$bearing === void 0 ? 0 : _ref$bearing;\n  if (longitude < -180 || longitude > 180) {\n    longitude = mod(longitude + 180, 360) - 180;\n  }\n  if (bearing < -180 || bearing > 180) {\n    bearing = mod(bearing + 180, 360) - 180;\n  }\n  var flatViewport = new WebMercatorViewport({\n    width: width,\n    height: height,\n    longitude: longitude,\n    latitude: latitude,\n    zoom: zoom\n  });\n  var topY = flatViewport.project([longitude, MAX_LATITUDE])[1];\n  var bottomY = flatViewport.project([longitude, MIN_LATITUDE])[1];\n  var shiftY = 0;\n  if (bottomY - topY < height) {\n    zoom += Math.log2(height / (bottomY - topY));\n    flatViewport = new WebMercatorViewport({\n      width: width,\n      height: height,\n      longitude: longitude,\n      latitude: latitude,\n      zoom: zoom\n    });\n    topY = flatViewport.project([longitude, MAX_LATITUDE])[1];\n    bottomY = flatViewport.project([longitude, MIN_LATITUDE])[1];\n  }\n  if (topY > 0) {\n    shiftY = topY;\n  } else if (bottomY < height) {\n    shiftY = bottomY - height;\n  }\n  if (shiftY) {\n    latitude = flatViewport.unproject([width / 2, height / 2 + shiftY])[1];\n  }\n  return {\n    width: width,\n    height: height,\n    longitude: longitude,\n    latitude: latitude,\n    zoom: zoom,\n    pitch: pitch,\n    bearing: bearing\n  };\n}","function _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n      var F = function F() {};\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var normalCompletion = true,\n    didErr = false,\n    err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n  return arr2;\n}\nimport { lerp } from './math-utils';\nimport { scaleToZoom, zoomToScale, lngLatToWorld, worldToLngLat } from './web-mercator-utils';\nimport * as vec2 from 'gl-matrix/vec2';\nvar EPSILON = 0.01;\nvar VIEWPORT_TRANSITION_PROPS = ['longitude', 'latitude', 'zoom'];\nvar DEFAULT_OPTS = {\n  curve: 1.414,\n  speed: 1.2\n};\nexport default function flyToViewport(startProps, endProps, t) {\n  var opts = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n  var viewport = {};\n  var _getFlyToTransitionPa = getFlyToTransitionParams(startProps, endProps, opts),\n    startZoom = _getFlyToTransitionPa.startZoom,\n    startCenterXY = _getFlyToTransitionPa.startCenterXY,\n    uDelta = _getFlyToTransitionPa.uDelta,\n    w0 = _getFlyToTransitionPa.w0,\n    u1 = _getFlyToTransitionPa.u1,\n    S = _getFlyToTransitionPa.S,\n    rho = _getFlyToTransitionPa.rho,\n    rho2 = _getFlyToTransitionPa.rho2,\n    r0 = _getFlyToTransitionPa.r0;\n  if (u1 < EPSILON) {\n    var _iterator = _createForOfIteratorHelper(VIEWPORT_TRANSITION_PROPS),\n      _step;\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var key = _step.value;\n        var startValue = startProps[key];\n        var endValue = endProps[key];\n        viewport[key] = lerp(startValue, endValue, t);\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n    return viewport;\n  }\n  var s = t * S;\n  var w = Math.cosh(r0) / Math.cosh(r0 + rho * s);\n  var u = w0 * ((Math.cosh(r0) * Math.tanh(r0 + rho * s) - Math.sinh(r0)) / rho2) / u1;\n  var scaleIncrement = 1 / w;\n  var newZoom = startZoom + scaleToZoom(scaleIncrement);\n  var newCenterWorld = vec2.scale([], uDelta, u);\n  vec2.add(newCenterWorld, newCenterWorld, startCenterXY);\n  var newCenter = worldToLngLat(newCenterWorld);\n  viewport.longitude = newCenter[0];\n  viewport.latitude = newCenter[1];\n  viewport.zoom = newZoom;\n  return viewport;\n}\nexport function getFlyToDuration(startProps, endProps) {\n  var opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  opts = Object.assign({}, DEFAULT_OPTS, opts);\n  var _opts = opts,\n    screenSpeed = _opts.screenSpeed,\n    speed = _opts.speed,\n    maxDuration = _opts.maxDuration;\n  var _getFlyToTransitionPa2 = getFlyToTransitionParams(startProps, endProps, opts),\n    S = _getFlyToTransitionPa2.S,\n    rho = _getFlyToTransitionPa2.rho;\n  var length = 1000 * S;\n  var duration;\n  if (Number.isFinite(screenSpeed)) {\n    duration = length / (screenSpeed / rho);\n  } else {\n    duration = length / speed;\n  }\n  return Number.isFinite(maxDuration) && duration > maxDuration ? 0 : duration;\n}\nfunction getFlyToTransitionParams(startProps, endProps, opts) {\n  opts = Object.assign({}, DEFAULT_OPTS, opts);\n  var rho = opts.curve;\n  var startZoom = startProps.zoom;\n  var startCenter = [startProps.longitude, startProps.latitude];\n  var startScale = zoomToScale(startZoom);\n  var endZoom = endProps.zoom;\n  var endCenter = [endProps.longitude, endProps.latitude];\n  var scale = zoomToScale(endZoom - startZoom);\n  var startCenterXY = lngLatToWorld(startCenter);\n  var endCenterXY = lngLatToWorld(endCenter);\n  var uDelta = vec2.sub([], endCenterXY, startCenterXY);\n  var w0 = Math.max(startProps.width, startProps.height);\n  var w1 = w0 / scale;\n  var u1 = vec2.length(uDelta) * startScale;\n  var _u1 = Math.max(u1, EPSILON);\n  var rho2 = rho * rho;\n  var b0 = (w1 * w1 - w0 * w0 + rho2 * rho2 * _u1 * _u1) / (2 * w0 * rho2 * _u1);\n  var b1 = (w1 * w1 - w0 * w0 - rho2 * rho2 * _u1 * _u1) / (2 * w1 * rho2 * _u1);\n  var r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0);\n  var r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n  var S = (r1 - r0) / rho;\n  return {\n    startZoom: startZoom,\n    startCenterXY: startCenterXY,\n    uDelta: uDelta,\n    w0: w0,\n    u1: u1,\n    S: S,\n    rho: rho,\n    rho2: rho2,\n    r0: r0,\n    r1: r1\n  };\n}","/**\r\n * A collection of shims that provide minimal functionality of the ES6 collections.\r\n *\r\n * These implementations are not meant to be used outside of the ResizeObserver\r\n * modules as they cover only a limited range of use cases.\r\n */\n/* eslint-disable require-jsdoc, valid-jsdoc */\nvar MapShim = function () {\n  if (typeof Map !== 'undefined') {\n    return Map;\n  }\n  /**\r\n   * Returns index in provided array that matches the specified key.\r\n   *\r\n   * @param {Array<Array>} arr\r\n   * @param {*} key\r\n   * @returns {number}\r\n   */\n  function getIndex(arr, key) {\n    var result = -1;\n    arr.some(function (entry, index) {\n      if (entry[0] === key) {\n        result = index;\n        return true;\n      }\n      return false;\n    });\n    return result;\n  }\n  return /** @class */function () {\n    function class_1() {\n      this.__entries__ = [];\n    }\n    Object.defineProperty(class_1.prototype, \"size\", {\n      /**\r\n       * @returns {boolean}\r\n       */\n      get: function () {\n        return this.__entries__.length;\n      },\n      enumerable: true,\n      configurable: true\n    });\n    /**\r\n     * @param {*} key\r\n     * @returns {*}\r\n     */\n    class_1.prototype.get = function (key) {\n      var index = getIndex(this.__entries__, key);\n      var entry = this.__entries__[index];\n      return entry && entry[1];\n    };\n    /**\r\n     * @param {*} key\r\n     * @param {*} value\r\n     * @returns {void}\r\n     */\n    class_1.prototype.set = function (key, value) {\n      var index = getIndex(this.__entries__, key);\n      if (~index) {\n        this.__entries__[index][1] = value;\n      } else {\n        this.__entries__.push([key, value]);\n      }\n    };\n    /**\r\n     * @param {*} key\r\n     * @returns {void}\r\n     */\n    class_1.prototype.delete = function (key) {\n      var entries = this.__entries__;\n      var index = getIndex(entries, key);\n      if (~index) {\n        entries.splice(index, 1);\n      }\n    };\n    /**\r\n     * @param {*} key\r\n     * @returns {void}\r\n     */\n    class_1.prototype.has = function (key) {\n      return !!~getIndex(this.__entries__, key);\n    };\n    /**\r\n     * @returns {void}\r\n     */\n    class_1.prototype.clear = function () {\n      this.__entries__.splice(0);\n    };\n    /**\r\n     * @param {Function} callback\r\n     * @param {*} [ctx=null]\r\n     * @returns {void}\r\n     */\n    class_1.prototype.forEach = function (callback, ctx) {\n      if (ctx === void 0) {\n        ctx = null;\n      }\n      for (var _i = 0, _a = this.__entries__; _i < _a.length; _i++) {\n        var entry = _a[_i];\n        callback.call(ctx, entry[1], entry[0]);\n      }\n    };\n    return class_1;\n  }();\n}();\n\n/**\r\n * Detects whether window and document objects are available in current environment.\r\n */\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined' && window.document === document;\n\n// Returns global object of a current environment.\nvar global$1 = function () {\n  if (typeof global !== 'undefined' && global.Math === Math) {\n    return global;\n  }\n  if (typeof self !== 'undefined' && self.Math === Math) {\n    return self;\n  }\n  if (typeof window !== 'undefined' && window.Math === Math) {\n    return window;\n  }\n  // eslint-disable-next-line no-new-func\n  return Function('return this')();\n}();\n\n/**\r\n * A shim for the requestAnimationFrame which falls back to the setTimeout if\r\n * first one is not supported.\r\n *\r\n * @returns {number} Requests' identifier.\r\n */\nvar requestAnimationFrame$1 = function () {\n  if (typeof requestAnimationFrame === 'function') {\n    // It's required to use a bounded function because IE sometimes throws\n    // an \"Invalid calling object\" error if rAF is invoked without the global\n    // object on the left hand side.\n    return requestAnimationFrame.bind(global$1);\n  }\n  return function (callback) {\n    return setTimeout(function () {\n      return callback(Date.now());\n    }, 1000 / 60);\n  };\n}();\n\n// Defines minimum timeout before adding a trailing call.\nvar trailingTimeout = 2;\n/**\r\n * Creates a wrapper function which ensures that provided callback will be\r\n * invoked only once during the specified delay period.\r\n *\r\n * @param {Function} callback - Function to be invoked after the delay period.\r\n * @param {number} delay - Delay after which to invoke callback.\r\n * @returns {Function}\r\n */\nfunction throttle(callback, delay) {\n  var leadingCall = false,\n    trailingCall = false,\n    lastCallTime = 0;\n  /**\r\n   * Invokes the original callback function and schedules new invocation if\r\n   * the \"proxy\" was called during current request.\r\n   *\r\n   * @returns {void}\r\n   */\n  function resolvePending() {\n    if (leadingCall) {\n      leadingCall = false;\n      callback();\n    }\n    if (trailingCall) {\n      proxy();\n    }\n  }\n  /**\r\n   * Callback invoked after the specified delay. It will further postpone\r\n   * invocation of the original function delegating it to the\r\n   * requestAnimationFrame.\r\n   *\r\n   * @returns {void}\r\n   */\n  function timeoutCallback() {\n    requestAnimationFrame$1(resolvePending);\n  }\n  /**\r\n   * Schedules invocation of the original function.\r\n   *\r\n   * @returns {void}\r\n   */\n  function proxy() {\n    var timeStamp = Date.now();\n    if (leadingCall) {\n      // Reject immediately following calls.\n      if (timeStamp - lastCallTime < trailingTimeout) {\n        return;\n      }\n      // Schedule new call to be in invoked when the pending one is resolved.\n      // This is important for \"transitions\" which never actually start\n      // immediately so there is a chance that we might miss one if change\n      // happens amids the pending invocation.\n      trailingCall = true;\n    } else {\n      leadingCall = true;\n      trailingCall = false;\n      setTimeout(timeoutCallback, delay);\n    }\n    lastCallTime = timeStamp;\n  }\n  return proxy;\n}\n\n// Minimum delay before invoking the update of observers.\nvar REFRESH_DELAY = 20;\n// A list of substrings of CSS properties used to find transition events that\n// might affect dimensions of observed elements.\nvar transitionKeys = ['top', 'right', 'bottom', 'left', 'width', 'height', 'size', 'weight'];\n// Check if MutationObserver is available.\nvar mutationObserverSupported = typeof MutationObserver !== 'undefined';\n/**\r\n * Singleton controller class which handles updates of ResizeObserver instances.\r\n */\nvar ResizeObserverController = /** @class */function () {\n  /**\r\n   * Creates a new instance of ResizeObserverController.\r\n   *\r\n   * @private\r\n   */\n  function ResizeObserverController() {\n    /**\r\n     * Indicates whether DOM listeners have been added.\r\n     *\r\n     * @private {boolean}\r\n     */\n    this.connected_ = false;\n    /**\r\n     * Tells that controller has subscribed for Mutation Events.\r\n     *\r\n     * @private {boolean}\r\n     */\n    this.mutationEventsAdded_ = false;\n    /**\r\n     * Keeps reference to the instance of MutationObserver.\r\n     *\r\n     * @private {MutationObserver}\r\n     */\n    this.mutationsObserver_ = null;\n    /**\r\n     * A list of connected observers.\r\n     *\r\n     * @private {Array<ResizeObserverSPI>}\r\n     */\n    this.observers_ = [];\n    this.onTransitionEnd_ = this.onTransitionEnd_.bind(this);\n    this.refresh = throttle(this.refresh.bind(this), REFRESH_DELAY);\n  }\n  /**\r\n   * Adds observer to observers list.\r\n   *\r\n   * @param {ResizeObserverSPI} observer - Observer to be added.\r\n   * @returns {void}\r\n   */\n  ResizeObserverController.prototype.addObserver = function (observer) {\n    if (!~this.observers_.indexOf(observer)) {\n      this.observers_.push(observer);\n    }\n    // Add listeners if they haven't been added yet.\n    if (!this.connected_) {\n      this.connect_();\n    }\n  };\n  /**\r\n   * Removes observer from observers list.\r\n   *\r\n   * @param {ResizeObserverSPI} observer - Observer to be removed.\r\n   * @returns {void}\r\n   */\n  ResizeObserverController.prototype.removeObserver = function (observer) {\n    var observers = this.observers_;\n    var index = observers.indexOf(observer);\n    // Remove observer if it's present in registry.\n    if (~index) {\n      observers.splice(index, 1);\n    }\n    // Remove listeners if controller has no connected observers.\n    if (!observers.length && this.connected_) {\n      this.disconnect_();\n    }\n  };\n  /**\r\n   * Invokes the update of observers. It will continue running updates insofar\r\n   * it detects changes.\r\n   *\r\n   * @returns {void}\r\n   */\n  ResizeObserverController.prototype.refresh = function () {\n    var changesDetected = this.updateObservers_();\n    // Continue running updates if changes have been detected as there might\n    // be future ones caused by CSS transitions.\n    if (changesDetected) {\n      this.refresh();\n    }\n  };\n  /**\r\n   * Updates every observer from observers list and notifies them of queued\r\n   * entries.\r\n   *\r\n   * @private\r\n   * @returns {boolean} Returns \"true\" if any observer has detected changes in\r\n   *      dimensions of it's elements.\r\n   */\n  ResizeObserverController.prototype.updateObservers_ = function () {\n    // Collect observers that have active observations.\n    var activeObservers = this.observers_.filter(function (observer) {\n      return observer.gatherActive(), observer.hasActive();\n    });\n    // Deliver notifications in a separate cycle in order to avoid any\n    // collisions between observers, e.g. when multiple instances of\n    // ResizeObserver are tracking the same element and the callback of one\n    // of them changes content dimensions of the observed target. Sometimes\n    // this may result in notifications being blocked for the rest of observers.\n    activeObservers.forEach(function (observer) {\n      return observer.broadcastActive();\n    });\n    return activeObservers.length > 0;\n  };\n  /**\r\n   * Initializes DOM listeners.\r\n   *\r\n   * @private\r\n   * @returns {void}\r\n   */\n  ResizeObserverController.prototype.connect_ = function () {\n    // Do nothing if running in a non-browser environment or if listeners\n    // have been already added.\n    if (!isBrowser || this.connected_) {\n      return;\n    }\n    // Subscription to the \"Transitionend\" event is used as a workaround for\n    // delayed transitions. This way it's possible to capture at least the\n    // final state of an element.\n    document.addEventListener('transitionend', this.onTransitionEnd_);\n    window.addEventListener('resize', this.refresh);\n    if (mutationObserverSupported) {\n      this.mutationsObserver_ = new MutationObserver(this.refresh);\n      this.mutationsObserver_.observe(document, {\n        attributes: true,\n        childList: true,\n        characterData: true,\n        subtree: true\n      });\n    } else {\n      document.addEventListener('DOMSubtreeModified', this.refresh);\n      this.mutationEventsAdded_ = true;\n    }\n    this.connected_ = true;\n  };\n  /**\r\n   * Removes DOM listeners.\r\n   *\r\n   * @private\r\n   * @returns {void}\r\n   */\n  ResizeObserverController.prototype.disconnect_ = function () {\n    // Do nothing if running in a non-browser environment or if listeners\n    // have been already removed.\n    if (!isBrowser || !this.connected_) {\n      return;\n    }\n    document.removeEventListener('transitionend', this.onTransitionEnd_);\n    window.removeEventListener('resize', this.refresh);\n    if (this.mutationsObserver_) {\n      this.mutationsObserver_.disconnect();\n    }\n    if (this.mutationEventsAdded_) {\n      document.removeEventListener('DOMSubtreeModified', this.refresh);\n    }\n    this.mutationsObserver_ = null;\n    this.mutationEventsAdded_ = false;\n    this.connected_ = false;\n  };\n  /**\r\n   * \"Transitionend\" event handler.\r\n   *\r\n   * @private\r\n   * @param {TransitionEvent} event\r\n   * @returns {void}\r\n   */\n  ResizeObserverController.prototype.onTransitionEnd_ = function (_a) {\n    var _b = _a.propertyName,\n      propertyName = _b === void 0 ? '' : _b;\n    // Detect whether transition may affect dimensions of an element.\n    var isReflowProperty = transitionKeys.some(function (key) {\n      return !!~propertyName.indexOf(key);\n    });\n    if (isReflowProperty) {\n      this.refresh();\n    }\n  };\n  /**\r\n   * Returns instance of the ResizeObserverController.\r\n   *\r\n   * @returns {ResizeObserverController}\r\n   */\n  ResizeObserverController.getInstance = function () {\n    if (!this.instance_) {\n      this.instance_ = new ResizeObserverController();\n    }\n    return this.instance_;\n  };\n  /**\r\n   * Holds reference to the controller's instance.\r\n   *\r\n   * @private {ResizeObserverController}\r\n   */\n  ResizeObserverController.instance_ = null;\n  return ResizeObserverController;\n}();\n\n/**\r\n * Defines non-writable/enumerable properties of the provided target object.\r\n *\r\n * @param {Object} target - Object for which to define properties.\r\n * @param {Object} props - Properties to be defined.\r\n * @returns {Object} Target object.\r\n */\nvar defineConfigurable = function (target, props) {\n  for (var _i = 0, _a = Object.keys(props); _i < _a.length; _i++) {\n    var key = _a[_i];\n    Object.defineProperty(target, key, {\n      value: props[key],\n      enumerable: false,\n      writable: false,\n      configurable: true\n    });\n  }\n  return target;\n};\n\n/**\r\n * Returns the global object associated with provided element.\r\n *\r\n * @param {Object} target\r\n * @returns {Object}\r\n */\nvar getWindowOf = function (target) {\n  // Assume that the element is an instance of Node, which means that it\n  // has the \"ownerDocument\" property from which we can retrieve a\n  // corresponding global object.\n  var ownerGlobal = target && target.ownerDocument && target.ownerDocument.defaultView;\n  // Return the local global object if it's not possible extract one from\n  // provided element.\n  return ownerGlobal || global$1;\n};\n\n// Placeholder of an empty content rectangle.\nvar emptyRect = createRectInit(0, 0, 0, 0);\n/**\r\n * Converts provided string to a number.\r\n *\r\n * @param {number|string} value\r\n * @returns {number}\r\n */\nfunction toFloat(value) {\n  return parseFloat(value) || 0;\n}\n/**\r\n * Extracts borders size from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @param {...string} positions - Borders positions (top, right, ...)\r\n * @returns {number}\r\n */\nfunction getBordersSize(styles) {\n  var positions = [];\n  for (var _i = 1; _i < arguments.length; _i++) {\n    positions[_i - 1] = arguments[_i];\n  }\n  return positions.reduce(function (size, position) {\n    var value = styles['border-' + position + '-width'];\n    return size + toFloat(value);\n  }, 0);\n}\n/**\r\n * Extracts paddings sizes from provided styles.\r\n *\r\n * @param {CSSStyleDeclaration} styles\r\n * @returns {Object} Paddings box.\r\n */\nfunction getPaddings(styles) {\n  var positions = ['top', 'right', 'bottom', 'left'];\n  var paddings = {};\n  for (var _i = 0, positions_1 = positions; _i < positions_1.length; _i++) {\n    var position = positions_1[_i];\n    var value = styles['padding-' + position];\n    paddings[position] = toFloat(value);\n  }\n  return paddings;\n}\n/**\r\n * Calculates content rectangle of provided SVG element.\r\n *\r\n * @param {SVGGraphicsElement} target - Element content rectangle of which needs\r\n *      to be calculated.\r\n * @returns {DOMRectInit}\r\n */\nfunction getSVGContentRect(target) {\n  var bbox = target.getBBox();\n  return createRectInit(0, 0, bbox.width, bbox.height);\n}\n/**\r\n * Calculates content rectangle of provided HTMLElement.\r\n *\r\n * @param {HTMLElement} target - Element for which to calculate the content rectangle.\r\n * @returns {DOMRectInit}\r\n */\nfunction getHTMLElementContentRect(target) {\n  // Client width & height properties can't be\n  // used exclusively as they provide rounded values.\n  var clientWidth = target.clientWidth,\n    clientHeight = target.clientHeight;\n  // By this condition we can catch all non-replaced inline, hidden and\n  // detached elements. Though elements with width & height properties less\n  // than 0.5 will be discarded as well.\n  //\n  // Without it we would need to implement separate methods for each of\n  // those cases and it's not possible to perform a precise and performance\n  // effective test for hidden elements. E.g. even jQuery's ':visible' filter\n  // gives wrong results for elements with width & height less than 0.5.\n  if (!clientWidth && !clientHeight) {\n    return emptyRect;\n  }\n  var styles = getWindowOf(target).getComputedStyle(target);\n  var paddings = getPaddings(styles);\n  var horizPad = paddings.left + paddings.right;\n  var vertPad = paddings.top + paddings.bottom;\n  // Computed styles of width & height are being used because they are the\n  // only dimensions available to JS that contain non-rounded values. It could\n  // be possible to utilize the getBoundingClientRect if only it's data wasn't\n  // affected by CSS transformations let alone paddings, borders and scroll bars.\n  var width = toFloat(styles.width),\n    height = toFloat(styles.height);\n  // Width & height include paddings and borders when the 'border-box' box\n  // model is applied (except for IE).\n  if (styles.boxSizing === 'border-box') {\n    // Following conditions are required to handle Internet Explorer which\n    // doesn't include paddings and borders to computed CSS dimensions.\n    //\n    // We can say that if CSS dimensions + paddings are equal to the \"client\"\n    // properties then it's either IE, and thus we don't need to subtract\n    // anything, or an element merely doesn't have paddings/borders styles.\n    if (Math.round(width + horizPad) !== clientWidth) {\n      width -= getBordersSize(styles, 'left', 'right') + horizPad;\n    }\n    if (Math.round(height + vertPad) !== clientHeight) {\n      height -= getBordersSize(styles, 'top', 'bottom') + vertPad;\n    }\n  }\n  // Following steps can't be applied to the document's root element as its\n  // client[Width/Height] properties represent viewport area of the window.\n  // Besides, it's as well not necessary as the <html> itself neither has\n  // rendered scroll bars nor it can be clipped.\n  if (!isDocumentElement(target)) {\n    // In some browsers (only in Firefox, actually) CSS width & height\n    // include scroll bars size which can be removed at this step as scroll\n    // bars are the only difference between rounded dimensions + paddings\n    // and \"client\" properties, though that is not always true in Chrome.\n    var vertScrollbar = Math.round(width + horizPad) - clientWidth;\n    var horizScrollbar = Math.round(height + vertPad) - clientHeight;\n    // Chrome has a rather weird rounding of \"client\" properties.\n    // E.g. for an element with content width of 314.2px it sometimes gives\n    // the client width of 315px and for the width of 314.7px it may give\n    // 314px. And it doesn't happen all the time. So just ignore this delta\n    // as a non-relevant.\n    if (Math.abs(vertScrollbar) !== 1) {\n      width -= vertScrollbar;\n    }\n    if (Math.abs(horizScrollbar) !== 1) {\n      height -= horizScrollbar;\n    }\n  }\n  return createRectInit(paddings.left, paddings.top, width, height);\n}\n/**\r\n * Checks whether provided element is an instance of the SVGGraphicsElement.\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\nvar isSVGGraphicsElement = function () {\n  // Some browsers, namely IE and Edge, don't have the SVGGraphicsElement\n  // interface.\n  if (typeof SVGGraphicsElement !== 'undefined') {\n    return function (target) {\n      return target instanceof getWindowOf(target).SVGGraphicsElement;\n    };\n  }\n  // If it's so, then check that element is at least an instance of the\n  // SVGElement and that it has the \"getBBox\" method.\n  // eslint-disable-next-line no-extra-parens\n  return function (target) {\n    return target instanceof getWindowOf(target).SVGElement && typeof target.getBBox === 'function';\n  };\n}();\n/**\r\n * Checks whether provided element is a document element (<html>).\r\n *\r\n * @param {Element} target - Element to be checked.\r\n * @returns {boolean}\r\n */\nfunction isDocumentElement(target) {\n  return target === getWindowOf(target).document.documentElement;\n}\n/**\r\n * Calculates an appropriate content rectangle for provided html or svg element.\r\n *\r\n * @param {Element} target - Element content rectangle of which needs to be calculated.\r\n * @returns {DOMRectInit}\r\n */\nfunction getContentRect(target) {\n  if (!isBrowser) {\n    return emptyRect;\n  }\n  if (isSVGGraphicsElement(target)) {\n    return getSVGContentRect(target);\n  }\n  return getHTMLElementContentRect(target);\n}\n/**\r\n * Creates rectangle with an interface of the DOMRectReadOnly.\r\n * Spec: https://drafts.fxtf.org/geometry/#domrectreadonly\r\n *\r\n * @param {DOMRectInit} rectInit - Object with rectangle's x/y coordinates and dimensions.\r\n * @returns {DOMRectReadOnly}\r\n */\nfunction createReadOnlyRect(_a) {\n  var x = _a.x,\n    y = _a.y,\n    width = _a.width,\n    height = _a.height;\n  // If DOMRectReadOnly is available use it as a prototype for the rectangle.\n  var Constr = typeof DOMRectReadOnly !== 'undefined' ? DOMRectReadOnly : Object;\n  var rect = Object.create(Constr.prototype);\n  // Rectangle's properties are not writable and non-enumerable.\n  defineConfigurable(rect, {\n    x: x,\n    y: y,\n    width: width,\n    height: height,\n    top: y,\n    right: x + width,\n    bottom: height + y,\n    left: x\n  });\n  return rect;\n}\n/**\r\n * Creates DOMRectInit object based on the provided dimensions and the x/y coordinates.\r\n * Spec: https://drafts.fxtf.org/geometry/#dictdef-domrectinit\r\n *\r\n * @param {number} x - X coordinate.\r\n * @param {number} y - Y coordinate.\r\n * @param {number} width - Rectangle's width.\r\n * @param {number} height - Rectangle's height.\r\n * @returns {DOMRectInit}\r\n */\nfunction createRectInit(x, y, width, height) {\n  return {\n    x: x,\n    y: y,\n    width: width,\n    height: height\n  };\n}\n\n/**\r\n * Class that is responsible for computations of the content rectangle of\r\n * provided DOM element and for keeping track of it's changes.\r\n */\nvar ResizeObservation = /** @class */function () {\n  /**\r\n   * Creates an instance of ResizeObservation.\r\n   *\r\n   * @param {Element} target - Element to be observed.\r\n   */\n  function ResizeObservation(target) {\n    /**\r\n     * Broadcasted width of content rectangle.\r\n     *\r\n     * @type {number}\r\n     */\n    this.broadcastWidth = 0;\n    /**\r\n     * Broadcasted height of content rectangle.\r\n     *\r\n     * @type {number}\r\n     */\n    this.broadcastHeight = 0;\n    /**\r\n     * Reference to the last observed content rectangle.\r\n     *\r\n     * @private {DOMRectInit}\r\n     */\n    this.contentRect_ = createRectInit(0, 0, 0, 0);\n    this.target = target;\n  }\n  /**\r\n   * Updates content rectangle and tells whether it's width or height properties\r\n   * have changed since the last broadcast.\r\n   *\r\n   * @returns {boolean}\r\n   */\n  ResizeObservation.prototype.isActive = function () {\n    var rect = getContentRect(this.target);\n    this.contentRect_ = rect;\n    return rect.width !== this.broadcastWidth || rect.height !== this.broadcastHeight;\n  };\n  /**\r\n   * Updates 'broadcastWidth' and 'broadcastHeight' properties with a data\r\n   * from the corresponding properties of the last observed content rectangle.\r\n   *\r\n   * @returns {DOMRectInit} Last observed content rectangle.\r\n   */\n  ResizeObservation.prototype.broadcastRect = function () {\n    var rect = this.contentRect_;\n    this.broadcastWidth = rect.width;\n    this.broadcastHeight = rect.height;\n    return rect;\n  };\n  return ResizeObservation;\n}();\nvar ResizeObserverEntry = /** @class */function () {\n  /**\r\n   * Creates an instance of ResizeObserverEntry.\r\n   *\r\n   * @param {Element} target - Element that is being observed.\r\n   * @param {DOMRectInit} rectInit - Data of the element's content rectangle.\r\n   */\n  function ResizeObserverEntry(target, rectInit) {\n    var contentRect = createReadOnlyRect(rectInit);\n    // According to the specification following properties are not writable\n    // and are also not enumerable in the native implementation.\n    //\n    // Property accessors are not being used as they'd require to define a\n    // private WeakMap storage which may cause memory leaks in browsers that\n    // don't support this type of collections.\n    defineConfigurable(this, {\n      target: target,\n      contentRect: contentRect\n    });\n  }\n  return ResizeObserverEntry;\n}();\nvar ResizeObserverSPI = /** @class */function () {\n  /**\r\n   * Creates a new instance of ResizeObserver.\r\n   *\r\n   * @param {ResizeObserverCallback} callback - Callback function that is invoked\r\n   *      when one of the observed elements changes it's content dimensions.\r\n   * @param {ResizeObserverController} controller - Controller instance which\r\n   *      is responsible for the updates of observer.\r\n   * @param {ResizeObserver} callbackCtx - Reference to the public\r\n   *      ResizeObserver instance which will be passed to callback function.\r\n   */\n  function ResizeObserverSPI(callback, controller, callbackCtx) {\n    /**\r\n     * Collection of resize observations that have detected changes in dimensions\r\n     * of elements.\r\n     *\r\n     * @private {Array<ResizeObservation>}\r\n     */\n    this.activeObservations_ = [];\n    /**\r\n     * Registry of the ResizeObservation instances.\r\n     *\r\n     * @private {Map<Element, ResizeObservation>}\r\n     */\n    this.observations_ = new MapShim();\n    if (typeof callback !== 'function') {\n      throw new TypeError('The callback provided as parameter 1 is not a function.');\n    }\n    this.callback_ = callback;\n    this.controller_ = controller;\n    this.callbackCtx_ = callbackCtx;\n  }\n  /**\r\n   * Starts observing provided element.\r\n   *\r\n   * @param {Element} target - Element to be observed.\r\n   * @returns {void}\r\n   */\n  ResizeObserverSPI.prototype.observe = function (target) {\n    if (!arguments.length) {\n      throw new TypeError('1 argument required, but only 0 present.');\n    }\n    // Do nothing if current environment doesn't have the Element interface.\n    if (typeof Element === 'undefined' || !(Element instanceof Object)) {\n      return;\n    }\n    if (!(target instanceof getWindowOf(target).Element)) {\n      throw new TypeError('parameter 1 is not of type \"Element\".');\n    }\n    var observations = this.observations_;\n    // Do nothing if element is already being observed.\n    if (observations.has(target)) {\n      return;\n    }\n    observations.set(target, new ResizeObservation(target));\n    this.controller_.addObserver(this);\n    // Force the update of observations.\n    this.controller_.refresh();\n  };\n  /**\r\n   * Stops observing provided element.\r\n   *\r\n   * @param {Element} target - Element to stop observing.\r\n   * @returns {void}\r\n   */\n  ResizeObserverSPI.prototype.unobserve = function (target) {\n    if (!arguments.length) {\n      throw new TypeError('1 argument required, but only 0 present.');\n    }\n    // Do nothing if current environment doesn't have the Element interface.\n    if (typeof Element === 'undefined' || !(Element instanceof Object)) {\n      return;\n    }\n    if (!(target instanceof getWindowOf(target).Element)) {\n      throw new TypeError('parameter 1 is not of type \"Element\".');\n    }\n    var observations = this.observations_;\n    // Do nothing if element is not being observed.\n    if (!observations.has(target)) {\n      return;\n    }\n    observations.delete(target);\n    if (!observations.size) {\n      this.controller_.removeObserver(this);\n    }\n  };\n  /**\r\n   * Stops observing all elements.\r\n   *\r\n   * @returns {void}\r\n   */\n  ResizeObserverSPI.prototype.disconnect = function () {\n    this.clearActive();\n    this.observations_.clear();\n    this.controller_.removeObserver(this);\n  };\n  /**\r\n   * Collects observation instances the associated element of which has changed\r\n   * it's content rectangle.\r\n   *\r\n   * @returns {void}\r\n   */\n  ResizeObserverSPI.prototype.gatherActive = function () {\n    var _this = this;\n    this.clearActive();\n    this.observations_.forEach(function (observation) {\n      if (observation.isActive()) {\n        _this.activeObservations_.push(observation);\n      }\n    });\n  };\n  /**\r\n   * Invokes initial callback function with a list of ResizeObserverEntry\r\n   * instances collected from active resize observations.\r\n   *\r\n   * @returns {void}\r\n   */\n  ResizeObserverSPI.prototype.broadcastActive = function () {\n    // Do nothing if observer doesn't have active observations.\n    if (!this.hasActive()) {\n      return;\n    }\n    var ctx = this.callbackCtx_;\n    // Create ResizeObserverEntry instance for every active observation.\n    var entries = this.activeObservations_.map(function (observation) {\n      return new ResizeObserverEntry(observation.target, observation.broadcastRect());\n    });\n    this.callback_.call(ctx, entries, ctx);\n    this.clearActive();\n  };\n  /**\r\n   * Clears the collection of active observations.\r\n   *\r\n   * @returns {void}\r\n   */\n  ResizeObserverSPI.prototype.clearActive = function () {\n    this.activeObservations_.splice(0);\n  };\n  /**\r\n   * Tells whether observer has active observations.\r\n   *\r\n   * @returns {boolean}\r\n   */\n  ResizeObserverSPI.prototype.hasActive = function () {\n    return this.activeObservations_.length > 0;\n  };\n  return ResizeObserverSPI;\n}();\n\n// Registry of internal observers. If WeakMap is not available use current shim\n// for the Map collection as it has all required methods and because WeakMap\n// can't be fully polyfilled anyway.\nvar observers = typeof WeakMap !== 'undefined' ? new WeakMap() : new MapShim();\n/**\r\n * ResizeObserver API. Encapsulates the ResizeObserver SPI implementation\r\n * exposing only those methods and properties that are defined in the spec.\r\n */\nvar ResizeObserver = /** @class */function () {\n  /**\r\n   * Creates a new instance of ResizeObserver.\r\n   *\r\n   * @param {ResizeObserverCallback} callback - Callback that is invoked when\r\n   *      dimensions of the observed elements change.\r\n   */\n  function ResizeObserver(callback) {\n    if (!(this instanceof ResizeObserver)) {\n      throw new TypeError('Cannot call a class as a function.');\n    }\n    if (!arguments.length) {\n      throw new TypeError('1 argument required, but only 0 present.');\n    }\n    var controller = ResizeObserverController.getInstance();\n    var observer = new ResizeObserverSPI(callback, controller, this);\n    observers.set(this, observer);\n  }\n  return ResizeObserver;\n}();\n// Expose public methods of ResizeObserver.\n['observe', 'unobserve', 'disconnect'].forEach(function (method) {\n  ResizeObserver.prototype[method] = function () {\n    var _a;\n    return (_a = observers.get(this))[method].apply(_a, arguments);\n  };\n});\nvar index = function () {\n  // Export existing implementation if available.\n  if (typeof global$1.ResizeObserver !== 'undefined') {\n    return global$1.ResizeObserver;\n  }\n  return ResizeObserver;\n}();\nexport default index;","var window_ = typeof window !== 'undefined' ? window : global;\nvar global_ = typeof global !== 'undefined' ? global : window;\nvar document_ = typeof document !== 'undefined' ? document : {};\nexport { window_ as window, global_ as global, document_ as document };","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n  return target;\n}\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n      var F = function F() {};\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var normalCompletion = true,\n    didErr = false,\n    err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n  return arr2;\n}\nvar refProps = ['type', 'source', 'source-layer', 'minzoom', 'maxzoom', 'filter', 'layout'];\nexport function normalizeStyle(style) {\n  if (!style) {\n    return null;\n  }\n  if (typeof style === 'string') {\n    return style;\n  }\n  if (style.toJS) {\n    style = style.toJS();\n  }\n  var layerIndex = {};\n  var _iterator = _createForOfIteratorHelper(style.layers),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var layer = _step.value;\n      layerIndex[layer.id] = layer;\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n  var layers = style.layers.map(function (layer) {\n    var layerRef = layerIndex[layer.ref];\n    var normalizedLayer = null;\n    if ('interactive' in layer) {\n      normalizedLayer = _objectSpread({}, layer);\n      delete normalizedLayer.interactive;\n    }\n    if (layerRef) {\n      normalizedLayer = normalizedLayer || _objectSpread({}, layer);\n      delete normalizedLayer.ref;\n      var _iterator2 = _createForOfIteratorHelper(refProps),\n        _step2;\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var propName = _step2.value;\n          if (propName in layerRef) {\n            normalizedLayer[propName] = layerRef[propName];\n          }\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n    }\n    return normalizedLayer || layer;\n  });\n  return _objectSpread(_objectSpread({}, style), {}, {\n    layers: layers\n  });\n}","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport * as PropTypes from 'prop-types';\nimport { document } from '../utils/globals';\nimport { normalizeStyle } from '../utils/style-utils';\nfunction noop() {}\nfunction defaultOnError(event) {\n  if (event) {\n    console.error(event.error);\n  }\n}\nvar propTypes = {\n  container: PropTypes.object,\n  gl: PropTypes.object,\n  mapboxApiAccessToken: PropTypes.string,\n  mapboxApiUrl: PropTypes.string,\n  attributionControl: PropTypes.bool,\n  preserveDrawingBuffer: PropTypes.bool,\n  reuseMaps: PropTypes.bool,\n  transformRequest: PropTypes.func,\n  mapOptions: PropTypes.object,\n  mapStyle: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  preventStyleDiffing: PropTypes.bool,\n  visible: PropTypes.bool,\n  asyncRender: PropTypes.bool,\n  onLoad: PropTypes.func,\n  onError: PropTypes.func,\n  width: PropTypes.number,\n  height: PropTypes.number,\n  viewState: PropTypes.object,\n  longitude: PropTypes.number,\n  latitude: PropTypes.number,\n  zoom: PropTypes.number,\n  bearing: PropTypes.number,\n  pitch: PropTypes.number,\n  altitude: PropTypes.number\n};\nvar defaultProps = {\n  container: document.body,\n  mapboxApiAccessToken: getAccessToken(),\n  mapboxApiUrl: 'https://api.mapbox.com',\n  preserveDrawingBuffer: false,\n  attributionControl: true,\n  reuseMaps: false,\n  mapOptions: {},\n  mapStyle: 'mapbox://styles/mapbox/light-v8',\n  preventStyleDiffing: false,\n  visible: true,\n  asyncRender: false,\n  onLoad: noop,\n  onError: defaultOnError,\n  width: 0,\n  height: 0,\n  longitude: 0,\n  latitude: 0,\n  zoom: 0,\n  bearing: 0,\n  pitch: 0,\n  altitude: 1.5\n};\nexport function getAccessToken() {\n  var accessToken = null;\n  if (typeof window !== 'undefined' && window.location) {\n    var match = window.location.search.match(/access_token=([^&\\/]*)/);\n    accessToken = match && match[1];\n  }\n  if (!accessToken && typeof process !== 'undefined') {\n    accessToken = accessToken || process.env.MapboxAccessToken || process.env.REACT_APP_MAPBOX_ACCESS_TOKEN;\n  }\n  return accessToken || 'no-token';\n}\nfunction checkPropTypes(props) {\n  var component = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'component';\n  if (props.debug) {\n    PropTypes.checkPropTypes(propTypes, props, 'prop', component);\n  }\n}\nvar Mapbox = function () {\n  function Mapbox(props) {\n    var _this = this;\n    _classCallCheck(this, Mapbox);\n    _defineProperty(this, \"props\", defaultProps);\n    _defineProperty(this, \"width\", 0);\n    _defineProperty(this, \"height\", 0);\n    _defineProperty(this, \"_fireLoadEvent\", function () {\n      _this.props.onLoad({\n        type: 'load',\n        target: _this._map\n      });\n    });\n    if (!props.mapboxgl) {\n      throw new Error('Mapbox not available');\n    }\n    this.mapboxgl = props.mapboxgl;\n    if (!Mapbox.initialized) {\n      Mapbox.initialized = true;\n      this._checkStyleSheet(this.mapboxgl.version);\n    }\n    this._initialize(props);\n  }\n  _createClass(Mapbox, [{\n    key: \"finalize\",\n    value: function finalize() {\n      this._destroy();\n      return this;\n    }\n  }, {\n    key: \"setProps\",\n    value: function setProps(props) {\n      this._update(this.props, props);\n      return this;\n    }\n  }, {\n    key: \"redraw\",\n    value: function redraw() {\n      var map = this._map;\n      if (map.style) {\n        if (map._frame) {\n          map._frame.cancel();\n          map._frame = null;\n        }\n        map._render();\n      }\n    }\n  }, {\n    key: \"getMap\",\n    value: function getMap() {\n      return this._map;\n    }\n  }, {\n    key: \"_reuse\",\n    value: function _reuse(props) {\n      this._map = Mapbox.savedMap;\n      var oldContainer = this._map.getContainer();\n      var newContainer = props.container;\n      newContainer.classList.add('mapboxgl-map');\n      while (oldContainer.childNodes.length > 0) {\n        newContainer.appendChild(oldContainer.childNodes[0]);\n      }\n      this._map._container = newContainer;\n      Mapbox.savedMap = null;\n      if (props.mapStyle) {\n        this._map.setStyle(normalizeStyle(props.mapStyle), {\n          diff: false\n        });\n      }\n      if (this._map.isStyleLoaded()) {\n        this._fireLoadEvent();\n      } else {\n        this._map.once('styledata', this._fireLoadEvent);\n      }\n    }\n  }, {\n    key: \"_create\",\n    value: function _create(props) {\n      if (props.reuseMaps && Mapbox.savedMap) {\n        this._reuse(props);\n      } else {\n        if (props.gl) {\n          var getContext = HTMLCanvasElement.prototype.getContext;\n          HTMLCanvasElement.prototype.getContext = function () {\n            HTMLCanvasElement.prototype.getContext = getContext;\n            return props.gl;\n          };\n        }\n        var mapOptions = {\n          container: props.container,\n          center: [0, 0],\n          zoom: 8,\n          pitch: 0,\n          bearing: 0,\n          maxZoom: 24,\n          style: normalizeStyle(props.mapStyle),\n          interactive: false,\n          trackResize: false,\n          attributionControl: props.attributionControl,\n          preserveDrawingBuffer: props.preserveDrawingBuffer\n        };\n        if (props.transformRequest) {\n          mapOptions.transformRequest = props.transformRequest;\n        }\n        this._map = new this.mapboxgl.Map(Object.assign({}, mapOptions, props.mapOptions));\n        this._map.once('load', props.onLoad);\n        this._map.on('error', props.onError);\n      }\n      return this;\n    }\n  }, {\n    key: \"_destroy\",\n    value: function _destroy() {\n      if (!this._map) {\n        return;\n      }\n      if (!Mapbox.savedMap) {\n        Mapbox.savedMap = this._map;\n        this._map.off('load', this.props.onLoad);\n        this._map.off('error', this.props.onError);\n        this._map.off('styledata', this._fireLoadEvent);\n      } else {\n        this._map.remove();\n      }\n      this._map = null;\n    }\n  }, {\n    key: \"_initialize\",\n    value: function _initialize(props) {\n      var _this2 = this;\n      props = Object.assign({}, defaultProps, props);\n      checkPropTypes(props, 'Mapbox');\n      this.mapboxgl.accessToken = props.mapboxApiAccessToken || defaultProps.mapboxApiAccessToken;\n      this.mapboxgl.baseApiUrl = props.mapboxApiUrl;\n      this._create(props);\n      var _props = props,\n        container = _props.container;\n      Object.defineProperty(container, 'offsetWidth', {\n        get: function get() {\n          return _this2.width;\n        }\n      });\n      Object.defineProperty(container, 'clientWidth', {\n        get: function get() {\n          return _this2.width;\n        }\n      });\n      Object.defineProperty(container, 'offsetHeight', {\n        get: function get() {\n          return _this2.height;\n        }\n      });\n      Object.defineProperty(container, 'clientHeight', {\n        get: function get() {\n          return _this2.height;\n        }\n      });\n      var canvas = this._map.getCanvas();\n      if (canvas) {\n        canvas.style.outline = 'none';\n      }\n      this._updateMapViewport({}, props);\n      this._updateMapSize({}, props);\n      this.props = props;\n    }\n  }, {\n    key: \"_update\",\n    value: function _update(oldProps, newProps) {\n      if (!this._map) {\n        return;\n      }\n      newProps = Object.assign({}, this.props, newProps);\n      checkPropTypes(newProps, 'Mapbox');\n      var viewportChanged = this._updateMapViewport(oldProps, newProps);\n      var sizeChanged = this._updateMapSize(oldProps, newProps);\n      this._updateMapStyle(oldProps, newProps);\n      if (!newProps.asyncRender && (viewportChanged || sizeChanged)) {\n        this.redraw();\n      }\n      this.props = newProps;\n    }\n  }, {\n    key: \"_updateMapStyle\",\n    value: function _updateMapStyle(oldProps, newProps) {\n      var styleChanged = oldProps.mapStyle !== newProps.mapStyle;\n      if (styleChanged) {\n        this._map.setStyle(normalizeStyle(newProps.mapStyle), {\n          diff: !newProps.preventStyleDiffing\n        });\n      }\n    }\n  }, {\n    key: \"_updateMapSize\",\n    value: function _updateMapSize(oldProps, newProps) {\n      var sizeChanged = oldProps.width !== newProps.width || oldProps.height !== newProps.height;\n      if (sizeChanged) {\n        this.width = newProps.width;\n        this.height = newProps.height;\n        this._map.resize();\n      }\n      return sizeChanged;\n    }\n  }, {\n    key: \"_updateMapViewport\",\n    value: function _updateMapViewport(oldProps, newProps) {\n      var oldViewState = this._getViewState(oldProps);\n      var newViewState = this._getViewState(newProps);\n      var viewportChanged = newViewState.latitude !== oldViewState.latitude || newViewState.longitude !== oldViewState.longitude || newViewState.zoom !== oldViewState.zoom || newViewState.pitch !== oldViewState.pitch || newViewState.bearing !== oldViewState.bearing || newViewState.altitude !== oldViewState.altitude;\n      if (viewportChanged) {\n        this._map.jumpTo(this._viewStateToMapboxProps(newViewState));\n        if (newViewState.altitude !== oldViewState.altitude) {\n          this._map.transform.altitude = newViewState.altitude;\n        }\n      }\n      return viewportChanged;\n    }\n  }, {\n    key: \"_getViewState\",\n    value: function _getViewState(props) {\n      var _ref = props.viewState || props,\n        longitude = _ref.longitude,\n        latitude = _ref.latitude,\n        zoom = _ref.zoom,\n        _ref$pitch = _ref.pitch,\n        pitch = _ref$pitch === void 0 ? 0 : _ref$pitch,\n        _ref$bearing = _ref.bearing,\n        bearing = _ref$bearing === void 0 ? 0 : _ref$bearing,\n        _ref$altitude = _ref.altitude,\n        altitude = _ref$altitude === void 0 ? 1.5 : _ref$altitude;\n      return {\n        longitude: longitude,\n        latitude: latitude,\n        zoom: zoom,\n        pitch: pitch,\n        bearing: bearing,\n        altitude: altitude\n      };\n    }\n  }, {\n    key: \"_checkStyleSheet\",\n    value: function _checkStyleSheet() {\n      var mapboxVersion = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '0.47.0';\n      if (typeof document === 'undefined') {\n        return;\n      }\n      try {\n        var testElement = document.createElement('div');\n        testElement.className = 'mapboxgl-map';\n        testElement.style.display = 'none';\n        document.body.appendChild(testElement);\n        var isCssLoaded = window.getComputedStyle(testElement).position !== 'static';\n        if (!isCssLoaded) {\n          var link = document.createElement('link');\n          link.setAttribute('rel', 'stylesheet');\n          link.setAttribute('type', 'text/css');\n          link.setAttribute('href', \"https://api.tiles.mapbox.com/mapbox-gl-js/v\".concat(mapboxVersion, \"/mapbox-gl.css\"));\n          document.head.appendChild(link);\n        }\n      } catch (error) {}\n    }\n  }, {\n    key: \"_viewStateToMapboxProps\",\n    value: function _viewStateToMapboxProps(viewState) {\n      return {\n        center: [viewState.longitude, viewState.latitude],\n        zoom: viewState.zoom,\n        bearing: viewState.bearing,\n        pitch: viewState.pitch\n      };\n    }\n  }]);\n  return Mapbox;\n}();\n_defineProperty(Mapbox, \"initialized\", false);\n_defineProperty(Mapbox, \"propTypes\", propTypes);\n_defineProperty(Mapbox, \"defaultProps\", defaultProps);\n_defineProperty(Mapbox, \"savedMap\", null);\nexport { Mapbox as default };","var EPSILON = 1e-7;\nfunction isArray(value) {\n  return Array.isArray(value) || ArrayBuffer.isView(value);\n}\nexport function equals(a, b) {\n  if (a === b) {\n    return true;\n  }\n  if (isArray(a) && isArray(b)) {\n    if (a.length !== b.length) {\n      return false;\n    }\n    for (var i = 0; i < a.length; ++i) {\n      if (!equals(a[i], b[i])) {\n        return false;\n      }\n    }\n    return true;\n  }\n  return Math.abs(a - b) <= EPSILON;\n}\nexport function clamp(value, min, max) {\n  return Math.max(min, Math.min(max, value));\n}\nexport function lerp(a, b, t) {\n  if (isArray(a)) {\n    return a.map(function (ai, i) {\n      return lerp(ai, b[i], t);\n    });\n  }\n  return t * b + (1 - t) * a;\n}","export default function assert(condition, message) {\n  if (!condition) {\n    throw new Error(message || 'react-map-gl: assertion failed.');\n  }\n}","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n  return target;\n}\nimport WebMercatorViewport, { normalizeViewportProps } from 'viewport-mercator-project';\nimport { clamp } from './math-utils';\nimport assert from './assert';\nexport var MAPBOX_LIMITS = {\n  minZoom: 0,\n  maxZoom: 24,\n  minPitch: 0,\n  maxPitch: 60\n};\nvar DEFAULT_STATE = {\n  pitch: 0,\n  bearing: 0,\n  altitude: 1.5\n};\nvar PITCH_MOUSE_THRESHOLD = 5;\nvar PITCH_ACCEL = 1.2;\nvar MapState = function () {\n  function MapState(_ref) {\n    var width = _ref.width,\n      height = _ref.height,\n      latitude = _ref.latitude,\n      longitude = _ref.longitude,\n      zoom = _ref.zoom,\n      _ref$bearing = _ref.bearing,\n      bearing = _ref$bearing === void 0 ? DEFAULT_STATE.bearing : _ref$bearing,\n      _ref$pitch = _ref.pitch,\n      pitch = _ref$pitch === void 0 ? DEFAULT_STATE.pitch : _ref$pitch,\n      _ref$altitude = _ref.altitude,\n      altitude = _ref$altitude === void 0 ? DEFAULT_STATE.altitude : _ref$altitude,\n      _ref$maxZoom = _ref.maxZoom,\n      maxZoom = _ref$maxZoom === void 0 ? MAPBOX_LIMITS.maxZoom : _ref$maxZoom,\n      _ref$minZoom = _ref.minZoom,\n      minZoom = _ref$minZoom === void 0 ? MAPBOX_LIMITS.minZoom : _ref$minZoom,\n      _ref$maxPitch = _ref.maxPitch,\n      maxPitch = _ref$maxPitch === void 0 ? MAPBOX_LIMITS.maxPitch : _ref$maxPitch,\n      _ref$minPitch = _ref.minPitch,\n      minPitch = _ref$minPitch === void 0 ? MAPBOX_LIMITS.minPitch : _ref$minPitch,\n      transitionDuration = _ref.transitionDuration,\n      transitionEasing = _ref.transitionEasing,\n      transitionInterpolator = _ref.transitionInterpolator,\n      transitionInterruption = _ref.transitionInterruption,\n      startPanLngLat = _ref.startPanLngLat,\n      startZoomLngLat = _ref.startZoomLngLat,\n      startRotatePos = _ref.startRotatePos,\n      startBearing = _ref.startBearing,\n      startPitch = _ref.startPitch,\n      startZoom = _ref.startZoom;\n    _classCallCheck(this, MapState);\n    assert(Number.isFinite(width), '`width` must be supplied');\n    assert(Number.isFinite(height), '`height` must be supplied');\n    assert(Number.isFinite(longitude), '`longitude` must be supplied');\n    assert(Number.isFinite(latitude), '`latitude` must be supplied');\n    assert(Number.isFinite(zoom), '`zoom` must be supplied');\n    this._viewportProps = this._applyConstraints({\n      width: width,\n      height: height,\n      latitude: latitude,\n      longitude: longitude,\n      zoom: zoom,\n      bearing: bearing,\n      pitch: pitch,\n      altitude: altitude,\n      maxZoom: maxZoom,\n      minZoom: minZoom,\n      maxPitch: maxPitch,\n      minPitch: minPitch,\n      transitionDuration: transitionDuration,\n      transitionEasing: transitionEasing,\n      transitionInterpolator: transitionInterpolator,\n      transitionInterruption: transitionInterruption\n    });\n    this._state = {\n      startPanLngLat: startPanLngLat,\n      startZoomLngLat: startZoomLngLat,\n      startRotatePos: startRotatePos,\n      startBearing: startBearing,\n      startPitch: startPitch,\n      startZoom: startZoom\n    };\n  }\n  _createClass(MapState, [{\n    key: \"getViewportProps\",\n    value: function getViewportProps() {\n      return this._viewportProps;\n    }\n  }, {\n    key: \"getState\",\n    value: function getState() {\n      return this._state;\n    }\n  }, {\n    key: \"panStart\",\n    value: function panStart(_ref2) {\n      var pos = _ref2.pos;\n      return this._getUpdatedMapState({\n        startPanLngLat: this._unproject(pos)\n      });\n    }\n  }, {\n    key: \"pan\",\n    value: function pan(_ref3) {\n      var pos = _ref3.pos,\n        startPos = _ref3.startPos;\n      var startPanLngLat = this._state.startPanLngLat || this._unproject(startPos);\n      if (!startPanLngLat) {\n        return this;\n      }\n      var _this$_calculateNewLn = this._calculateNewLngLat({\n          startPanLngLat: startPanLngLat,\n          pos: pos\n        }),\n        _this$_calculateNewLn2 = _slicedToArray(_this$_calculateNewLn, 2),\n        longitude = _this$_calculateNewLn2[0],\n        latitude = _this$_calculateNewLn2[1];\n      return this._getUpdatedMapState({\n        longitude: longitude,\n        latitude: latitude\n      });\n    }\n  }, {\n    key: \"panEnd\",\n    value: function panEnd() {\n      return this._getUpdatedMapState({\n        startPanLngLat: null\n      });\n    }\n  }, {\n    key: \"rotateStart\",\n    value: function rotateStart(_ref4) {\n      var pos = _ref4.pos;\n      return this._getUpdatedMapState({\n        startRotatePos: pos,\n        startBearing: this._viewportProps.bearing,\n        startPitch: this._viewportProps.pitch\n      });\n    }\n  }, {\n    key: \"rotate\",\n    value: function rotate(_ref5) {\n      var pos = _ref5.pos,\n        _ref5$deltaAngleX = _ref5.deltaAngleX,\n        deltaAngleX = _ref5$deltaAngleX === void 0 ? 0 : _ref5$deltaAngleX,\n        _ref5$deltaAngleY = _ref5.deltaAngleY,\n        deltaAngleY = _ref5$deltaAngleY === void 0 ? 0 : _ref5$deltaAngleY;\n      var _this$_state = this._state,\n        startRotatePos = _this$_state.startRotatePos,\n        startBearing = _this$_state.startBearing,\n        startPitch = _this$_state.startPitch;\n      if (!Number.isFinite(startBearing) || !Number.isFinite(startPitch)) {\n        return this;\n      }\n      var newRotation;\n      if (pos) {\n        newRotation = this._calculateNewPitchAndBearing(_objectSpread(_objectSpread({}, this._getRotationParams(pos, startRotatePos)), {}, {\n          startBearing: startBearing,\n          startPitch: startPitch\n        }));\n      } else {\n        newRotation = {\n          bearing: startBearing + deltaAngleX,\n          pitch: startPitch + deltaAngleY\n        };\n      }\n      return this._getUpdatedMapState(newRotation);\n    }\n  }, {\n    key: \"rotateEnd\",\n    value: function rotateEnd() {\n      return this._getUpdatedMapState({\n        startBearing: null,\n        startPitch: null\n      });\n    }\n  }, {\n    key: \"zoomStart\",\n    value: function zoomStart(_ref6) {\n      var pos = _ref6.pos;\n      return this._getUpdatedMapState({\n        startZoomLngLat: this._unproject(pos),\n        startZoom: this._viewportProps.zoom\n      });\n    }\n  }, {\n    key: \"zoom\",\n    value: function zoom(_ref7) {\n      var pos = _ref7.pos,\n        startPos = _ref7.startPos,\n        scale = _ref7.scale;\n      assert(scale > 0, '`scale` must be a positive number');\n      var _this$_state2 = this._state,\n        startZoom = _this$_state2.startZoom,\n        startZoomLngLat = _this$_state2.startZoomLngLat;\n      if (!Number.isFinite(startZoom)) {\n        startZoom = this._viewportProps.zoom;\n        startZoomLngLat = this._unproject(startPos) || this._unproject(pos);\n      }\n      assert(startZoomLngLat, '`startZoomLngLat` prop is required ' + 'for zoom behavior to calculate where to position the map.');\n      var zoom = this._calculateNewZoom({\n        scale: scale,\n        startZoom: startZoom || 0\n      });\n      var zoomedViewport = new WebMercatorViewport(Object.assign({}, this._viewportProps, {\n        zoom: zoom\n      }));\n      var _zoomedViewport$getMa = zoomedViewport.getMapCenterByLngLatPosition({\n          lngLat: startZoomLngLat,\n          pos: pos\n        }),\n        _zoomedViewport$getMa2 = _slicedToArray(_zoomedViewport$getMa, 2),\n        longitude = _zoomedViewport$getMa2[0],\n        latitude = _zoomedViewport$getMa2[1];\n      return this._getUpdatedMapState({\n        zoom: zoom,\n        longitude: longitude,\n        latitude: latitude\n      });\n    }\n  }, {\n    key: \"zoomEnd\",\n    value: function zoomEnd() {\n      return this._getUpdatedMapState({\n        startZoomLngLat: null,\n        startZoom: null\n      });\n    }\n  }, {\n    key: \"_getUpdatedMapState\",\n    value: function _getUpdatedMapState(newProps) {\n      return new MapState(Object.assign({}, this._viewportProps, this._state, newProps));\n    }\n  }, {\n    key: \"_applyConstraints\",\n    value: function _applyConstraints(props) {\n      var maxZoom = props.maxZoom,\n        minZoom = props.minZoom,\n        zoom = props.zoom;\n      props.zoom = clamp(zoom, minZoom, maxZoom);\n      var maxPitch = props.maxPitch,\n        minPitch = props.minPitch,\n        pitch = props.pitch;\n      props.pitch = clamp(pitch, minPitch, maxPitch);\n      Object.assign(props, normalizeViewportProps(props));\n      return props;\n    }\n  }, {\n    key: \"_unproject\",\n    value: function _unproject(pos) {\n      var viewport = new WebMercatorViewport(this._viewportProps);\n      return pos && viewport.unproject(pos);\n    }\n  }, {\n    key: \"_calculateNewLngLat\",\n    value: function _calculateNewLngLat(_ref8) {\n      var startPanLngLat = _ref8.startPanLngLat,\n        pos = _ref8.pos;\n      var viewport = new WebMercatorViewport(this._viewportProps);\n      return viewport.getMapCenterByLngLatPosition({\n        lngLat: startPanLngLat,\n        pos: pos\n      });\n    }\n  }, {\n    key: \"_calculateNewZoom\",\n    value: function _calculateNewZoom(_ref9) {\n      var scale = _ref9.scale,\n        startZoom = _ref9.startZoom;\n      var _this$_viewportProps = this._viewportProps,\n        maxZoom = _this$_viewportProps.maxZoom,\n        minZoom = _this$_viewportProps.minZoom;\n      var zoom = startZoom + Math.log2(scale);\n      return clamp(zoom, minZoom, maxZoom);\n    }\n  }, {\n    key: \"_calculateNewPitchAndBearing\",\n    value: function _calculateNewPitchAndBearing(_ref10) {\n      var deltaScaleX = _ref10.deltaScaleX,\n        deltaScaleY = _ref10.deltaScaleY,\n        startBearing = _ref10.startBearing,\n        startPitch = _ref10.startPitch;\n      deltaScaleY = clamp(deltaScaleY, -1, 1);\n      var _this$_viewportProps2 = this._viewportProps,\n        minPitch = _this$_viewportProps2.minPitch,\n        maxPitch = _this$_viewportProps2.maxPitch;\n      var bearing = startBearing + 180 * deltaScaleX;\n      var pitch = startPitch;\n      if (deltaScaleY > 0) {\n        pitch = startPitch + deltaScaleY * (maxPitch - startPitch);\n      } else if (deltaScaleY < 0) {\n        pitch = startPitch - deltaScaleY * (minPitch - startPitch);\n      }\n      return {\n        pitch: pitch,\n        bearing: bearing\n      };\n    }\n  }, {\n    key: \"_getRotationParams\",\n    value: function _getRotationParams(pos, startPos) {\n      var deltaX = pos[0] - startPos[0];\n      var deltaY = pos[1] - startPos[1];\n      var centerY = pos[1];\n      var startY = startPos[1];\n      var _this$_viewportProps3 = this._viewportProps,\n        width = _this$_viewportProps3.width,\n        height = _this$_viewportProps3.height;\n      var deltaScaleX = deltaX / width;\n      var deltaScaleY = 0;\n      if (deltaY > 0) {\n        if (Math.abs(height - startY) > PITCH_MOUSE_THRESHOLD) {\n          deltaScaleY = deltaY / (startY - height) * PITCH_ACCEL;\n        }\n      } else if (deltaY < 0) {\n        if (startY > PITCH_MOUSE_THRESHOLD) {\n          deltaScaleY = 1 - centerY / startY;\n        }\n      }\n      deltaScaleY = Math.min(1, Math.max(-1, deltaScaleY));\n      return {\n        deltaScaleX: deltaScaleX,\n        deltaScaleY: deltaScaleY\n      };\n    }\n  }]);\n  return MapState;\n}();\nexport { MapState as default };","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n  return target;\n}\nimport * as React from 'react';\nimport { createContext, useState, useContext } from 'react';\nvar MapContext = createContext({\n  viewport: null,\n  map: null,\n  container: null,\n  onViewportChange: null,\n  onViewStateChange: null,\n  eventManager: null\n});\nexport var MapContextProvider = MapContext.Provider;\nfunction WrappedProvider(_ref) {\n  var value = _ref.value,\n    children = _ref.children;\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    map = _useState2[0],\n    setMap = _useState2[1];\n  var context = useContext(MapContext);\n  value = _objectSpread(_objectSpread({\n    setMap: setMap\n  }, context), {}, {\n    map: context && context.map || map\n  }, value);\n  return React.createElement(MapContextProvider, {\n    value: value\n  }, children);\n}\nMapContext.Provider = WrappedProvider;\nexport default MapContext;","import { useEffect, useLayoutEffect } from 'react';\nvar useIsomorphicLayoutEffect = typeof window !== 'undefined' ? useLayoutEffect : useEffect;\nexport default useIsomorphicLayoutEffect;","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n  return target;\n}\nimport * as React from 'react';\nimport { useState, useRef, useCallback, useContext, useImperativeHandle, forwardRef } from 'react';\nimport WebMercatorViewport from 'viewport-mercator-project';\nimport ResizeObserver from 'resize-observer-polyfill';\nimport Mapbox from '../mapbox/mapbox';\nimport mapboxgl from '../utils/mapboxgl';\nimport { checkVisibilityConstraints } from '../utils/map-constraints';\nimport { MAPBOX_LIMITS } from '../utils/map-state';\nimport MapContext, { MapContextProvider } from './map-context';\nimport useIsomorphicLayoutEffect from '../utils/use-isomorphic-layout-effect';\nvar TOKEN_DOC_URL = 'https://visgl.github.io/react-map-gl/docs/get-started/mapbox-tokens';\nvar NO_TOKEN_WARNING = 'A valid API access token is required to use Mapbox data';\nfunction noop() {}\nexport function getViewport(_ref) {\n  var props = _ref.props,\n    width = _ref.width,\n    height = _ref.height;\n  return new WebMercatorViewport(_objectSpread(_objectSpread(_objectSpread({}, props), props.viewState), {}, {\n    width: width,\n    height: height\n  }));\n}\nvar UNAUTHORIZED_ERROR_CODE = 401;\nvar CONTAINER_STYLE = {\n  position: 'absolute',\n  width: '100%',\n  height: '100%',\n  overflow: 'hidden'\n};\nvar defaultProps = Object.assign({}, Mapbox.defaultProps, {\n  disableTokenWarning: false,\n  visible: true,\n  onResize: noop,\n  className: '',\n  style: null,\n  visibilityConstraints: MAPBOX_LIMITS\n});\nfunction NoTokenWarning() {\n  var style = {\n    position: 'absolute',\n    left: 0,\n    top: 0\n  };\n  return React.createElement(\"div\", {\n    key: \"warning\",\n    id: \"no-token-warning\",\n    style: style\n  }, React.createElement(\"h3\", {\n    key: \"header\"\n  }, NO_TOKEN_WARNING), React.createElement(\"div\", {\n    key: \"text\"\n  }, \"For information on setting up your basemap, read\"), React.createElement(\"a\", {\n    key: \"link\",\n    href: TOKEN_DOC_URL\n  }, \"Note on Map Tokens\"));\n}\nfunction getRefHandles(mapboxRef) {\n  return {\n    getMap: function getMap() {\n      return mapboxRef.current && mapboxRef.current.getMap();\n    },\n    queryRenderedFeatures: function queryRenderedFeatures(geometry) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var map = mapboxRef.current && mapboxRef.current.getMap();\n      return map && map.queryRenderedFeatures(geometry, options);\n    }\n  };\n}\nvar StaticMap = forwardRef(function (props, ref) {\n  var _useState = useState(true),\n    _useState2 = _slicedToArray(_useState, 2),\n    accessTokenValid = _useState2[0],\n    setTokenState = _useState2[1];\n  var _useState3 = useState({\n      width: 0,\n      height: 0\n    }),\n    _useState4 = _slicedToArray(_useState3, 2),\n    size = _useState4[0],\n    setSize = _useState4[1];\n  var mapboxRef = useRef(null);\n  var mapDivRef = useRef(null);\n  var containerRef = useRef(null);\n  var overlayRef = useRef(null);\n  var context = useContext(MapContext);\n  useIsomorphicLayoutEffect(function () {\n    if (!StaticMap.supported()) {\n      return undefined;\n    }\n    var mapbox = new Mapbox(_objectSpread(_objectSpread(_objectSpread({}, props), size), {}, {\n      mapboxgl: mapboxgl,\n      container: mapDivRef.current,\n      onError: function onError(evt) {\n        var statusCode = evt.error && evt.error.status || evt.status;\n        if (statusCode === UNAUTHORIZED_ERROR_CODE && accessTokenValid) {\n          console.error(NO_TOKEN_WARNING);\n          setTokenState(false);\n        }\n        props.onError(evt);\n      }\n    }));\n    mapboxRef.current = mapbox;\n    if (context && context.setMap) {\n      context.setMap(mapbox.getMap());\n    }\n    var resizeObserver = new ResizeObserver(function (entries) {\n      if (entries[0].contentRect) {\n        var _entries$0$contentRec = entries[0].contentRect,\n          _width = _entries$0$contentRec.width,\n          _height = _entries$0$contentRec.height;\n        setSize({\n          width: _width,\n          height: _height\n        });\n        props.onResize({\n          width: _width,\n          height: _height\n        });\n      }\n    });\n    resizeObserver.observe(containerRef.current);\n    return function () {\n      mapbox.finalize();\n      mapboxRef.current = null;\n      resizeObserver.disconnect();\n    };\n  }, []);\n  useIsomorphicLayoutEffect(function () {\n    if (mapboxRef.current) {\n      mapboxRef.current.setProps(_objectSpread(_objectSpread({}, props), size));\n    }\n  });\n  var map = mapboxRef.current && mapboxRef.current.getMap();\n  useImperativeHandle(ref, function () {\n    return getRefHandles(mapboxRef);\n  }, []);\n  var preventScroll = useCallback(function (_ref2) {\n    var target = _ref2.target;\n    if (target === overlayRef.current) {\n      target.scrollTo(0, 0);\n    }\n  }, []);\n  var overlays = map && React.createElement(MapContextProvider, {\n    value: _objectSpread(_objectSpread({}, context), {}, {\n      viewport: context.viewport || getViewport(_objectSpread({\n        map: map,\n        props: props\n      }, size)),\n      map: map,\n      container: context.container || containerRef.current\n    })\n  }, React.createElement(\"div\", {\n    key: \"map-overlays\",\n    className: \"overlays\",\n    ref: overlayRef,\n    style: CONTAINER_STYLE,\n    onScroll: preventScroll\n  }, props.children));\n  var className = props.className,\n    width = props.width,\n    height = props.height,\n    style = props.style,\n    visibilityConstraints = props.visibilityConstraints;\n  var mapContainerStyle = Object.assign({\n    position: 'relative'\n  }, style, {\n    width: width,\n    height: height\n  });\n  var visible = props.visible && checkVisibilityConstraints(props.viewState || props, visibilityConstraints);\n  var mapStyle = Object.assign({}, CONTAINER_STYLE, {\n    visibility: visible ? 'inherit' : 'hidden'\n  });\n  return React.createElement(\"div\", {\n    key: \"map-container\",\n    ref: containerRef,\n    style: mapContainerStyle\n  }, React.createElement(\"div\", {\n    key: \"map-mapbox\",\n    ref: mapDivRef,\n    style: mapStyle,\n    className: className\n  }), overlays, !accessTokenValid && !props.disableTokenWarning && React.createElement(NoTokenWarning, null));\n});\nStaticMap.supported = function () {\n  return mapboxgl && mapboxgl.supported();\n};\nStaticMap.defaultProps = defaultProps;\nexport default StaticMap;","import { MAPBOX_LIMITS } from './map-state';\nfunction decapitalize(s) {\n  return s[0].toLowerCase() + s.slice(1);\n}\nexport function checkVisibilityConstraints(props) {\n  var constraints = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : MAPBOX_LIMITS;\n  for (var constraintName in constraints) {\n    var type = constraintName.slice(0, 3);\n    var propName = decapitalize(constraintName.slice(3));\n    if (type === 'min' && props[propName] < constraints[constraintName]) {\n      return false;\n    }\n    if (type === 'max' && props[propName] > constraints[constraintName]) {\n      return false;\n    }\n  }\n  return true;\n}","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n      var F = function F() {};\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var normalCompletion = true,\n    didErr = false,\n    err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n  return arr2;\n}\nimport { equals } from '../math-utils';\nimport assert from '../assert';\nvar TransitionInterpolator = function () {\n  function TransitionInterpolator() {\n    _classCallCheck(this, TransitionInterpolator);\n    _defineProperty(this, \"propNames\", []);\n  }\n  _createClass(TransitionInterpolator, [{\n    key: \"arePropsEqual\",\n    value: function arePropsEqual(currentProps, nextProps) {\n      var _iterator = _createForOfIteratorHelper(this.propNames || []),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var key = _step.value;\n          if (!equals(currentProps[key], nextProps[key])) {\n            return false;\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n      return true;\n    }\n  }, {\n    key: \"initializeProps\",\n    value: function initializeProps(startProps, endProps) {\n      return {\n        start: startProps,\n        end: endProps\n      };\n    }\n  }, {\n    key: \"interpolateProps\",\n    value: function interpolateProps(startProps, endProps, t) {\n      assert(false, 'interpolateProps is not implemented');\n    }\n  }, {\n    key: \"getDuration\",\n    value: function getDuration(startProps, endProps) {\n      return endProps.transitionDuration;\n    }\n  }]);\n  return TransitionInterpolator;\n}();\nexport { TransitionInterpolator as default };","function _assertThisInitialized(e) {\n  if (void 0 === e) throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  return e;\n}\nexport { _assertThisInitialized as default };","import setPrototypeOf from \"./setPrototypeOf.js\";\nfunction _inherits(t, e) {\n  if (\"function\" != typeof e && null !== e) throw new TypeError(\"Super expression must either be null or a function\");\n  t.prototype = Object.create(e && e.prototype, {\n    constructor: {\n      value: t,\n      writable: !0,\n      configurable: !0\n    }\n  }), Object.defineProperty(t, \"prototype\", {\n    writable: !1\n  }), e && setPrototypeOf(t, e);\n}\nexport { _inherits as default };","import _typeof from \"./typeof.js\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nfunction _possibleConstructorReturn(t, e) {\n  if (e && (\"object\" == _typeof(e) || \"function\" == typeof e)) return e;\n  if (void 0 !== e) throw new TypeError(\"Derived constructors may only return object or undefined\");\n  return assertThisInitialized(t);\n}\nexport { _possibleConstructorReturn as default };","function _getPrototypeOf(t) {\n  return _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function (t) {\n    return t.__proto__ || Object.getPrototypeOf(t);\n  }, _getPrototypeOf(t);\n}\nexport { _getPrototypeOf as default };","var WRAPPED_ANGULAR_PROPS = {\n  longitude: 1,\n  bearing: 1\n};\nexport function mod(value, divisor) {\n  var modulus = value % divisor;\n  return modulus < 0 ? divisor + modulus : modulus;\n}\nexport function isValid(prop) {\n  return Number.isFinite(prop) || Array.isArray(prop);\n}\nfunction isWrappedAngularProp(propName) {\n  return propName in WRAPPED_ANGULAR_PROPS;\n}\nexport function getEndValueByShortestPath(propName, startValue, endValue) {\n  if (isWrappedAngularProp(propName) && Math.abs(endValue - startValue) > 180) {\n    endValue = endValue < 0 ? endValue + 360 : endValue - 360;\n  }\n  return endValue;\n}","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n      var F = function F() {};\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var normalCompletion = true,\n    didErr = false,\n    err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n  return arr2;\n}\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n      result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return _possibleConstructorReturn(this, result);\n  };\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nimport assert from '../assert';\nimport TransitionInterpolator from './transition-interpolator';\nimport { flyToViewport, getFlyToDuration } from 'viewport-mercator-project';\nimport { isValid, getEndValueByShortestPath } from './transition-utils';\nimport { lerp } from '../math-utils';\nvar VIEWPORT_TRANSITION_PROPS = ['longitude', 'latitude', 'zoom', 'bearing', 'pitch'];\nvar REQUIRED_PROPS = ['latitude', 'longitude', 'zoom', 'width', 'height'];\nvar LINEARLY_INTERPOLATED_PROPS = ['bearing', 'pitch'];\nvar DEFAULT_OPTS = {\n  speed: 1.2,\n  curve: 1.414\n};\nvar ViewportFlyToInterpolator = function (_TransitionInterpolat) {\n  _inherits(ViewportFlyToInterpolator, _TransitionInterpolat);\n  var _super = _createSuper(ViewportFlyToInterpolator);\n  function ViewportFlyToInterpolator() {\n    var _this;\n    var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    _classCallCheck(this, ViewportFlyToInterpolator);\n    _this = _super.call(this);\n    _defineProperty(_assertThisInitialized(_this), \"propNames\", VIEWPORT_TRANSITION_PROPS);\n    _this.props = Object.assign({}, DEFAULT_OPTS, props);\n    return _this;\n  }\n  _createClass(ViewportFlyToInterpolator, [{\n    key: \"initializeProps\",\n    value: function initializeProps(startProps, endProps) {\n      var startViewportProps = {};\n      var endViewportProps = {};\n      var _iterator = _createForOfIteratorHelper(REQUIRED_PROPS),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var key = _step.value;\n          var startValue = startProps[key];\n          var endValue = endProps[key];\n          assert(isValid(startValue) && isValid(endValue), \"\".concat(key, \" must be supplied for transition\"));\n          startViewportProps[key] = startValue;\n          endViewportProps[key] = getEndValueByShortestPath(key, startValue, endValue);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n      var _iterator2 = _createForOfIteratorHelper(LINEARLY_INTERPOLATED_PROPS),\n        _step2;\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var _key = _step2.value;\n          var _startValue = startProps[_key] || 0;\n          var _endValue = endProps[_key] || 0;\n          startViewportProps[_key] = _startValue;\n          endViewportProps[_key] = getEndValueByShortestPath(_key, _startValue, _endValue);\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n      return {\n        start: startViewportProps,\n        end: endViewportProps\n      };\n    }\n  }, {\n    key: \"interpolateProps\",\n    value: function interpolateProps(startProps, endProps, t) {\n      var viewport = flyToViewport(startProps, endProps, t, this.props);\n      var _iterator3 = _createForOfIteratorHelper(LINEARLY_INTERPOLATED_PROPS),\n        _step3;\n      try {\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n          var key = _step3.value;\n          viewport[key] = lerp(startProps[key], endProps[key], t);\n        }\n      } catch (err) {\n        _iterator3.e(err);\n      } finally {\n        _iterator3.f();\n      }\n      return viewport;\n    }\n  }, {\n    key: \"getDuration\",\n    value: function getDuration(startProps, endProps) {\n      var transitionDuration = endProps.transitionDuration;\n      if (transitionDuration === 'auto') {\n        transitionDuration = getFlyToDuration(startProps, endProps, this.props);\n      }\n      return transitionDuration;\n    }\n  }]);\n  return ViewportFlyToInterpolator;\n}(TransitionInterpolator);\nexport { ViewportFlyToInterpolator as default };","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n      var F = function F() {};\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var normalCompletion = true,\n    didErr = false,\n    err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n  return arr2;\n}\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n      result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return _possibleConstructorReturn(this, result);\n  };\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nimport WebMercatorViewport from 'viewport-mercator-project';\nimport assert from '../assert';\nimport TransitionInterpolator from './transition-interpolator';\nimport { isValid, getEndValueByShortestPath } from './transition-utils';\nimport { lerp } from '../math-utils';\nvar VIEWPORT_TRANSITION_PROPS = ['longitude', 'latitude', 'zoom', 'bearing', 'pitch'];\nvar LinearInterpolator = function (_TransitionInterpolat) {\n  _inherits(LinearInterpolator, _TransitionInterpolat);\n  var _super = _createSuper(LinearInterpolator);\n  function LinearInterpolator() {\n    var _this;\n    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    _classCallCheck(this, LinearInterpolator);\n    _this = _super.call(this);\n    if (Array.isArray(opts)) {\n      opts = {\n        transitionProps: opts\n      };\n    }\n    _this.propNames = opts.transitionProps || VIEWPORT_TRANSITION_PROPS;\n    if (opts.around) {\n      _this.around = opts.around;\n    }\n    return _this;\n  }\n  _createClass(LinearInterpolator, [{\n    key: \"initializeProps\",\n    value: function initializeProps(startProps, endProps) {\n      var startViewportProps = {};\n      var endViewportProps = {};\n      if (this.around) {\n        startViewportProps.around = this.around;\n        var aroundLngLat = new WebMercatorViewport(startProps).unproject(this.around);\n        Object.assign(endViewportProps, endProps, {\n          around: new WebMercatorViewport(endProps).project(aroundLngLat),\n          aroundLngLat: aroundLngLat\n        });\n      }\n      var _iterator = _createForOfIteratorHelper(this.propNames),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var key = _step.value;\n          var startValue = startProps[key];\n          var endValue = endProps[key];\n          assert(isValid(startValue) && isValid(endValue), \"\".concat(key, \" must be supplied for transition\"));\n          startViewportProps[key] = startValue;\n          endViewportProps[key] = getEndValueByShortestPath(key, startValue, endValue);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n      return {\n        start: startViewportProps,\n        end: endViewportProps\n      };\n    }\n  }, {\n    key: \"interpolateProps\",\n    value: function interpolateProps(startProps, endProps, t) {\n      var viewport = {};\n      var _iterator2 = _createForOfIteratorHelper(this.propNames),\n        _step2;\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var key = _step2.value;\n          viewport[key] = lerp(startProps[key], endProps[key], t);\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n      if (endProps.around) {\n        var _WebMercatorViewport$ = new WebMercatorViewport(Object.assign({}, endProps, viewport)).getMapCenterByLngLatPosition({\n            lngLat: endProps.aroundLngLat,\n            pos: lerp(startProps.around, endProps.around, t)\n          }),\n          _WebMercatorViewport$2 = _slicedToArray(_WebMercatorViewport$, 2),\n          longitude = _WebMercatorViewport$2[0],\n          latitude = _WebMercatorViewport$2[1];\n        viewport.longitude = longitude;\n        viewport.latitude = latitude;\n      }\n      return viewport;\n    }\n  }]);\n  return LinearInterpolator;\n}(TransitionInterpolator);\nexport { LinearInterpolator as default };","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport assert from './assert';\nimport { LinearInterpolator } from './transition';\nimport MapState from './map-state';\nvar noop = function noop() {};\nexport function cropEasingFunction(easing, x0) {\n  var y0 = easing(x0);\n  return function (t) {\n    return 1 / (1 - y0) * (easing(t * (1 - x0) + x0) - y0);\n  };\n}\nexport var TRANSITION_EVENTS = {\n  BREAK: 1,\n  SNAP_TO_END: 2,\n  IGNORE: 3,\n  UPDATE: 4\n};\nvar DEFAULT_PROPS = {\n  transitionDuration: 0,\n  transitionEasing: function transitionEasing(t) {\n    return t;\n  },\n  transitionInterpolator: new LinearInterpolator(),\n  transitionInterruption: TRANSITION_EVENTS.BREAK,\n  onTransitionStart: noop,\n  onTransitionInterrupt: noop,\n  onTransitionEnd: noop\n};\nvar TransitionManager = function () {\n  function TransitionManager() {\n    var _this = this;\n    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    _classCallCheck(this, TransitionManager);\n    _defineProperty(this, \"_animationFrame\", null);\n    _defineProperty(this, \"_onTransitionFrame\", function () {\n      _this._animationFrame = requestAnimationFrame(_this._onTransitionFrame);\n      _this._updateViewport();\n    });\n    this.props = null;\n    this.onViewportChange = opts.onViewportChange || noop;\n    this.onStateChange = opts.onStateChange || noop;\n    this.time = opts.getTime || Date.now;\n  }\n  _createClass(TransitionManager, [{\n    key: \"getViewportInTransition\",\n    value: function getViewportInTransition() {\n      return this._animationFrame ? this.state.propsInTransition : null;\n    }\n  }, {\n    key: \"processViewportChange\",\n    value: function processViewportChange(nextProps) {\n      var currentProps = this.props;\n      this.props = nextProps;\n      if (!currentProps || this._shouldIgnoreViewportChange(currentProps, nextProps)) {\n        return false;\n      }\n      if (this._isTransitionEnabled(nextProps)) {\n        var startProps = Object.assign({}, currentProps);\n        var endProps = Object.assign({}, nextProps);\n        if (this._isTransitionInProgress()) {\n          currentProps.onTransitionInterrupt();\n          if (this.state.interruption === TRANSITION_EVENTS.SNAP_TO_END) {\n            Object.assign(startProps, this.state.endProps);\n          } else {\n            Object.assign(startProps, this.state.propsInTransition);\n          }\n          if (this.state.interruption === TRANSITION_EVENTS.UPDATE) {\n            var currentTime = this.time();\n            var x0 = (currentTime - this.state.startTime) / this.state.duration;\n            endProps.transitionDuration = this.state.duration - (currentTime - this.state.startTime);\n            endProps.transitionEasing = cropEasingFunction(this.state.easing, x0);\n            endProps.transitionInterpolator = startProps.transitionInterpolator;\n          }\n        }\n        endProps.onTransitionStart();\n        this._triggerTransition(startProps, endProps);\n        return true;\n      }\n      if (this._isTransitionInProgress()) {\n        currentProps.onTransitionInterrupt();\n        this._endTransition();\n      }\n      return false;\n    }\n  }, {\n    key: \"_isTransitionInProgress\",\n    value: function _isTransitionInProgress() {\n      return Boolean(this._animationFrame);\n    }\n  }, {\n    key: \"_isTransitionEnabled\",\n    value: function _isTransitionEnabled(props) {\n      var transitionDuration = props.transitionDuration,\n        transitionInterpolator = props.transitionInterpolator;\n      return (transitionDuration > 0 || transitionDuration === 'auto') && Boolean(transitionInterpolator);\n    }\n  }, {\n    key: \"_isUpdateDueToCurrentTransition\",\n    value: function _isUpdateDueToCurrentTransition(props) {\n      if (this.state.propsInTransition) {\n        return this.state.interpolator.arePropsEqual(props, this.state.propsInTransition);\n      }\n      return false;\n    }\n  }, {\n    key: \"_shouldIgnoreViewportChange\",\n    value: function _shouldIgnoreViewportChange(currentProps, nextProps) {\n      if (!currentProps) {\n        return true;\n      }\n      if (this._isTransitionInProgress()) {\n        return this.state.interruption === TRANSITION_EVENTS.IGNORE || this._isUpdateDueToCurrentTransition(nextProps);\n      }\n      if (this._isTransitionEnabled(nextProps)) {\n        return nextProps.transitionInterpolator.arePropsEqual(currentProps, nextProps);\n      }\n      return true;\n    }\n  }, {\n    key: \"_triggerTransition\",\n    value: function _triggerTransition(startProps, endProps) {\n      assert(this._isTransitionEnabled(endProps));\n      if (this._animationFrame) {\n        cancelAnimationFrame(this._animationFrame);\n      }\n      var transitionInterpolator = endProps.transitionInterpolator;\n      var duration = transitionInterpolator.getDuration ? transitionInterpolator.getDuration(startProps, endProps) : endProps.transitionDuration;\n      if (duration === 0) {\n        return;\n      }\n      var initialProps = endProps.transitionInterpolator.initializeProps(startProps, endProps);\n      var interactionState = {\n        inTransition: true,\n        isZooming: startProps.zoom !== endProps.zoom,\n        isPanning: startProps.longitude !== endProps.longitude || startProps.latitude !== endProps.latitude,\n        isRotating: startProps.bearing !== endProps.bearing || startProps.pitch !== endProps.pitch\n      };\n      this.state = {\n        duration: duration,\n        easing: endProps.transitionEasing,\n        interpolator: endProps.transitionInterpolator,\n        interruption: endProps.transitionInterruption,\n        startTime: this.time(),\n        startProps: initialProps.start,\n        endProps: initialProps.end,\n        animation: null,\n        propsInTransition: {}\n      };\n      this._onTransitionFrame();\n      this.onStateChange(interactionState);\n    }\n  }, {\n    key: \"_endTransition\",\n    value: function _endTransition() {\n      if (this._animationFrame) {\n        cancelAnimationFrame(this._animationFrame);\n        this._animationFrame = null;\n      }\n      this.onStateChange({\n        inTransition: false,\n        isZooming: false,\n        isPanning: false,\n        isRotating: false\n      });\n    }\n  }, {\n    key: \"_updateViewport\",\n    value: function _updateViewport() {\n      var currentTime = this.time();\n      var _this$state = this.state,\n        startTime = _this$state.startTime,\n        duration = _this$state.duration,\n        easing = _this$state.easing,\n        interpolator = _this$state.interpolator,\n        startProps = _this$state.startProps,\n        endProps = _this$state.endProps;\n      var shouldEnd = false;\n      var t = (currentTime - startTime) / duration;\n      if (t >= 1) {\n        t = 1;\n        shouldEnd = true;\n      }\n      t = easing(t);\n      var viewport = interpolator.interpolateProps(startProps, endProps, t);\n      var mapState = new MapState(Object.assign({}, this.props, viewport));\n      this.state.propsInTransition = mapState.getViewportProps();\n      this.onViewportChange(this.state.propsInTransition, this.props);\n      if (shouldEnd) {\n        this._endTransition();\n        this.props.onTransitionEnd();\n      }\n    }\n  }]);\n  return TransitionManager;\n}();\n_defineProperty(TransitionManager, \"defaultProps\", DEFAULT_PROPS);\nexport { TransitionManager as default };","var INPUT_START = 1;\nvar INPUT_MOVE = 2;\nvar INPUT_END = 4;\nvar MOUSE_INPUT_MAP = {\n  mousedown: INPUT_START,\n  mousemove: INPUT_MOVE,\n  mouseup: INPUT_END\n};\nfunction some(array, predict) {\n  for (var i = 0; i < array.length; i++) {\n    if (predict(array[i])) {\n      return true;\n    }\n  }\n  return false;\n}\nexport function enhancePointerEventInput(PointerEventInput) {\n  var oldHandler = PointerEventInput.prototype.handler;\n  PointerEventInput.prototype.handler = function handler(ev) {\n    var store = this.store;\n    if (ev.button > 0 && ev.type === 'pointerdown') {\n      if (!some(store, function (e) {\n        return e.pointerId === ev.pointerId;\n      })) {\n        store.push(ev);\n      }\n    }\n    oldHandler.call(this, ev);\n  };\n}\nexport function enhanceMouseInput(MouseInput) {\n  MouseInput.prototype.handler = function handler(ev) {\n    var eventType = MOUSE_INPUT_MAP[ev.type];\n    if (eventType & INPUT_START && ev.button >= 0) {\n      this.pressed = true;\n    }\n    if (eventType & INPUT_MOVE && ev.which === 0) {\n      eventType = INPUT_END;\n    }\n    if (!this.pressed) {\n      return;\n    }\n    if (eventType & INPUT_END) {\n      this.pressed = false;\n    }\n    this.callback(this.manager, eventType, {\n      pointers: [ev],\n      changedPointers: [ev],\n      pointerType: 'mouse',\n      srcEvent: ev\n    });\n  };\n}","import hammerjs from 'hammerjs';\nimport { enhancePointerEventInput, enhanceMouseInput } from './hammer-overrides';\nenhancePointerEventInput(hammerjs.PointerEventInput);\nenhanceMouseInput(hammerjs.MouseInput);\nexport var Manager = hammerjs.Manager;\nexport default hammerjs;","import Hammer from './utils/hammer';\nexport var RECOGNIZERS = Hammer ? [[Hammer.Pan, {\n  event: 'tripan',\n  pointers: 3,\n  threshold: 0,\n  enable: false\n}], [Hammer.Rotate, {\n  enable: false\n}], [Hammer.Pinch, {\n  enable: false\n}], [Hammer.Swipe, {\n  enable: false\n}], [Hammer.Pan, {\n  threshold: 0,\n  enable: false\n}], [Hammer.Press, {\n  enable: false\n}], [Hammer.Tap, {\n  event: 'doubletap',\n  taps: 2,\n  enable: false\n}], [Hammer.Tap, {\n  event: 'anytap',\n  enable: false\n}], [Hammer.Tap, {\n  enable: false\n}]] : null;\nexport var RECOGNIZER_COMPATIBLE_MAP = {\n  tripan: ['rotate', 'pinch', 'pan'],\n  rotate: ['pinch'],\n  pinch: ['pan'],\n  pan: ['press', 'doubletap', 'anytap', 'tap'],\n  doubletap: ['anytap'],\n  anytap: ['tap']\n};\nexport var RECOGNIZER_FALLBACK_MAP = {\n  doubletap: ['tap']\n};\nexport var BASIC_EVENT_ALIASES = {\n  pointerdown: 'pointerdown',\n  pointermove: 'pointermove',\n  pointerup: 'pointerup',\n  touchstart: 'pointerdown',\n  touchmove: 'pointermove',\n  touchend: 'pointerup',\n  mousedown: 'pointerdown',\n  mousemove: 'pointermove',\n  mouseup: 'pointerup'\n};\nexport var INPUT_EVENT_TYPES = {\n  KEY_EVENTS: ['keydown', 'keyup'],\n  MOUSE_EVENTS: ['mousedown', 'mousemove', 'mouseup', 'mouseover', 'mouseout', 'mouseleave'],\n  WHEEL_EVENTS: ['wheel', 'mousewheel']\n};\nexport var EVENT_RECOGNIZER_MAP = {\n  tap: 'tap',\n  anytap: 'anytap',\n  doubletap: 'doubletap',\n  press: 'press',\n  pinch: 'pinch',\n  pinchin: 'pinch',\n  pinchout: 'pinch',\n  pinchstart: 'pinch',\n  pinchmove: 'pinch',\n  pinchend: 'pinch',\n  pinchcancel: 'pinch',\n  rotate: 'rotate',\n  rotatestart: 'rotate',\n  rotatemove: 'rotate',\n  rotateend: 'rotate',\n  rotatecancel: 'rotate',\n  tripan: 'tripan',\n  tripanstart: 'tripan',\n  tripanmove: 'tripan',\n  tripanup: 'tripan',\n  tripandown: 'tripan',\n  tripanleft: 'tripan',\n  tripanright: 'tripan',\n  tripanend: 'tripan',\n  tripancancel: 'tripan',\n  pan: 'pan',\n  panstart: 'pan',\n  panmove: 'pan',\n  panup: 'pan',\n  pandown: 'pan',\n  panleft: 'pan',\n  panright: 'pan',\n  panend: 'pan',\n  pancancel: 'pan',\n  swipe: 'swipe',\n  swipeleft: 'swipe',\n  swiperight: 'swipe',\n  swipeup: 'swipe',\n  swipedown: 'swipe'\n};\nexport var GESTURE_EVENT_ALIASES = {\n  click: 'tap',\n  anyclick: 'anytap',\n  dblclick: 'doubletap',\n  mousedown: 'pointerdown',\n  mousemove: 'pointermove',\n  mouseup: 'pointerup',\n  mouseover: 'pointerover',\n  mouseout: 'pointerout',\n  mouseleave: 'pointerleave'\n};","export var userAgent = typeof navigator !== 'undefined' && navigator.userAgent ? navigator.userAgent.toLowerCase() : '';\nvar window_ = typeof window !== 'undefined' ? window : global;\nvar global_ = typeof global !== 'undefined' ? global : window;\nvar document_ = typeof document !== 'undefined' ? document : {};\nexport { window_ as window, global_ as global, document_ as document };\nvar passiveSupported = false;\ntry {\n  var options = {\n    get passive() {\n      passiveSupported = true;\n      return true;\n    }\n  };\n  window_.addEventListener('test', options, options);\n  window_.removeEventListener('test', options, options);\n} catch (err) {}\nexport { passiveSupported };","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport { INPUT_EVENT_TYPES } from '../constants';\nimport { window, userAgent, passiveSupported } from '../utils/globals';\nvar firefox = userAgent.indexOf('firefox') !== -1;\nvar WHEEL_EVENTS = INPUT_EVENT_TYPES.WHEEL_EVENTS;\nvar EVENT_TYPE = 'wheel';\nvar WHEEL_DELTA_MAGIC_SCALER = 4.000244140625;\nvar WHEEL_DELTA_PER_LINE = 40;\nvar SHIFT_MULTIPLIER = 0.25;\nvar WheelInput = function () {\n  function WheelInput(element, callback) {\n    var _this = this;\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    _classCallCheck(this, WheelInput);\n    this.element = element;\n    this.callback = callback;\n    this.options = Object.assign({\n      enable: true\n    }, options);\n    this.events = WHEEL_EVENTS.concat(options.events || []);\n    this.handleEvent = this.handleEvent.bind(this);\n    this.events.forEach(function (event) {\n      return element.addEventListener(event, _this.handleEvent, passiveSupported ? {\n        passive: false\n      } : false);\n    });\n  }\n  _createClass(WheelInput, [{\n    key: \"destroy\",\n    value: function destroy() {\n      var _this2 = this;\n      this.events.forEach(function (event) {\n        return _this2.element.removeEventListener(event, _this2.handleEvent);\n      });\n    }\n  }, {\n    key: \"enableEventType\",\n    value: function enableEventType(eventType, enabled) {\n      if (eventType === EVENT_TYPE) {\n        this.options.enable = enabled;\n      }\n    }\n  }, {\n    key: \"handleEvent\",\n    value: function handleEvent(event) {\n      if (!this.options.enable) {\n        return;\n      }\n      var value = event.deltaY;\n      if (window.WheelEvent) {\n        if (firefox && event.deltaMode === window.WheelEvent.DOM_DELTA_PIXEL) {\n          value /= window.devicePixelRatio;\n        }\n        if (event.deltaMode === window.WheelEvent.DOM_DELTA_LINE) {\n          value *= WHEEL_DELTA_PER_LINE;\n        }\n      }\n      var wheelPosition = {\n        x: event.clientX,\n        y: event.clientY\n      };\n      if (value !== 0 && value % WHEEL_DELTA_MAGIC_SCALER === 0) {\n        value = Math.floor(value / WHEEL_DELTA_MAGIC_SCALER);\n      }\n      if (event.shiftKey && value) {\n        value = value * SHIFT_MULTIPLIER;\n      }\n      this._onWheel(event, -value, wheelPosition);\n    }\n  }, {\n    key: \"_onWheel\",\n    value: function _onWheel(srcEvent, delta, position) {\n      this.callback({\n        type: EVENT_TYPE,\n        center: position,\n        delta: delta,\n        srcEvent: srcEvent,\n        pointerType: 'mouse',\n        target: srcEvent.target\n      });\n    }\n  }]);\n  return WheelInput;\n}();\nexport { WheelInput as default };","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport { INPUT_EVENT_TYPES } from '../constants';\nvar MOUSE_EVENTS = INPUT_EVENT_TYPES.MOUSE_EVENTS;\nvar MOVE_EVENT_TYPE = 'pointermove';\nvar OVER_EVENT_TYPE = 'pointerover';\nvar OUT_EVENT_TYPE = 'pointerout';\nvar LEAVE_EVENT_TYPE = 'pointerleave';\nvar MoveInput = function () {\n  function MoveInput(element, callback) {\n    var _this = this;\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    _classCallCheck(this, MoveInput);\n    this.element = element;\n    this.callback = callback;\n    this.pressed = false;\n    this.options = Object.assign({\n      enable: true\n    }, options);\n    this.enableMoveEvent = this.options.enable;\n    this.enableLeaveEvent = this.options.enable;\n    this.enableOutEvent = this.options.enable;\n    this.enableOverEvent = this.options.enable;\n    this.events = MOUSE_EVENTS.concat(options.events || []);\n    this.handleEvent = this.handleEvent.bind(this);\n    this.events.forEach(function (event) {\n      return element.addEventListener(event, _this.handleEvent);\n    });\n  }\n  _createClass(MoveInput, [{\n    key: \"destroy\",\n    value: function destroy() {\n      var _this2 = this;\n      this.events.forEach(function (event) {\n        return _this2.element.removeEventListener(event, _this2.handleEvent);\n      });\n    }\n  }, {\n    key: \"enableEventType\",\n    value: function enableEventType(eventType, enabled) {\n      if (eventType === MOVE_EVENT_TYPE) {\n        this.enableMoveEvent = enabled;\n      }\n      if (eventType === OVER_EVENT_TYPE) {\n        this.enableOverEvent = enabled;\n      }\n      if (eventType === OUT_EVENT_TYPE) {\n        this.enableOutEvent = enabled;\n      }\n      if (eventType === LEAVE_EVENT_TYPE) {\n        this.enableLeaveEvent = enabled;\n      }\n    }\n  }, {\n    key: \"handleEvent\",\n    value: function handleEvent(event) {\n      this.handleOverEvent(event);\n      this.handleOutEvent(event);\n      this.handleLeaveEvent(event);\n      this.handleMoveEvent(event);\n    }\n  }, {\n    key: \"handleOverEvent\",\n    value: function handleOverEvent(event) {\n      if (this.enableOverEvent) {\n        if (event.type === 'mouseover') {\n          this.callback({\n            type: OVER_EVENT_TYPE,\n            srcEvent: event,\n            pointerType: 'mouse',\n            target: event.target\n          });\n        }\n      }\n    }\n  }, {\n    key: \"handleOutEvent\",\n    value: function handleOutEvent(event) {\n      if (this.enableOutEvent) {\n        if (event.type === 'mouseout') {\n          this.callback({\n            type: OUT_EVENT_TYPE,\n            srcEvent: event,\n            pointerType: 'mouse',\n            target: event.target\n          });\n        }\n      }\n    }\n  }, {\n    key: \"handleLeaveEvent\",\n    value: function handleLeaveEvent(event) {\n      if (this.enableLeaveEvent) {\n        if (event.type === 'mouseleave') {\n          this.callback({\n            type: LEAVE_EVENT_TYPE,\n            srcEvent: event,\n            pointerType: 'mouse',\n            target: event.target\n          });\n        }\n      }\n    }\n  }, {\n    key: \"handleMoveEvent\",\n    value: function handleMoveEvent(event) {\n      if (this.enableMoveEvent) {\n        switch (event.type) {\n          case 'mousedown':\n            if (event.button >= 0) {\n              this.pressed = true;\n            }\n            break;\n          case 'mousemove':\n            if (event.which === 0) {\n              this.pressed = false;\n            }\n            if (!this.pressed) {\n              this.callback({\n                type: MOVE_EVENT_TYPE,\n                srcEvent: event,\n                pointerType: 'mouse',\n                target: event.target\n              });\n            }\n            break;\n          case 'mouseup':\n            this.pressed = false;\n            break;\n          default:\n        }\n      }\n    }\n  }]);\n  return MoveInput;\n}();\nexport { MoveInput as default };","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport { INPUT_EVENT_TYPES } from '../constants';\nvar KEY_EVENTS = INPUT_EVENT_TYPES.KEY_EVENTS;\nvar DOWN_EVENT_TYPE = 'keydown';\nvar UP_EVENT_TYPE = 'keyup';\nvar KeyInput = function () {\n  function KeyInput(element, callback) {\n    var _this = this;\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    _classCallCheck(this, KeyInput);\n    this.element = element;\n    this.callback = callback;\n    this.options = Object.assign({\n      enable: true\n    }, options);\n    this.enableDownEvent = this.options.enable;\n    this.enableUpEvent = this.options.enable;\n    this.events = KEY_EVENTS.concat(options.events || []);\n    this.handleEvent = this.handleEvent.bind(this);\n    element.tabIndex = options.tabIndex || 0;\n    element.style.outline = 'none';\n    this.events.forEach(function (event) {\n      return element.addEventListener(event, _this.handleEvent);\n    });\n  }\n  _createClass(KeyInput, [{\n    key: \"destroy\",\n    value: function destroy() {\n      var _this2 = this;\n      this.events.forEach(function (event) {\n        return _this2.element.removeEventListener(event, _this2.handleEvent);\n      });\n    }\n  }, {\n    key: \"enableEventType\",\n    value: function enableEventType(eventType, enabled) {\n      if (eventType === DOWN_EVENT_TYPE) {\n        this.enableDownEvent = enabled;\n      }\n      if (eventType === UP_EVENT_TYPE) {\n        this.enableUpEvent = enabled;\n      }\n    }\n  }, {\n    key: \"handleEvent\",\n    value: function handleEvent(event) {\n      var targetElement = event.target || event.srcElement;\n      if (targetElement.tagName === 'INPUT' && targetElement.type === 'text' || targetElement.tagName === 'TEXTAREA') {\n        return;\n      }\n      if (this.enableDownEvent && event.type === 'keydown') {\n        this.callback({\n          type: DOWN_EVENT_TYPE,\n          srcEvent: event,\n          key: event.key,\n          target: event.target\n        });\n      }\n      if (this.enableUpEvent && event.type === 'keyup') {\n        this.callback({\n          type: UP_EVENT_TYPE,\n          srcEvent: event,\n          key: event.key,\n          target: event.target\n        });\n      }\n    }\n  }]);\n  return KeyInput;\n}();\nexport { KeyInput as default };","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nvar EVENT_TYPE = 'contextmenu';\nvar ContextmenuInput = function () {\n  function ContextmenuInput(element, callback) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    _classCallCheck(this, ContextmenuInput);\n    this.element = element;\n    this.callback = callback;\n    this.options = Object.assign({\n      enable: true\n    }, options);\n    this.handleEvent = this.handleEvent.bind(this);\n    element.addEventListener('contextmenu', this.handleEvent);\n  }\n  _createClass(ContextmenuInput, [{\n    key: \"destroy\",\n    value: function destroy() {\n      this.element.removeEventListener('contextmenu', this.handleEvent);\n    }\n  }, {\n    key: \"enableEventType\",\n    value: function enableEventType(eventType, enabled) {\n      if (eventType === EVENT_TYPE) {\n        this.options.enable = enabled;\n      }\n    }\n  }, {\n    key: \"handleEvent\",\n    value: function handleEvent(event) {\n      if (!this.options.enable) {\n        return;\n      }\n      this.callback({\n        type: EVENT_TYPE,\n        center: {\n          x: event.clientX,\n          y: event.clientY\n        },\n        srcEvent: event,\n        pointerType: 'mouse',\n        target: event.target\n      });\n    }\n  }]);\n  return ContextmenuInput;\n}();\nexport { ContextmenuInput as default };","var DOWN_EVENT = 1;\nvar MOVE_EVENT = 2;\nvar UP_EVENT = 4;\nvar MOUSE_EVENTS = {\n  pointerdown: DOWN_EVENT,\n  pointermove: MOVE_EVENT,\n  pointerup: UP_EVENT,\n  mousedown: DOWN_EVENT,\n  mousemove: MOVE_EVENT,\n  mouseup: UP_EVENT\n};\nvar MOUSE_EVENT_WHICH_LEFT = 1;\nvar MOUSE_EVENT_WHICH_MIDDLE = 2;\nvar MOUSE_EVENT_WHICH_RIGHT = 3;\nvar MOUSE_EVENT_BUTTON_LEFT = 0;\nvar MOUSE_EVENT_BUTTON_MIDDLE = 1;\nvar MOUSE_EVENT_BUTTON_RIGHT = 2;\nvar MOUSE_EVENT_BUTTONS_LEFT_MASK = 1;\nvar MOUSE_EVENT_BUTTONS_RIGHT_MASK = 2;\nvar MOUSE_EVENT_BUTTONS_MIDDLE_MASK = 4;\nexport function whichButtons(event) {\n  var eventType = MOUSE_EVENTS[event.srcEvent.type];\n  if (!eventType) {\n    return null;\n  }\n  var _event$srcEvent = event.srcEvent,\n    buttons = _event$srcEvent.buttons,\n    button = _event$srcEvent.button,\n    which = _event$srcEvent.which;\n  var leftButton = false;\n  var middleButton = false;\n  var rightButton = false;\n  if (eventType === UP_EVENT || eventType === MOVE_EVENT && !Number.isFinite(buttons)) {\n    leftButton = which === MOUSE_EVENT_WHICH_LEFT;\n    middleButton = which === MOUSE_EVENT_WHICH_MIDDLE;\n    rightButton = which === MOUSE_EVENT_WHICH_RIGHT;\n  } else if (eventType === MOVE_EVENT) {\n    leftButton = Boolean(buttons & MOUSE_EVENT_BUTTONS_LEFT_MASK);\n    middleButton = Boolean(buttons & MOUSE_EVENT_BUTTONS_MIDDLE_MASK);\n    rightButton = Boolean(buttons & MOUSE_EVENT_BUTTONS_RIGHT_MASK);\n  } else if (eventType === DOWN_EVENT) {\n    leftButton = button === MOUSE_EVENT_BUTTON_LEFT;\n    middleButton = button === MOUSE_EVENT_BUTTON_MIDDLE;\n    rightButton = button === MOUSE_EVENT_BUTTON_RIGHT;\n  }\n  return {\n    leftButton: leftButton,\n    middleButton: middleButton,\n    rightButton: rightButton\n  };\n}\nexport function getOffsetPosition(event, rootElement) {\n  var srcEvent = event.srcEvent;\n  if (!event.center && !Number.isFinite(srcEvent.clientX)) {\n    return null;\n  }\n  var center = event.center || {\n    x: srcEvent.clientX,\n    y: srcEvent.clientY\n  };\n  var rect = rootElement.getBoundingClientRect();\n  var scaleX = rect.width / rootElement.offsetWidth || 1;\n  var scaleY = rect.height / rootElement.offsetHeight || 1;\n  var offsetCenter = {\n    x: (center.x - rect.left - rootElement.clientLeft) / scaleX,\n    y: (center.y - rect.top - rootElement.clientTop) / scaleY\n  };\n  return {\n    center: center,\n    offsetCenter: offsetCenter\n  };\n}","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport { whichButtons, getOffsetPosition } from './event-utils';\nvar DEFAULT_OPTIONS = {\n  srcElement: 'root',\n  priority: 0\n};\nvar EventRegistrar = function () {\n  function EventRegistrar(eventManager) {\n    _classCallCheck(this, EventRegistrar);\n    this.eventManager = eventManager;\n    this.handlers = [];\n    this.handlersByElement = new Map();\n    this.handleEvent = this.handleEvent.bind(this);\n    this._active = false;\n  }\n  _createClass(EventRegistrar, [{\n    key: \"isEmpty\",\n    value: function isEmpty() {\n      return !this._active;\n    }\n  }, {\n    key: \"add\",\n    value: function add(type, handler, opts) {\n      var once = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n      var passive = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : false;\n      var handlers = this.handlers,\n        handlersByElement = this.handlersByElement;\n      if (opts && (_typeof(opts) !== 'object' || opts.addEventListener)) {\n        opts = {\n          srcElement: opts\n        };\n      }\n      opts = opts ? Object.assign({}, DEFAULT_OPTIONS, opts) : DEFAULT_OPTIONS;\n      var entries = handlersByElement.get(opts.srcElement);\n      if (!entries) {\n        entries = [];\n        handlersByElement.set(opts.srcElement, entries);\n      }\n      var entry = {\n        type: type,\n        handler: handler,\n        srcElement: opts.srcElement,\n        priority: opts.priority\n      };\n      if (once) {\n        entry.once = true;\n      }\n      if (passive) {\n        entry.passive = true;\n      }\n      handlers.push(entry);\n      this._active = this._active || !entry.passive;\n      var insertPosition = entries.length - 1;\n      while (insertPosition >= 0) {\n        if (entries[insertPosition].priority >= entry.priority) {\n          break;\n        }\n        insertPosition--;\n      }\n      entries.splice(insertPosition + 1, 0, entry);\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(type, handler) {\n      var handlers = this.handlers,\n        handlersByElement = this.handlersByElement;\n      for (var i = handlers.length - 1; i >= 0; i--) {\n        var entry = handlers[i];\n        if (entry.type === type && entry.handler === handler) {\n          handlers.splice(i, 1);\n          var entries = handlersByElement.get(entry.srcElement);\n          entries.splice(entries.indexOf(entry), 1);\n          if (entries.length === 0) {\n            handlersByElement[\"delete\"](entry.srcElement);\n          }\n        }\n      }\n      this._active = handlers.some(function (entry) {\n        return !entry.passive;\n      });\n    }\n  }, {\n    key: \"handleEvent\",\n    value: function handleEvent(event) {\n      if (this.isEmpty()) {\n        return;\n      }\n      var mjolnirEvent = this._normalizeEvent(event);\n      var target = event.srcEvent.target;\n      while (target && target !== mjolnirEvent.rootElement) {\n        this._emit(mjolnirEvent, target);\n        if (mjolnirEvent.handled) {\n          return;\n        }\n        target = target.parentNode;\n      }\n      this._emit(mjolnirEvent, 'root');\n    }\n  }, {\n    key: \"_emit\",\n    value: function _emit(event, srcElement) {\n      var entries = this.handlersByElement.get(srcElement);\n      if (entries) {\n        var immediatePropagationStopped = false;\n        var stopPropagation = function stopPropagation() {\n          event.handled = true;\n        };\n        var stopImmediatePropagation = function stopImmediatePropagation() {\n          event.handled = true;\n          immediatePropagationStopped = true;\n        };\n        var entriesToRemove = [];\n        for (var i = 0; i < entries.length; i++) {\n          var _entries$i = entries[i],\n            type = _entries$i.type,\n            handler = _entries$i.handler,\n            once = _entries$i.once;\n          handler(Object.assign({}, event, {\n            type: type,\n            stopPropagation: stopPropagation,\n            stopImmediatePropagation: stopImmediatePropagation\n          }));\n          if (once) {\n            entriesToRemove.push(entries[i]);\n          }\n          if (immediatePropagationStopped) {\n            break;\n          }\n        }\n        for (var _i = 0; _i < entriesToRemove.length; _i++) {\n          var _entriesToRemove$_i = entriesToRemove[_i],\n            _type = _entriesToRemove$_i.type,\n            _handler = _entriesToRemove$_i.handler;\n          this.remove(_type, _handler);\n        }\n      }\n    }\n  }, {\n    key: \"_normalizeEvent\",\n    value: function _normalizeEvent(event) {\n      var rootElement = this.eventManager.element;\n      return Object.assign({}, event, whichButtons(event), getOffsetPosition(event, rootElement), {\n        handled: false,\n        rootElement: rootElement\n      });\n    }\n  }]);\n  return EventRegistrar;\n}();\nexport { EventRegistrar as default };","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nfunction _createForOfIteratorHelper(o, allowArrayLike) {\n  var it;\n  if (typeof Symbol === \"undefined\" || o[Symbol.iterator] == null) {\n    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") {\n      if (it) o = it;\n      var i = 0;\n      var F = function F() {};\n      return {\n        s: F,\n        n: function n() {\n          if (i >= o.length) return {\n            done: true\n          };\n          return {\n            done: false,\n            value: o[i++]\n          };\n        },\n        e: function e(_e) {\n          throw _e;\n        },\n        f: F\n      };\n    }\n    throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n  var normalCompletion = true,\n    didErr = false,\n    err;\n  return {\n    s: function s() {\n      it = o[Symbol.iterator]();\n    },\n    n: function n() {\n      var step = it.next();\n      normalCompletion = step.done;\n      return step;\n    },\n    e: function e(_e2) {\n      didErr = true;\n      err = _e2;\n    },\n    f: function f() {\n      try {\n        if (!normalCompletion && it[\"return\"] != null) it[\"return\"]();\n      } finally {\n        if (didErr) throw err;\n      }\n    }\n  };\n}\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n  return arr2;\n}\nimport { Manager } from './utils/hammer';\nimport WheelInput from './inputs/wheel-input';\nimport MoveInput from './inputs/move-input';\nimport KeyInput from './inputs/key-input';\nimport ContextmenuInput from './inputs/contextmenu-input';\nimport EventRegistrar from './utils/event-registrar';\nimport { BASIC_EVENT_ALIASES, EVENT_RECOGNIZER_MAP, GESTURE_EVENT_ALIASES, RECOGNIZERS, RECOGNIZER_COMPATIBLE_MAP, RECOGNIZER_FALLBACK_MAP } from './constants';\nvar DEFAULT_OPTIONS = {\n  events: null,\n  recognizers: null,\n  recognizerOptions: {},\n  Manager: Manager,\n  touchAction: 'none',\n  tabIndex: 0\n};\nvar EventManager = function () {\n  function EventManager() {\n    var element = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    _classCallCheck(this, EventManager);\n    this.options = Object.assign({}, DEFAULT_OPTIONS, options);\n    this.events = new Map();\n    this._onBasicInput = this._onBasicInput.bind(this);\n    this._onOtherEvent = this._onOtherEvent.bind(this);\n    this.setElement(element);\n    var events = options.events;\n    if (events) {\n      this.on(events);\n    }\n  }\n  _createClass(EventManager, [{\n    key: \"setElement\",\n    value: function setElement(element) {\n      var _this = this;\n      if (this.element) {\n        this.destroy();\n      }\n      this.element = element;\n      if (!element) {\n        return;\n      }\n      var options = this.options;\n      var ManagerClass = options.Manager;\n      this.manager = new ManagerClass(element, {\n        touchAction: options.touchAction,\n        recognizers: options.recognizers || RECOGNIZERS\n      }).on('hammer.input', this._onBasicInput);\n      if (!options.recognizers) {\n        Object.keys(RECOGNIZER_COMPATIBLE_MAP).forEach(function (name) {\n          var recognizer = _this.manager.get(name);\n          if (recognizer) {\n            RECOGNIZER_COMPATIBLE_MAP[name].forEach(function (otherName) {\n              recognizer.recognizeWith(otherName);\n            });\n          }\n        });\n      }\n      for (var recognizerName in options.recognizerOptions) {\n        var recognizer = this.manager.get(recognizerName);\n        if (recognizer) {\n          var recognizerOption = options.recognizerOptions[recognizerName];\n          delete recognizerOption.enable;\n          recognizer.set(recognizerOption);\n        }\n      }\n      this.wheelInput = new WheelInput(element, this._onOtherEvent, {\n        enable: false\n      });\n      this.moveInput = new MoveInput(element, this._onOtherEvent, {\n        enable: false\n      });\n      this.keyInput = new KeyInput(element, this._onOtherEvent, {\n        enable: false,\n        tabIndex: options.tabIndex\n      });\n      this.contextmenuInput = new ContextmenuInput(element, this._onOtherEvent, {\n        enable: false\n      });\n      var _iterator = _createForOfIteratorHelper(this.events),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var _step$value = _slicedToArray(_step.value, 2),\n            eventAlias = _step$value[0],\n            eventRegistrar = _step$value[1];\n          if (!eventRegistrar.isEmpty()) {\n            this._toggleRecognizer(eventRegistrar.recognizerName, true);\n            this.manager.on(eventAlias, eventRegistrar.handleEvent);\n          }\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (this.element) {\n        this.wheelInput.destroy();\n        this.moveInput.destroy();\n        this.keyInput.destroy();\n        this.contextmenuInput.destroy();\n        this.manager.destroy();\n        this.wheelInput = null;\n        this.moveInput = null;\n        this.keyInput = null;\n        this.contextmenuInput = null;\n        this.manager = null;\n        this.element = null;\n      }\n    }\n  }, {\n    key: \"on\",\n    value: function on(event, handler, opts) {\n      this._addEventHandler(event, handler, opts, false);\n    }\n  }, {\n    key: \"once\",\n    value: function once(event, handler, opts) {\n      this._addEventHandler(event, handler, opts, true);\n    }\n  }, {\n    key: \"watch\",\n    value: function watch(event, handler, opts) {\n      this._addEventHandler(event, handler, opts, false, true);\n    }\n  }, {\n    key: \"off\",\n    value: function off(event, handler) {\n      this._removeEventHandler(event, handler);\n    }\n  }, {\n    key: \"_toggleRecognizer\",\n    value: function _toggleRecognizer(name, enabled) {\n      var manager = this.manager;\n      if (!manager) {\n        return;\n      }\n      var recognizer = manager.get(name);\n      if (recognizer && recognizer.options.enable !== enabled) {\n        recognizer.set({\n          enable: enabled\n        });\n        var fallbackRecognizers = RECOGNIZER_FALLBACK_MAP[name];\n        if (fallbackRecognizers && !this.options.recognizers) {\n          fallbackRecognizers.forEach(function (otherName) {\n            var otherRecognizer = manager.get(otherName);\n            if (enabled) {\n              otherRecognizer.requireFailure(name);\n              recognizer.dropRequireFailure(otherName);\n            } else {\n              otherRecognizer.dropRequireFailure(name);\n            }\n          });\n        }\n      }\n      this.wheelInput.enableEventType(name, enabled);\n      this.moveInput.enableEventType(name, enabled);\n      this.keyInput.enableEventType(name, enabled);\n      this.contextmenuInput.enableEventType(name, enabled);\n    }\n  }, {\n    key: \"_addEventHandler\",\n    value: function _addEventHandler(event, handler, opts, once, passive) {\n      if (typeof event !== 'string') {\n        opts = handler;\n        for (var eventName in event) {\n          this._addEventHandler(eventName, event[eventName], opts, once, passive);\n        }\n        return;\n      }\n      var manager = this.manager,\n        events = this.events;\n      var eventAlias = GESTURE_EVENT_ALIASES[event] || event;\n      var eventRegistrar = events.get(eventAlias);\n      if (!eventRegistrar) {\n        eventRegistrar = new EventRegistrar(this);\n        events.set(eventAlias, eventRegistrar);\n        eventRegistrar.recognizerName = EVENT_RECOGNIZER_MAP[eventAlias] || eventAlias;\n        if (manager) {\n          manager.on(eventAlias, eventRegistrar.handleEvent);\n        }\n      }\n      eventRegistrar.add(event, handler, opts, once, passive);\n      if (!eventRegistrar.isEmpty()) {\n        this._toggleRecognizer(eventRegistrar.recognizerName, true);\n      }\n    }\n  }, {\n    key: \"_removeEventHandler\",\n    value: function _removeEventHandler(event, handler) {\n      if (typeof event !== 'string') {\n        for (var eventName in event) {\n          this._removeEventHandler(eventName, event[eventName]);\n        }\n        return;\n      }\n      var events = this.events;\n      var eventAlias = GESTURE_EVENT_ALIASES[event] || event;\n      var eventRegistrar = events.get(eventAlias);\n      if (!eventRegistrar) {\n        return;\n      }\n      eventRegistrar.remove(event, handler);\n      if (eventRegistrar.isEmpty()) {\n        var recognizerName = eventRegistrar.recognizerName;\n        var isRecognizerUsed = false;\n        var _iterator2 = _createForOfIteratorHelper(events.values()),\n          _step2;\n        try {\n          for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n            var eh = _step2.value;\n            if (eh.recognizerName === recognizerName && !eh.isEmpty()) {\n              isRecognizerUsed = true;\n              break;\n            }\n          }\n        } catch (err) {\n          _iterator2.e(err);\n        } finally {\n          _iterator2.f();\n        }\n        if (!isRecognizerUsed) {\n          this._toggleRecognizer(recognizerName, false);\n        }\n      }\n    }\n  }, {\n    key: \"_onBasicInput\",\n    value: function _onBasicInput(event) {\n      var srcEvent = event.srcEvent;\n      var alias = BASIC_EVENT_ALIASES[srcEvent.type];\n      if (alias) {\n        this.manager.emit(alias, event);\n      }\n    }\n  }, {\n    key: \"_onOtherEvent\",\n    value: function _onOtherEvent(event) {\n      this.manager.emit(event.type, event);\n    }\n  }]);\n  return EventManager;\n}();\nexport { EventManager as default };","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n  return target;\n}\nimport MapState from './map-state';\nimport { LinearInterpolator } from './transition';\nimport TransitionManager, { TRANSITION_EVENTS } from './transition-manager';\nvar NO_TRANSITION_PROPS = {\n  transitionDuration: 0\n};\nexport var LINEAR_TRANSITION_PROPS = {\n  transitionDuration: 300,\n  transitionEasing: function transitionEasing(t) {\n    return t;\n  },\n  transitionInterpolator: new LinearInterpolator(),\n  transitionInterruption: TRANSITION_EVENTS.BREAK\n};\nvar DEFAULT_INERTIA = 300;\nvar INERTIA_EASING = function INERTIA_EASING(t) {\n  return 1 - (1 - t) * (1 - t);\n};\nvar EVENT_TYPES = {\n  WHEEL: ['wheel'],\n  PAN: ['panstart', 'panmove', 'panend'],\n  PINCH: ['pinchstart', 'pinchmove', 'pinchend'],\n  TRIPLE_PAN: ['tripanstart', 'tripanmove', 'tripanend'],\n  DOUBLE_TAP: ['doubletap'],\n  KEYBOARD: ['keydown']\n};\nvar MapController = function () {\n  function MapController() {\n    var _this = this;\n    _classCallCheck(this, MapController);\n    _defineProperty(this, \"events\", []);\n    _defineProperty(this, \"scrollZoom\", true);\n    _defineProperty(this, \"dragPan\", true);\n    _defineProperty(this, \"dragRotate\", true);\n    _defineProperty(this, \"doubleClickZoom\", true);\n    _defineProperty(this, \"touchZoom\", true);\n    _defineProperty(this, \"touchRotate\", false);\n    _defineProperty(this, \"keyboard\", true);\n    _defineProperty(this, \"_interactionState\", {\n      isDragging: false\n    });\n    _defineProperty(this, \"_events\", {});\n    _defineProperty(this, \"_setInteractionState\", function (newState) {\n      Object.assign(_this._interactionState, newState);\n      if (_this.onStateChange) {\n        _this.onStateChange(_this._interactionState);\n      }\n    });\n    _defineProperty(this, \"_onTransition\", function (newViewport, oldViewport) {\n      _this.onViewportChange(newViewport, _this._interactionState, oldViewport);\n    });\n    this.handleEvent = this.handleEvent.bind(this);\n    this._transitionManager = new TransitionManager({\n      onViewportChange: this._onTransition,\n      onStateChange: this._setInteractionState\n    });\n  }\n  _createClass(MapController, [{\n    key: \"handleEvent\",\n    value: function handleEvent(event) {\n      this.mapState = this.getMapState();\n      var eventStartBlocked = this._eventStartBlocked;\n      switch (event.type) {\n        case 'panstart':\n          return eventStartBlocked ? false : this._onPanStart(event);\n        case 'panmove':\n          return this._onPan(event);\n        case 'panend':\n          return this._onPanEnd(event);\n        case 'pinchstart':\n          return eventStartBlocked ? false : this._onPinchStart(event);\n        case 'pinchmove':\n          return this._onPinch(event);\n        case 'pinchend':\n          return this._onPinchEnd(event);\n        case 'tripanstart':\n          return eventStartBlocked ? false : this._onTriplePanStart(event);\n        case 'tripanmove':\n          return this._onTriplePan(event);\n        case 'tripanend':\n          return this._onTriplePanEnd(event);\n        case 'doubletap':\n          return this._onDoubleTap(event);\n        case 'wheel':\n          return this._onWheel(event);\n        case 'keydown':\n          return this._onKeyDown(event);\n        default:\n          return false;\n      }\n    }\n  }, {\n    key: \"getCenter\",\n    value: function getCenter(event) {\n      var _event$offsetCenter = event.offsetCenter,\n        x = _event$offsetCenter.x,\n        y = _event$offsetCenter.y;\n      return [x, y];\n    }\n  }, {\n    key: \"isFunctionKeyPressed\",\n    value: function isFunctionKeyPressed(event) {\n      var srcEvent = event.srcEvent;\n      return Boolean(srcEvent.metaKey || srcEvent.altKey || srcEvent.ctrlKey || srcEvent.shiftKey);\n    }\n  }, {\n    key: \"blockEvents\",\n    value: function blockEvents(timeout) {\n      var _this2 = this;\n      var timer = setTimeout(function () {\n        if (_this2._eventStartBlocked === timer) {\n          _this2._eventStartBlocked = null;\n        }\n      }, timeout);\n      this._eventStartBlocked = timer;\n    }\n  }, {\n    key: \"updateViewport\",\n    value: function updateViewport(newMapState, extraProps, interactionState) {\n      var oldViewport = this.mapState instanceof MapState ? this.mapState.getViewportProps() : this.mapState;\n      var newViewport = _objectSpread(_objectSpread({}, newMapState.getViewportProps()), extraProps);\n      var viewStateChanged = Object.keys(newViewport).some(function (key) {\n        return oldViewport[key] !== newViewport[key];\n      });\n      this._state = newMapState.getState();\n      this._setInteractionState(interactionState);\n      if (viewStateChanged) {\n        this.onViewportChange(newViewport, this._interactionState, oldViewport);\n      }\n    }\n  }, {\n    key: \"getMapState\",\n    value: function getMapState(overrides) {\n      return new MapState(_objectSpread(_objectSpread(_objectSpread({}, this.mapStateProps), this._state), overrides));\n    }\n  }, {\n    key: \"isDragging\",\n    value: function isDragging() {\n      return this._interactionState.isDragging;\n    }\n  }, {\n    key: \"setOptions\",\n    value: function setOptions(options) {\n      var onViewportChange = options.onViewportChange,\n        onStateChange = options.onStateChange,\n        _options$eventManager = options.eventManager,\n        eventManager = _options$eventManager === void 0 ? this.eventManager : _options$eventManager,\n        _options$isInteractiv = options.isInteractive,\n        isInteractive = _options$isInteractiv === void 0 ? true : _options$isInteractiv,\n        _options$scrollZoom = options.scrollZoom,\n        scrollZoom = _options$scrollZoom === void 0 ? this.scrollZoom : _options$scrollZoom,\n        _options$dragPan = options.dragPan,\n        dragPan = _options$dragPan === void 0 ? this.dragPan : _options$dragPan,\n        _options$dragRotate = options.dragRotate,\n        dragRotate = _options$dragRotate === void 0 ? this.dragRotate : _options$dragRotate,\n        _options$doubleClickZ = options.doubleClickZoom,\n        doubleClickZoom = _options$doubleClickZ === void 0 ? this.doubleClickZoom : _options$doubleClickZ,\n        _options$touchZoom = options.touchZoom,\n        touchZoom = _options$touchZoom === void 0 ? this.touchZoom : _options$touchZoom,\n        _options$touchRotate = options.touchRotate,\n        touchRotate = _options$touchRotate === void 0 ? this.touchRotate : _options$touchRotate,\n        _options$keyboard = options.keyboard,\n        keyboard = _options$keyboard === void 0 ? this.keyboard : _options$keyboard;\n      this.onViewportChange = onViewportChange;\n      this.onStateChange = onStateChange;\n      var prevOptions = this.mapStateProps || {};\n      var dimensionChanged = prevOptions.height !== options.height || prevOptions.width !== options.width;\n      this.mapStateProps = options;\n      if (dimensionChanged) {\n        this.mapState = prevOptions;\n        this.updateViewport(new MapState(options));\n      }\n      this._transitionManager.processViewportChange(options);\n      if (this.eventManager !== eventManager) {\n        this.eventManager = eventManager;\n        this._events = {};\n        this.toggleEvents(this.events, true);\n      }\n      this.toggleEvents(EVENT_TYPES.WHEEL, isInteractive && Boolean(scrollZoom));\n      this.toggleEvents(EVENT_TYPES.PAN, isInteractive && Boolean(dragPan || dragRotate));\n      this.toggleEvents(EVENT_TYPES.PINCH, isInteractive && Boolean(touchZoom || touchRotate));\n      this.toggleEvents(EVENT_TYPES.TRIPLE_PAN, isInteractive && Boolean(touchRotate));\n      this.toggleEvents(EVENT_TYPES.DOUBLE_TAP, isInteractive && Boolean(doubleClickZoom));\n      this.toggleEvents(EVENT_TYPES.KEYBOARD, isInteractive && Boolean(keyboard));\n      this.scrollZoom = scrollZoom;\n      this.dragPan = dragPan;\n      this.dragRotate = dragRotate;\n      this.doubleClickZoom = doubleClickZoom;\n      this.touchZoom = touchZoom;\n      this.touchRotate = touchRotate;\n      this.keyboard = keyboard;\n    }\n  }, {\n    key: \"toggleEvents\",\n    value: function toggleEvents(eventNames, enabled) {\n      var _this3 = this;\n      if (this.eventManager) {\n        eventNames.forEach(function (eventName) {\n          if (_this3._events[eventName] !== enabled) {\n            _this3._events[eventName] = enabled;\n            if (enabled) {\n              _this3.eventManager.on(eventName, _this3.handleEvent);\n            } else {\n              _this3.eventManager.off(eventName, _this3.handleEvent);\n            }\n          }\n        });\n      }\n    }\n  }, {\n    key: \"_onPanStart\",\n    value: function _onPanStart(event) {\n      var pos = this.getCenter(event);\n      this._panRotate = this.isFunctionKeyPressed(event) || event.rightButton;\n      var newMapState = this._panRotate ? this.mapState.rotateStart({\n        pos: pos\n      }) : this.mapState.panStart({\n        pos: pos\n      });\n      this.updateViewport(newMapState, NO_TRANSITION_PROPS, {\n        isDragging: true\n      });\n      return true;\n    }\n  }, {\n    key: \"_onPan\",\n    value: function _onPan(event) {\n      if (!this.isDragging()) {\n        return false;\n      }\n      return this._panRotate ? this._onPanRotate(event) : this._onPanMove(event);\n    }\n  }, {\n    key: \"_onPanEnd\",\n    value: function _onPanEnd(event) {\n      if (!this.isDragging()) {\n        return false;\n      }\n      return this._panRotate ? this._onPanRotateEnd(event) : this._onPanMoveEnd(event);\n    }\n  }, {\n    key: \"_onPanMove\",\n    value: function _onPanMove(event) {\n      if (!this.dragPan) {\n        return false;\n      }\n      var pos = this.getCenter(event);\n      var newMapState = this.mapState.pan({\n        pos: pos\n      });\n      this.updateViewport(newMapState, NO_TRANSITION_PROPS, {\n        isPanning: true\n      });\n      return true;\n    }\n  }, {\n    key: \"_onPanMoveEnd\",\n    value: function _onPanMoveEnd(event) {\n      if (this.dragPan) {\n        var _this$dragPan$inertia = this.dragPan.inertia,\n          inertia = _this$dragPan$inertia === void 0 ? DEFAULT_INERTIA : _this$dragPan$inertia;\n        if (inertia && event.velocity) {\n          var pos = this.getCenter(event);\n          var endPos = [pos[0] + event.velocityX * inertia / 2, pos[1] + event.velocityY * inertia / 2];\n          var newControllerState = this.mapState.pan({\n            pos: endPos\n          }).panEnd();\n          this.updateViewport(newControllerState, _objectSpread(_objectSpread({}, LINEAR_TRANSITION_PROPS), {}, {\n            transitionDuration: inertia,\n            transitionEasing: INERTIA_EASING\n          }), {\n            isDragging: false,\n            isPanning: true\n          });\n          return true;\n        }\n      }\n      var newMapState = this.mapState.panEnd();\n      this.updateViewport(newMapState, null, {\n        isDragging: false,\n        isPanning: false\n      });\n      return true;\n    }\n  }, {\n    key: \"_onPanRotate\",\n    value: function _onPanRotate(event) {\n      if (!this.dragRotate) {\n        return false;\n      }\n      var pos = this.getCenter(event);\n      var newMapState = this.mapState.rotate({\n        pos: pos\n      });\n      this.updateViewport(newMapState, NO_TRANSITION_PROPS, {\n        isRotating: true\n      });\n      return true;\n    }\n  }, {\n    key: \"_onPanRotateEnd\",\n    value: function _onPanRotateEnd(event) {\n      if (this.dragRotate) {\n        var _this$dragRotate$iner = this.dragRotate.inertia,\n          inertia = _this$dragRotate$iner === void 0 ? DEFAULT_INERTIA : _this$dragRotate$iner;\n        if (inertia && event.velocity) {\n          var pos = this.getCenter(event);\n          var endPos = [pos[0] + event.velocityX * inertia / 2, pos[1] + event.velocityY * inertia / 2];\n          var newControllerState = this.mapState.rotate({\n            pos: endPos\n          }).rotateEnd();\n          this.updateViewport(newControllerState, _objectSpread(_objectSpread({}, LINEAR_TRANSITION_PROPS), {}, {\n            transitionDuration: inertia,\n            transitionEasing: INERTIA_EASING\n          }), {\n            isDragging: false,\n            isRotating: true\n          });\n          return true;\n        }\n      }\n      var newMapState = this.mapState.panEnd();\n      this.updateViewport(newMapState, null, {\n        isDragging: false,\n        isRotating: false\n      });\n      return true;\n    }\n  }, {\n    key: \"_onWheel\",\n    value: function _onWheel(event) {\n      if (!this.scrollZoom) {\n        return false;\n      }\n      var _this$scrollZoom = this.scrollZoom,\n        _this$scrollZoom$spee = _this$scrollZoom.speed,\n        speed = _this$scrollZoom$spee === void 0 ? 0.01 : _this$scrollZoom$spee,\n        _this$scrollZoom$smoo = _this$scrollZoom.smooth,\n        smooth = _this$scrollZoom$smoo === void 0 ? false : _this$scrollZoom$smoo;\n      event.preventDefault();\n      var pos = this.getCenter(event);\n      var delta = event.delta;\n      var scale = 2 / (1 + Math.exp(-Math.abs(delta * speed)));\n      if (delta < 0 && scale !== 0) {\n        scale = 1 / scale;\n      }\n      var newMapState = this.mapState.zoom({\n        pos: pos,\n        scale: scale\n      });\n      this.updateViewport(newMapState, _objectSpread(_objectSpread({}, LINEAR_TRANSITION_PROPS), {}, {\n        transitionInterpolator: new LinearInterpolator({\n          around: pos\n        }),\n        transitionDuration: smooth ? 250 : 1\n      }), {\n        isPanning: true,\n        isZooming: true\n      });\n      return true;\n    }\n  }, {\n    key: \"_onPinchStart\",\n    value: function _onPinchStart(event) {\n      var pos = this.getCenter(event);\n      var newMapState = this.mapState.zoomStart({\n        pos: pos\n      }).rotateStart({\n        pos: pos\n      });\n      this._startPinchRotation = event.rotation;\n      this._lastPinchEvent = event;\n      this.updateViewport(newMapState, NO_TRANSITION_PROPS, {\n        isDragging: true\n      });\n      return true;\n    }\n  }, {\n    key: \"_onPinch\",\n    value: function _onPinch(event) {\n      if (!this.isDragging()) {\n        return false;\n      }\n      if (!this.touchZoom && !this.touchRotate) {\n        return false;\n      }\n      var newMapState = this.mapState;\n      if (this.touchZoom) {\n        var scale = event.scale;\n        var pos = this.getCenter(event);\n        newMapState = newMapState.zoom({\n          pos: pos,\n          scale: scale\n        });\n      }\n      if (this.touchRotate) {\n        var rotation = event.rotation;\n        newMapState = newMapState.rotate({\n          deltaAngleX: this._startPinchRotation - rotation\n        });\n      }\n      this.updateViewport(newMapState, NO_TRANSITION_PROPS, {\n        isDragging: true,\n        isPanning: Boolean(this.touchZoom),\n        isZooming: Boolean(this.touchZoom),\n        isRotating: Boolean(this.touchRotate)\n      });\n      this._lastPinchEvent = event;\n      return true;\n    }\n  }, {\n    key: \"_onPinchEnd\",\n    value: function _onPinchEnd(event) {\n      if (!this.isDragging()) {\n        return false;\n      }\n      if (this.touchZoom) {\n        var _this$touchZoom$inert = this.touchZoom.inertia,\n          inertia = _this$touchZoom$inert === void 0 ? DEFAULT_INERTIA : _this$touchZoom$inert;\n        var _lastPinchEvent = this._lastPinchEvent;\n        if (inertia && _lastPinchEvent && event.scale !== _lastPinchEvent.scale) {\n          var pos = this.getCenter(event);\n          var _newMapState = this.mapState.rotateEnd();\n          var z = Math.log2(event.scale);\n          var velocityZ = (z - Math.log2(_lastPinchEvent.scale)) / (event.deltaTime - _lastPinchEvent.deltaTime);\n          var endScale = Math.pow(2, z + velocityZ * inertia / 2);\n          _newMapState = _newMapState.zoom({\n            pos: pos,\n            scale: endScale\n          }).zoomEnd();\n          this.updateViewport(_newMapState, _objectSpread(_objectSpread({}, LINEAR_TRANSITION_PROPS), {}, {\n            transitionInterpolator: new LinearInterpolator({\n              around: pos\n            }),\n            transitionDuration: inertia,\n            transitionEasing: INERTIA_EASING\n          }), {\n            isDragging: false,\n            isPanning: Boolean(this.touchZoom),\n            isZooming: Boolean(this.touchZoom),\n            isRotating: false\n          });\n          this.blockEvents(inertia);\n          return true;\n        }\n      }\n      var newMapState = this.mapState.zoomEnd().rotateEnd();\n      this._state.startPinchRotation = 0;\n      this.updateViewport(newMapState, null, {\n        isDragging: false,\n        isPanning: false,\n        isZooming: false,\n        isRotating: false\n      });\n      this._startPinchRotation = null;\n      this._lastPinchEvent = null;\n      return true;\n    }\n  }, {\n    key: \"_onTriplePanStart\",\n    value: function _onTriplePanStart(event) {\n      var pos = this.getCenter(event);\n      var newMapState = this.mapState.rotateStart({\n        pos: pos\n      });\n      this.updateViewport(newMapState, NO_TRANSITION_PROPS, {\n        isDragging: true\n      });\n      return true;\n    }\n  }, {\n    key: \"_onTriplePan\",\n    value: function _onTriplePan(event) {\n      if (!this.isDragging()) {\n        return false;\n      }\n      if (!this.touchRotate) {\n        return false;\n      }\n      var pos = this.getCenter(event);\n      pos[0] -= event.deltaX;\n      var newMapState = this.mapState.rotate({\n        pos: pos\n      });\n      this.updateViewport(newMapState, NO_TRANSITION_PROPS, {\n        isRotating: true\n      });\n      return true;\n    }\n  }, {\n    key: \"_onTriplePanEnd\",\n    value: function _onTriplePanEnd(event) {\n      if (!this.isDragging()) {\n        return false;\n      }\n      if (this.touchRotate) {\n        var _this$touchRotate$ine = this.touchRotate.inertia,\n          inertia = _this$touchRotate$ine === void 0 ? DEFAULT_INERTIA : _this$touchRotate$ine;\n        if (inertia && event.velocityY) {\n          var pos = this.getCenter(event);\n          var endPos = [pos[0], pos[1] += event.velocityY * inertia / 2];\n          var _newMapState2 = this.mapState.rotate({\n            pos: endPos\n          });\n          this.updateViewport(_newMapState2, _objectSpread(_objectSpread({}, LINEAR_TRANSITION_PROPS), {}, {\n            transitionDuration: inertia,\n            transitionEasing: INERTIA_EASING\n          }), {\n            isDragging: false,\n            isRotating: true\n          });\n          this.blockEvents(inertia);\n          return false;\n        }\n      }\n      var newMapState = this.mapState.rotateEnd();\n      this.updateViewport(newMapState, null, {\n        isDragging: false,\n        isRotating: false\n      });\n      return true;\n    }\n  }, {\n    key: \"_onDoubleTap\",\n    value: function _onDoubleTap(event) {\n      if (!this.doubleClickZoom) {\n        return false;\n      }\n      var pos = this.getCenter(event);\n      var isZoomOut = this.isFunctionKeyPressed(event);\n      var newMapState = this.mapState.zoom({\n        pos: pos,\n        scale: isZoomOut ? 0.5 : 2\n      });\n      this.updateViewport(newMapState, Object.assign({}, LINEAR_TRANSITION_PROPS, {\n        transitionInterpolator: new LinearInterpolator({\n          around: pos\n        })\n      }), {\n        isZooming: true\n      });\n      return true;\n    }\n  }, {\n    key: \"_onKeyDown\",\n    value: function _onKeyDown(event) {\n      if (!this.keyboard) {\n        return false;\n      }\n      var funcKey = this.isFunctionKeyPressed(event);\n      var _this$keyboard = this.keyboard,\n        _this$keyboard$zoomSp = _this$keyboard.zoomSpeed,\n        zoomSpeed = _this$keyboard$zoomSp === void 0 ? 2 : _this$keyboard$zoomSp,\n        _this$keyboard$moveSp = _this$keyboard.moveSpeed,\n        moveSpeed = _this$keyboard$moveSp === void 0 ? 100 : _this$keyboard$moveSp,\n        _this$keyboard$rotate = _this$keyboard.rotateSpeedX,\n        rotateSpeedX = _this$keyboard$rotate === void 0 ? 15 : _this$keyboard$rotate,\n        _this$keyboard$rotate2 = _this$keyboard.rotateSpeedY,\n        rotateSpeedY = _this$keyboard$rotate2 === void 0 ? 10 : _this$keyboard$rotate2;\n      var mapStateProps = this.mapStateProps;\n      var newMapState;\n      switch (event.srcEvent.keyCode) {\n        case 189:\n          if (funcKey) {\n            newMapState = this.getMapState({\n              zoom: mapStateProps.zoom - Math.log2(zoomSpeed) - 1\n            });\n          } else {\n            newMapState = this.getMapState({\n              zoom: mapStateProps.zoom - Math.log2(zoomSpeed)\n            });\n          }\n          break;\n        case 187:\n          if (funcKey) {\n            newMapState = this.getMapState({\n              zoom: mapStateProps.zoom + Math.log2(zoomSpeed) + 1\n            });\n          } else {\n            newMapState = this.getMapState({\n              zoom: mapStateProps.zoom + Math.log2(zoomSpeed)\n            });\n          }\n          break;\n        case 37:\n          if (funcKey) {\n            newMapState = this.getMapState({\n              bearing: mapStateProps.bearing - rotateSpeedX\n            });\n          } else {\n            newMapState = this.mapState.pan({\n              pos: [moveSpeed, 0],\n              startPos: [0, 0]\n            });\n          }\n          break;\n        case 39:\n          if (funcKey) {\n            newMapState = this.getMapState({\n              bearing: mapStateProps.bearing + rotateSpeedX\n            });\n          } else {\n            newMapState = this.mapState.pan({\n              pos: [-moveSpeed, 0],\n              startPos: [0, 0]\n            });\n          }\n          break;\n        case 38:\n          if (funcKey) {\n            newMapState = this.getMapState({\n              pitch: mapStateProps.pitch + rotateSpeedY\n            });\n          } else {\n            newMapState = this.mapState.pan({\n              pos: [0, moveSpeed],\n              startPos: [0, 0]\n            });\n          }\n          break;\n        case 40:\n          if (funcKey) {\n            newMapState = this.getMapState({\n              pitch: mapStateProps.pitch - rotateSpeedY\n            });\n          } else {\n            newMapState = this.mapState.pan({\n              pos: [0, -moveSpeed],\n              startPos: [0, 0]\n            });\n          }\n          break;\n        default:\n          return false;\n      }\n      return this.updateViewport(newMapState, LINEAR_TRANSITION_PROPS);\n    }\n  }]);\n  return MapController;\n}();\nexport { MapController as default };","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n  return target;\n}\nimport * as React from 'react';\nimport { useContext, useRef, useMemo, useEffect, useImperativeHandle, forwardRef } from 'react';\nimport * as PropTypes from 'prop-types';\nimport StaticMap, { getViewport } from './static-map';\nimport { MAPBOX_LIMITS } from '../utils/map-state';\nimport TransitionManager from '../utils/transition-manager';\nimport MapContext, { MapContextProvider } from './map-context';\nimport { EventManager } from 'mjolnir.js';\nimport MapController from '../utils/map-controller';\nimport useIsomorphicLayoutEffect from '../utils/use-isomorphic-layout-effect';\nvar propTypes = Object.assign({}, StaticMap.propTypes, {\n  maxZoom: PropTypes.number,\n  minZoom: PropTypes.number,\n  maxPitch: PropTypes.number,\n  minPitch: PropTypes.number,\n  onViewStateChange: PropTypes.func,\n  onViewportChange: PropTypes.func,\n  onInteractionStateChange: PropTypes.func,\n  transitionDuration: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  transitionInterpolator: PropTypes.object,\n  transitionInterruption: PropTypes.number,\n  transitionEasing: PropTypes.func,\n  onTransitionStart: PropTypes.func,\n  onTransitionInterrupt: PropTypes.func,\n  onTransitionEnd: PropTypes.func,\n  scrollZoom: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n  dragPan: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n  dragRotate: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n  doubleClickZoom: PropTypes.bool,\n  touchZoom: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n  touchRotate: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n  keyboard: PropTypes.oneOfType([PropTypes.bool, PropTypes.object]),\n  onHover: PropTypes.func,\n  onClick: PropTypes.func,\n  onDblClick: PropTypes.func,\n  onContextMenu: PropTypes.func,\n  onMouseDown: PropTypes.func,\n  onMouseMove: PropTypes.func,\n  onMouseUp: PropTypes.func,\n  onTouchStart: PropTypes.func,\n  onTouchMove: PropTypes.func,\n  onTouchEnd: PropTypes.func,\n  onMouseEnter: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  onMouseOut: PropTypes.func,\n  onWheel: PropTypes.func,\n  touchAction: PropTypes.string,\n  eventRecognizerOptions: PropTypes.object,\n  clickRadius: PropTypes.number,\n  interactiveLayerIds: PropTypes.array,\n  getCursor: PropTypes.func,\n  controller: PropTypes.instanceOf(MapController)\n});\nvar getDefaultCursor = function getDefaultCursor(_ref) {\n  var isDragging = _ref.isDragging,\n    isHovering = _ref.isHovering;\n  return isDragging ? 'grabbing' : isHovering ? 'pointer' : 'grab';\n};\nvar defaultProps = Object.assign({}, StaticMap.defaultProps, MAPBOX_LIMITS, TransitionManager.defaultProps, {\n  onViewStateChange: null,\n  onViewportChange: null,\n  onClick: null,\n  onNativeClick: null,\n  onHover: null,\n  onContextMenu: function onContextMenu(event) {\n    return event.preventDefault();\n  },\n  scrollZoom: true,\n  dragPan: true,\n  dragRotate: true,\n  doubleClickZoom: true,\n  touchZoom: true,\n  touchRotate: false,\n  keyboard: true,\n  touchAction: 'none',\n  eventRecognizerOptions: {},\n  clickRadius: 0,\n  getCursor: getDefaultCursor\n});\nfunction normalizeEvent(event) {\n  if (event.lngLat || !event.offsetCenter) {\n    return event;\n  }\n  var _event$offsetCenter = event.offsetCenter,\n    x = _event$offsetCenter.x,\n    y = _event$offsetCenter.y;\n  if (!Number.isFinite(x) || !Number.isFinite(y)) {\n    return event;\n  }\n  var pos = [x, y];\n  event.point = pos;\n  event.lngLat = this.viewport.unproject(pos);\n  return event;\n}\nfunction getFeatures(pos) {\n  var map = this.map;\n  if (!map || !pos) {\n    return null;\n  }\n  var queryParams = {};\n  var size = this.props.clickRadius;\n  if (this.props.interactiveLayerIds) {\n    queryParams.layers = this.props.interactiveLayerIds;\n  }\n  try {\n    return map.queryRenderedFeatures(size ? [[pos[0] - size, pos[1] + size], [pos[0] + size, pos[1] - size]] : pos, queryParams);\n  } catch (_unused) {\n    return null;\n  }\n}\nfunction onEvent(callbackName, event) {\n  var func = this.props[callbackName];\n  if (func) {\n    func(normalizeEvent.call(this, event));\n  }\n}\nfunction onPointerDown(event) {\n  onEvent.call(this, event.pointerType === 'touch' ? 'onTouchStart' : 'onMouseDown', event);\n}\nfunction onPointerUp(event) {\n  onEvent.call(this, event.pointerType === 'touch' ? 'onTouchEnd' : 'onMouseUp', event);\n}\nfunction onPointerMove(event) {\n  onEvent.call(this, event.pointerType === 'touch' ? 'onTouchMove' : 'onMouseMove', event);\n  if (!this.state.isDragging) {\n    var _this$props = this.props,\n      onHover = _this$props.onHover,\n      interactiveLayerIds = _this$props.interactiveLayerIds;\n    var features;\n    event = normalizeEvent.call(this, event);\n    if (interactiveLayerIds || onHover) {\n      features = getFeatures.call(this, event.point);\n    }\n    var isHovering = Boolean(interactiveLayerIds && features && features.length > 0);\n    var isEntering = isHovering && !this.state.isHovering;\n    var isExiting = !isHovering && this.state.isHovering;\n    if (onHover || isEntering) {\n      event.features = features;\n      if (onHover) {\n        onHover(event);\n      }\n    }\n    if (isEntering) {\n      onEvent.call(this, 'onMouseEnter', event);\n    }\n    if (isExiting) {\n      onEvent.call(this, 'onMouseLeave', event);\n    }\n    if (isEntering || isExiting) {\n      this.setState({\n        isHovering: isHovering\n      });\n    }\n  }\n}\nfunction onPointerClick(event) {\n  var _this$props2 = this.props,\n    onClick = _this$props2.onClick,\n    onNativeClick = _this$props2.onNativeClick,\n    onDblClick = _this$props2.onDblClick,\n    doubleClickZoom = _this$props2.doubleClickZoom;\n  var callbacks = [];\n  var isDoubleClickEnabled = onDblClick || doubleClickZoom;\n  switch (event.type) {\n    case 'anyclick':\n      callbacks.push(onNativeClick);\n      if (!isDoubleClickEnabled) {\n        callbacks.push(onClick);\n      }\n      break;\n    case 'click':\n      if (isDoubleClickEnabled) {\n        callbacks.push(onClick);\n      }\n      break;\n    default:\n  }\n  callbacks = callbacks.filter(Boolean);\n  if (callbacks.length) {\n    event = normalizeEvent.call(this, event);\n    event.features = getFeatures.call(this, event.point);\n    callbacks.forEach(function (cb) {\n      return cb(event);\n    });\n  }\n}\nfunction getRefHandles(staticMapRef) {\n  return {\n    getMap: staticMapRef.current && staticMapRef.current.getMap,\n    queryRenderedFeatures: staticMapRef.current && staticMapRef.current.queryRenderedFeatures\n  };\n}\nvar InteractiveMap = forwardRef(function (props, ref) {\n  var parentContext = useContext(MapContext);\n  var controller = useMemo(function () {\n    return props.controller || new MapController();\n  }, []);\n  var eventManager = useMemo(function () {\n    return new EventManager(null, {\n      touchAction: props.touchAction,\n      recognizerOptions: props.eventRecognizerOptions\n    });\n  }, []);\n  var eventCanvasRef = useRef(null);\n  var staticMapRef = useRef(null);\n  var _thisRef = useRef({\n    width: 0,\n    height: 0,\n    state: {\n      isHovering: false,\n      isDragging: false\n    }\n  });\n  var thisRef = _thisRef.current;\n  thisRef.props = props;\n  thisRef.map = staticMapRef.current && staticMapRef.current.getMap();\n  thisRef.setState = function (newState) {\n    thisRef.state = _objectSpread(_objectSpread({}, thisRef.state), newState);\n    eventCanvasRef.current.style.cursor = props.getCursor(thisRef.state);\n  };\n  var inRender = true;\n  var viewportUpdateRequested;\n  var stateUpdateRequested;\n  var handleViewportChange = function handleViewportChange(viewState, interactionState, oldViewState) {\n    if (inRender) {\n      viewportUpdateRequested = [viewState, interactionState, oldViewState];\n      return;\n    }\n    var _thisRef$props = thisRef.props,\n      onViewStateChange = _thisRef$props.onViewStateChange,\n      onViewportChange = _thisRef$props.onViewportChange;\n    if (onViewStateChange) {\n      onViewStateChange({\n        viewState: viewState,\n        interactionState: interactionState,\n        oldViewState: oldViewState\n      });\n    }\n    if (onViewportChange) {\n      onViewportChange(viewState, interactionState, oldViewState);\n    }\n  };\n  useImperativeHandle(ref, function () {\n    return getRefHandles(staticMapRef);\n  }, []);\n  var context = useMemo(function () {\n    return _objectSpread(_objectSpread({}, parentContext), {}, {\n      eventManager: eventManager,\n      container: parentContext.container || eventCanvasRef.current\n    });\n  }, [parentContext, eventCanvasRef.current]);\n  context.onViewportChange = handleViewportChange;\n  context.viewport = parentContext.viewport || getViewport(thisRef);\n  thisRef.viewport = context.viewport;\n  var handleInteractionStateChange = function handleInteractionStateChange(interactionState) {\n    var _interactionState$isD = interactionState.isDragging,\n      isDragging = _interactionState$isD === void 0 ? false : _interactionState$isD;\n    if (isDragging !== thisRef.state.isDragging) {\n      thisRef.setState({\n        isDragging: isDragging\n      });\n    }\n    if (inRender) {\n      stateUpdateRequested = interactionState;\n      return;\n    }\n    var onInteractionStateChange = thisRef.props.onInteractionStateChange;\n    if (onInteractionStateChange) {\n      onInteractionStateChange(interactionState);\n    }\n  };\n  var updateControllerOpts = function updateControllerOpts() {\n    if (thisRef.width && thisRef.height) {\n      controller.setOptions(_objectSpread(_objectSpread(_objectSpread({}, thisRef.props), thisRef.props.viewState), {}, {\n        isInteractive: Boolean(thisRef.props.onViewStateChange || thisRef.props.onViewportChange),\n        onViewportChange: handleViewportChange,\n        onStateChange: handleInteractionStateChange,\n        eventManager: eventManager,\n        width: thisRef.width,\n        height: thisRef.height\n      }));\n    }\n  };\n  var onResize = function onResize(_ref2) {\n    var width = _ref2.width,\n      height = _ref2.height;\n    thisRef.width = width;\n    thisRef.height = height;\n    updateControllerOpts();\n    thisRef.props.onResize({\n      width: width,\n      height: height\n    });\n  };\n  useEffect(function () {\n    eventManager.setElement(eventCanvasRef.current);\n    eventManager.on({\n      pointerdown: onPointerDown.bind(thisRef),\n      pointermove: onPointerMove.bind(thisRef),\n      pointerup: onPointerUp.bind(thisRef),\n      pointerleave: onEvent.bind(thisRef, 'onMouseOut'),\n      click: onPointerClick.bind(thisRef),\n      anyclick: onPointerClick.bind(thisRef),\n      dblclick: onEvent.bind(thisRef, 'onDblClick'),\n      wheel: onEvent.bind(thisRef, 'onWheel'),\n      contextmenu: onEvent.bind(thisRef, 'onContextMenu')\n    });\n    return function () {\n      eventManager.destroy();\n    };\n  }, []);\n  useIsomorphicLayoutEffect(function () {\n    if (viewportUpdateRequested) {\n      handleViewportChange.apply(void 0, _toConsumableArray(viewportUpdateRequested));\n    }\n    if (stateUpdateRequested) {\n      handleInteractionStateChange(stateUpdateRequested);\n    }\n  });\n  updateControllerOpts();\n  var width = props.width,\n    height = props.height,\n    style = props.style,\n    getCursor = props.getCursor;\n  var eventCanvasStyle = useMemo(function () {\n    return _objectSpread(_objectSpread({\n      position: 'relative'\n    }, style), {}, {\n      width: width,\n      height: height,\n      cursor: getCursor(thisRef.state)\n    });\n  }, [style, width, height, getCursor, thisRef.state]);\n  if (!viewportUpdateRequested || !thisRef._child) {\n    thisRef._child = React.createElement(MapContextProvider, {\n      value: context\n    }, React.createElement(\"div\", {\n      key: \"event-canvas\",\n      ref: eventCanvasRef,\n      style: eventCanvasStyle\n    }, React.createElement(StaticMap, _extends({}, props, {\n      width: \"100%\",\n      height: \"100%\",\n      style: null,\n      onResize: onResize,\n      ref: staticMapRef\n    }))));\n  }\n  inRender = false;\n  return thisRef._child;\n});\nInteractiveMap.supported = StaticMap.supported;\nInteractiveMap.propTypes = propTypes;\nInteractiveMap.defaultProps = defaultProps;\nexport default InteractiveMap;","import _typeof from \"@babel/runtime/helpers/esm/typeof\";\nexport default function deepEqual(a, b) {\n  if (a === b) {\n    return true;\n  }\n  if (!a || !b) {\n    return false;\n  }\n  if (Array.isArray(a)) {\n    if (!Array.isArray(b) || a.length !== b.length) {\n      return false;\n    }\n    for (var i = 0; i < a.length; i++) {\n      if (!deepEqual(a[i], b[i])) {\n        return false;\n      }\n    }\n    return true;\n  } else if (Array.isArray(b)) {\n    return false;\n  }\n  if (_typeof(a) === 'object' && _typeof(b) === 'object') {\n    var aKeys = Object.keys(a);\n    var bKeys = Object.keys(b);\n    if (aKeys.length !== bKeys.length) {\n      return false;\n    }\n    for (var _i = 0, _aKeys = aKeys; _i < _aKeys.length; _i++) {\n      var key = _aKeys[_i];\n      if (!b.hasOwnProperty(key)) {\n        return false;\n      }\n      if (!deepEqual(a[key], b[key])) {\n        return false;\n      }\n    }\n    return true;\n  }\n  return false;\n}","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n  return target;\n}\nimport * as React from 'react';\nimport { useContext, useEffect, useMemo, useState, useRef } from 'react';\nimport { cloneElement } from 'react';\nimport MapContext from './map-context';\nimport assert from '../utils/assert';\nimport deepEqual from '../utils/deep-equal';\nvar sourceCounter = 0;\nfunction createSource(map, id, props) {\n  if (map.style && map.style._loaded) {\n    var options = _objectSpread({}, props);\n    delete options.id;\n    delete options.children;\n    map.addSource(id, options);\n    return map.getSource(id);\n  }\n  return null;\n}\nfunction updateSource(source, props, prevProps) {\n  assert(props.id === prevProps.id, 'source id changed');\n  assert(props.type === prevProps.type, 'source type changed');\n  var changedKey = '';\n  var changedKeyCount = 0;\n  for (var key in props) {\n    if (key !== 'children' && key !== 'id' && !deepEqual(prevProps[key], props[key])) {\n      changedKey = key;\n      changedKeyCount++;\n    }\n  }\n  if (!changedKeyCount) {\n    return;\n  }\n  var type = props.type;\n  if (type === 'geojson') {\n    source.setData(props.data);\n  } else if (type === 'image') {\n    source.updateImage({\n      url: props.url,\n      coordinates: props.coordinates\n    });\n  } else if ((type === 'canvas' || type === 'video') && changedKeyCount === 1 && changedKey === 'coordinates') {\n    source.setCoordinates(props.coordinates);\n  } else if (type === 'vector' && source.setUrl) {\n    switch (changedKey) {\n      case 'url':\n        source.setUrl(props.url);\n        break;\n      case 'tiles':\n        source.setTiles(props.tiles);\n        break;\n      default:\n    }\n  } else {\n    console.warn(\"Unable to update <Source> prop: \".concat(changedKey));\n  }\n}\nfunction Source(props) {\n  var context = useContext(MapContext);\n  var propsRef = useRef({\n    id: props.id,\n    type: props.type\n  });\n  var _useState = useState(0),\n    _useState2 = _slicedToArray(_useState, 2),\n    setStyleLoaded = _useState2[1];\n  var id = useMemo(function () {\n    return props.id || \"jsx-source-\".concat(sourceCounter++);\n  }, []);\n  var map = context.map;\n  useEffect(function () {\n    if (map) {\n      var forceUpdate = function forceUpdate() {\n        return setStyleLoaded(function (version) {\n          return version + 1;\n        });\n      };\n      map.on('styledata', forceUpdate);\n      return function () {\n        map.off('styledata', forceUpdate);\n        requestAnimationFrame(function () {\n          if (map.style && map.style._loaded && map.getSource(id)) {\n            map.removeSource(id);\n          }\n        });\n      };\n    }\n    return undefined;\n  }, [map, id]);\n  var source = map && map.style && map.getSource(id);\n  if (source) {\n    updateSource(source, props, propsRef.current);\n  } else {\n    source = createSource(map, id, props);\n  }\n  propsRef.current = props;\n  return source && React.Children.map(props.children, function (child) {\n    return child && cloneElement(child, {\n      source: id\n    });\n  }) || null;\n}\nexport default Source;","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n  return target;\n}\nimport { useContext, useEffect, useMemo, useState, useRef } from 'react';\nimport * as PropTypes from 'prop-types';\nimport MapContext from './map-context';\nimport assert from '../utils/assert';\nimport deepEqual from '../utils/deep-equal';\nvar LAYER_TYPES = ['fill', 'line', 'symbol', 'circle', 'fill-extrusion', 'raster', 'background', 'heatmap', 'hillshade'];\nvar propTypes = {\n  type: PropTypes.oneOf(LAYER_TYPES).isRequired,\n  id: PropTypes.string,\n  source: PropTypes.string,\n  beforeId: PropTypes.string\n};\nfunction diffLayerStyles(map, id, props, prevProps) {\n  var _props$layout = props.layout,\n    layout = _props$layout === void 0 ? {} : _props$layout,\n    _props$paint = props.paint,\n    paint = _props$paint === void 0 ? {} : _props$paint,\n    filter = props.filter,\n    minzoom = props.minzoom,\n    maxzoom = props.maxzoom,\n    beforeId = props.beforeId,\n    otherProps = _objectWithoutProperties(props, [\"layout\", \"paint\", \"filter\", \"minzoom\", \"maxzoom\", \"beforeId\"]);\n  if (beforeId !== prevProps.beforeId) {\n    map.moveLayer(id, beforeId);\n  }\n  if (layout !== prevProps.layout) {\n    var prevLayout = prevProps.layout || {};\n    for (var key in layout) {\n      if (!deepEqual(layout[key], prevLayout[key])) {\n        map.setLayoutProperty(id, key, layout[key]);\n      }\n    }\n    for (var _key in prevLayout) {\n      if (!layout.hasOwnProperty(_key)) {\n        map.setLayoutProperty(id, _key, undefined);\n      }\n    }\n  }\n  if (paint !== prevProps.paint) {\n    var prevPaint = prevProps.paint || {};\n    for (var _key2 in paint) {\n      if (!deepEqual(paint[_key2], prevPaint[_key2])) {\n        map.setPaintProperty(id, _key2, paint[_key2]);\n      }\n    }\n    for (var _key3 in prevPaint) {\n      if (!paint.hasOwnProperty(_key3)) {\n        map.setPaintProperty(id, _key3, undefined);\n      }\n    }\n  }\n  if (!deepEqual(filter, prevProps.filter)) {\n    map.setFilter(id, filter);\n  }\n  if (minzoom !== prevProps.minzoom || maxzoom !== prevProps.maxzoom) {\n    map.setLayerZoomRange(id, minzoom, maxzoom);\n  }\n  for (var _key4 in otherProps) {\n    if (!deepEqual(otherProps[_key4], prevProps[_key4])) {\n      map.setLayerProperty(id, _key4, otherProps[_key4]);\n    }\n  }\n}\nfunction createLayer(map, id, props) {\n  if (map.style && map.style._loaded) {\n    var options = _objectSpread(_objectSpread({}, props), {}, {\n      id: id\n    });\n    delete options.beforeId;\n    map.addLayer(options, props.beforeId);\n  }\n}\nfunction updateLayer(map, id, props, prevProps) {\n  assert(props.id === prevProps.id, 'layer id changed');\n  assert(props.type === prevProps.type, 'layer type changed');\n  try {\n    diffLayerStyles(map, id, props, prevProps);\n  } catch (error) {\n    console.warn(error);\n  }\n}\nvar layerCounter = 0;\nfunction Layer(props) {\n  var context = useContext(MapContext);\n  var propsRef = useRef({\n    id: props.id,\n    type: props.type\n  });\n  var _useState = useState(0),\n    _useState2 = _slicedToArray(_useState, 2),\n    setStyleLoaded = _useState2[1];\n  var id = useMemo(function () {\n    return props.id || \"jsx-layer-\".concat(layerCounter++);\n  }, []);\n  var map = context.map;\n  useEffect(function () {\n    if (map) {\n      var forceUpdate = function forceUpdate() {\n        return setStyleLoaded(function (version) {\n          return version + 1;\n        });\n      };\n      map.on('styledata', forceUpdate);\n      return function () {\n        map.off('styledata', forceUpdate);\n        if (map.style && map.style._loaded) {\n          map.removeLayer(id);\n        }\n      };\n    }\n    return undefined;\n  }, [map]);\n  var layer = map && map.style && map.getLayer(id);\n  if (layer) {\n    updateLayer(map, id, props, propsRef.current);\n  } else {\n    createLayer(map, id, props);\n  }\n  propsRef.current = props;\n  return null;\n}\nLayer.propTypes = propTypes;\nexport default Layer;","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose.js\";\nfunction _objectWithoutProperties(e, t) {\n  if (null == e) return {};\n  var o,\n    r,\n    i = objectWithoutPropertiesLoose(e, t);\n  if (Object.getOwnPropertySymbols) {\n    var s = Object.getOwnPropertySymbols(e);\n    for (r = 0; r < s.length; r++) o = s[r], t.includes(o) || {}.propertyIsEnumerable.call(e, o) && (i[o] = e[o]);\n  }\n  return i;\n}\nexport { _objectWithoutProperties as default };","function _objectWithoutPropertiesLoose(r, e) {\n  if (null == r) return {};\n  var t = {};\n  for (var n in r) if ({}.hasOwnProperty.call(r, n)) {\n    if (e.includes(n)) continue;\n    t[n] = r[n];\n  }\n  return t;\n}\nexport { _objectWithoutPropertiesLoose as default };","import { useContext, useRef, useEffect } from 'react';\nimport * as PropTypes from 'prop-types';\nimport MapContext from './map-context';\nexport var mapControlDefaultProps = {\n  captureScroll: false,\n  captureDrag: true,\n  captureClick: true,\n  captureDoubleClick: true,\n  capturePointerMove: false\n};\nexport var mapControlPropTypes = {\n  captureScroll: PropTypes.bool,\n  captureDrag: PropTypes.bool,\n  captureClick: PropTypes.bool,\n  captureDoubleClick: PropTypes.bool,\n  capturePointerMove: PropTypes.bool\n};\nfunction onMount(thisRef) {\n  var ref = thisRef.containerRef.current;\n  var eventManager = thisRef.context.eventManager;\n  if (!ref || !eventManager) {\n    return undefined;\n  }\n  var events = {\n    wheel: function wheel(evt) {\n      var props = thisRef.props;\n      if (props.captureScroll) {\n        evt.stopPropagation();\n      }\n      if (props.onScroll) {\n        props.onScroll(evt, thisRef);\n      }\n    },\n    panstart: function panstart(evt) {\n      var props = thisRef.props;\n      if (props.captureDrag) {\n        evt.stopPropagation();\n      }\n      if (props.onDragStart) {\n        props.onDragStart(evt, thisRef);\n      }\n    },\n    anyclick: function anyclick(evt) {\n      var props = thisRef.props;\n      if (props.captureClick) {\n        evt.stopPropagation();\n      }\n      if (props.onClick) {\n        props.onClick(evt, thisRef);\n      }\n    },\n    click: function click(evt) {\n      var props = thisRef.props;\n      if (props.captureClick) {\n        evt.stopPropagation();\n      }\n      if (props.onClick) {\n        props.onClick(evt, thisRef);\n      }\n    },\n    dblclick: function dblclick(evt) {\n      var props = thisRef.props;\n      if (props.captureDoubleClick) {\n        evt.stopPropagation();\n      }\n      if (props.onDoubleClick) {\n        props.onDoubleClick(evt, thisRef);\n      }\n    },\n    pointermove: function pointermove(evt) {\n      var props = thisRef.props;\n      if (props.capturePointerMove) {\n        evt.stopPropagation();\n      }\n      if (props.onPointerMove) {\n        props.onPointerMove(evt, thisRef);\n      }\n    }\n  };\n  eventManager.watch(events, ref);\n  return function () {\n    eventManager.off(events);\n  };\n}\nexport default function useMapControl() {\n  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var context = useContext(MapContext);\n  var containerRef = useRef(null);\n  var _thisRef = useRef({\n    props: props,\n    state: {},\n    context: context,\n    containerRef: containerRef\n  });\n  var thisRef = _thisRef.current;\n  thisRef.props = props;\n  thisRef.context = context;\n  useEffect(function () {\n    return onMount(thisRef);\n  }, [context.eventManager]);\n  return thisRef;\n}","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n  return function _createSuperInternal() {\n    var Super = _getPrototypeOf(Derived),\n      result;\n    if (hasNativeReflectConstruct) {\n      var NewTarget = _getPrototypeOf(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n    return _possibleConstructorReturn(this, result);\n  };\n}\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\nimport * as React from 'react';\nimport { PureComponent, createRef } from 'react';\nimport useMapControl, { mapControlDefaultProps, mapControlPropTypes } from './use-map-control';\nfunction Control(props) {\n  var instance = props.instance;\n  var _useMapControl = useMapControl(props),\n    context = _useMapControl.context,\n    containerRef = _useMapControl.containerRef;\n  instance._context = context;\n  instance._containerRef = containerRef;\n  return instance._render();\n}\nvar BaseControl = function (_PureComponent) {\n  _inherits(BaseControl, _PureComponent);\n  var _super = _createSuper(BaseControl);\n  function BaseControl() {\n    var _this;\n    _classCallCheck(this, BaseControl);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _super.call.apply(_super, [this].concat(args));\n    _defineProperty(_assertThisInitialized(_this), \"_context\", {});\n    _defineProperty(_assertThisInitialized(_this), \"_containerRef\", createRef());\n    _defineProperty(_assertThisInitialized(_this), \"_onScroll\", function (evt) {});\n    _defineProperty(_assertThisInitialized(_this), \"_onDragStart\", function (evt) {});\n    _defineProperty(_assertThisInitialized(_this), \"_onDblClick\", function (evt) {});\n    _defineProperty(_assertThisInitialized(_this), \"_onClick\", function (evt) {});\n    _defineProperty(_assertThisInitialized(_this), \"_onPointerMove\", function (evt) {});\n    return _this;\n  }\n  _createClass(BaseControl, [{\n    key: \"_render\",\n    value: function _render() {\n      throw new Error('_render() not implemented');\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Control, _extends({\n        instance: this\n      }, this.props, {\n        onScroll: this._onScroll,\n        onDragStart: this._onDragStart,\n        onDblClick: this._onDblClick,\n        onClick: this._onClick,\n        onPointerMove: this._onPointerMove\n      }));\n    }\n  }]);\n  return BaseControl;\n}(PureComponent);\n_defineProperty(BaseControl, \"propTypes\", mapControlPropTypes);\n_defineProperty(BaseControl, \"defaultProps\", mapControlDefaultProps);\nexport { BaseControl as default };","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n  return target;\n}\nimport * as PropTypes from 'prop-types';\nimport { useState, useEffect } from 'react';\nimport useMapControl, { mapControlDefaultProps, mapControlPropTypes } from './use-map-control';\nexport var draggableControlPropTypes = Object.assign({}, mapControlPropTypes, {\n  draggable: PropTypes.bool,\n  onDrag: PropTypes.func,\n  onDragEnd: PropTypes.func,\n  onDragStart: PropTypes.func,\n  offsetLeft: PropTypes.number,\n  offsetTop: PropTypes.number\n});\nexport var draggableControlDefaultProps = Object.assign({}, mapControlDefaultProps, {\n  draggable: false,\n  offsetLeft: 0,\n  offsetTop: 0\n});\nfunction getDragEventPosition(event) {\n  var _event$offsetCenter = event.offsetCenter,\n    x = _event$offsetCenter.x,\n    y = _event$offsetCenter.y;\n  return [x, y];\n}\nfunction getDragEventOffset(event, container) {\n  var _event$center = event.center,\n    x = _event$center.x,\n    y = _event$center.y;\n  if (container) {\n    var rect = container.getBoundingClientRect();\n    return [rect.left - x, rect.top - y];\n  }\n  return null;\n}\nfunction getDragLngLat(dragPos, dragOffset, props, context) {\n  var x = dragPos[0] + dragOffset[0] - props.offsetLeft;\n  var y = dragPos[1] + dragOffset[1] - props.offsetTop;\n  return context.viewport.unproject([x, y]);\n}\nfunction onDragStart(event, _ref) {\n  var props = _ref.props,\n    callbacks = _ref.callbacks,\n    state = _ref.state,\n    context = _ref.context,\n    containerRef = _ref.containerRef;\n  var draggable = props.draggable;\n  if (!draggable) {\n    return;\n  }\n  event.stopPropagation();\n  var dragPos = getDragEventPosition(event);\n  var dragOffset = getDragEventOffset(event, containerRef.current);\n  state.setDragPos(dragPos);\n  state.setDragOffset(dragOffset);\n  if (callbacks.onDragStart && dragOffset) {\n    var callbackEvent = Object.assign({}, event);\n    callbackEvent.lngLat = getDragLngLat(dragPos, dragOffset, props, context);\n    callbacks.onDragStart(callbackEvent);\n  }\n}\nfunction onDrag(event, _ref2) {\n  var props = _ref2.props,\n    callbacks = _ref2.callbacks,\n    state = _ref2.state,\n    context = _ref2.context;\n  event.stopPropagation();\n  var dragPos = getDragEventPosition(event);\n  state.setDragPos(dragPos);\n  var dragOffset = state.dragOffset;\n  if (callbacks.onDrag && dragOffset) {\n    var callbackEvent = Object.assign({}, event);\n    callbackEvent.lngLat = getDragLngLat(dragPos, dragOffset, props, context);\n    callbacks.onDrag(callbackEvent);\n  }\n}\nfunction onDragEnd(event, _ref3) {\n  var props = _ref3.props,\n    callbacks = _ref3.callbacks,\n    state = _ref3.state,\n    context = _ref3.context;\n  event.stopPropagation();\n  var dragPos = state.dragPos,\n    dragOffset = state.dragOffset;\n  state.setDragPos(null);\n  state.setDragOffset(null);\n  if (callbacks.onDragEnd && dragPos && dragOffset) {\n    var callbackEvent = Object.assign({}, event);\n    callbackEvent.lngLat = getDragLngLat(dragPos, dragOffset, props, context);\n    callbacks.onDragEnd(callbackEvent);\n  }\n}\nfunction onDragCancel(event, _ref4) {\n  var state = _ref4.state;\n  event.stopPropagation();\n  state.setDragPos(null);\n  state.setDragOffset(null);\n}\nfunction registerEvents(thisRef) {\n  var eventManager = thisRef.context.eventManager;\n  if (!eventManager || !thisRef.state.dragPos) {\n    return undefined;\n  }\n  var events = {\n    panmove: function panmove(evt) {\n      return onDrag(evt, thisRef);\n    },\n    panend: function panend(evt) {\n      return onDragEnd(evt, thisRef);\n    },\n    pancancel: function pancancel(evt) {\n      return onDragCancel(evt, thisRef);\n    }\n  };\n  eventManager.watch(events);\n  return function () {\n    eventManager.off(events);\n  };\n}\nexport default function useDraggableControl(props) {\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    dragPos = _useState2[0],\n    setDragPos = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    dragOffset = _useState4[0],\n    setDragOffset = _useState4[1];\n  var thisRef = useMapControl(_objectSpread(_objectSpread({}, props), {}, {\n    onDragStart: onDragStart\n  }));\n  thisRef.callbacks = props;\n  thisRef.state.dragPos = dragPos;\n  thisRef.state.setDragPos = setDragPos;\n  thisRef.state.dragOffset = dragOffset;\n  thisRef.state.setDragOffset = setDragOffset;\n  useEffect(function () {\n    return registerEvents(thisRef);\n  }, [thisRef.context.eventManager, Boolean(dragPos)]);\n  return thisRef;\n}","var pixelRatio = typeof window !== 'undefined' && window.devicePixelRatio || 1;\nexport var crispPixel = function crispPixel(size) {\n  return Math.round(size * pixelRatio) / pixelRatio;\n};\nexport var crispPercentage = function crispPercentage(el, percentage) {\n  var dimension = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'x';\n  if (el === null) {\n    return percentage;\n  }\n  var origSize = dimension === 'x' ? el.offsetWidth : el.offsetHeight;\n  return crispPixel(percentage / 100 * origSize) / origSize * 100;\n};","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport { useMemo } from 'react';\nimport useDraggableControl, { draggableControlDefaultProps, draggableControlPropTypes } from './draggable-control';\nimport { crispPixel } from '../utils/crisp-pixel';\nvar defaultProps = Object.assign({}, draggableControlDefaultProps, {\n  className: ''\n});\nfunction getPosition(_ref) {\n  var props = _ref.props,\n    state = _ref.state,\n    context = _ref.context;\n  var longitude = props.longitude,\n    latitude = props.latitude,\n    offsetLeft = props.offsetLeft,\n    offsetTop = props.offsetTop;\n  var dragPos = state.dragPos,\n    dragOffset = state.dragOffset;\n  if (dragPos && dragOffset) {\n    return [dragPos[0] + dragOffset[0], dragPos[1] + dragOffset[1]];\n  }\n  var _context$viewport$pro = context.viewport.project([longitude, latitude]),\n    _context$viewport$pro2 = _slicedToArray(_context$viewport$pro, 2),\n    x = _context$viewport$pro2[0],\n    y = _context$viewport$pro2[1];\n  x += offsetLeft;\n  y += offsetTop;\n  return [x, y];\n}\nfunction Marker(props) {\n  var thisRef = useDraggableControl(props);\n  var state = thisRef.state,\n    containerRef = thisRef.containerRef;\n  var children = props.children,\n    className = props.className,\n    draggable = props.draggable;\n  var dragPos = state.dragPos;\n  var _getPosition = getPosition(thisRef),\n    _getPosition2 = _slicedToArray(_getPosition, 2),\n    x = _getPosition2[0],\n    y = _getPosition2[1];\n  var transform = \"translate(\".concat(crispPixel(x), \"px, \").concat(crispPixel(y), \"px)\");\n  var cursor = draggable ? dragPos ? 'grabbing' : 'grab' : 'auto';\n  var control = useMemo(function () {\n    var containerStyle = {\n      position: 'absolute',\n      left: 0,\n      top: 0,\n      transform: transform,\n      cursor: cursor\n    };\n    return React.createElement(\"div\", {\n      className: \"mapboxgl-marker \".concat(className),\n      ref: thisRef.containerRef,\n      style: containerStyle\n    }, children);\n  }, [children, className]);\n  var container = containerRef.current;\n  if (container) {\n    container.style.transform = transform;\n    container.style.cursor = cursor;\n  }\n  return control;\n}\nMarker.defaultProps = defaultProps;\nexport default React.memo(Marker);","export var ANCHOR_POSITION = {\n  top: {\n    x: 0.5,\n    y: 0\n  },\n  'top-left': {\n    x: 0,\n    y: 0\n  },\n  'top-right': {\n    x: 1,\n    y: 0\n  },\n  bottom: {\n    x: 0.5,\n    y: 1\n  },\n  'bottom-left': {\n    x: 0,\n    y: 1\n  },\n  'bottom-right': {\n    x: 1,\n    y: 1\n  },\n  left: {\n    x: 0,\n    y: 0.5\n  },\n  right: {\n    x: 1,\n    y: 0.5\n  }\n};\nvar ANCHOR_TYPES = Object.keys(ANCHOR_POSITION);\nexport function getDynamicPosition(_ref) {\n  var x = _ref.x,\n    y = _ref.y,\n    width = _ref.width,\n    height = _ref.height,\n    selfWidth = _ref.selfWidth,\n    selfHeight = _ref.selfHeight,\n    anchor = _ref.anchor,\n    _ref$padding = _ref.padding,\n    padding = _ref$padding === void 0 ? 0 : _ref$padding;\n  var _ANCHOR_POSITION$anch = ANCHOR_POSITION[anchor],\n    anchorX = _ANCHOR_POSITION$anch.x,\n    anchorY = _ANCHOR_POSITION$anch.y;\n  var top = y - anchorY * selfHeight;\n  var bottom = top + selfHeight;\n  var cutoffY = Math.max(0, padding - top) + Math.max(0, bottom - height + padding);\n  if (cutoffY > 0) {\n    var bestAnchorY = anchorY;\n    var minCutoff = cutoffY;\n    for (anchorY = 0; anchorY <= 1; anchorY += 0.5) {\n      top = y - anchorY * selfHeight;\n      bottom = top + selfHeight;\n      cutoffY = Math.max(0, padding - top) + Math.max(0, bottom - height + padding);\n      if (cutoffY < minCutoff) {\n        minCutoff = cutoffY;\n        bestAnchorY = anchorY;\n      }\n    }\n    anchorY = bestAnchorY;\n  }\n  var xStep = 0.5;\n  if (anchorY === 0.5) {\n    anchorX = Math.floor(anchorX);\n    xStep = 1;\n  }\n  var left = x - anchorX * selfWidth;\n  var right = left + selfWidth;\n  var cutoffX = Math.max(0, padding - left) + Math.max(0, right - width + padding);\n  if (cutoffX > 0) {\n    var bestAnchorX = anchorX;\n    var _minCutoff = cutoffX;\n    for (anchorX = 0; anchorX <= 1; anchorX += xStep) {\n      left = x - anchorX * selfWidth;\n      right = left + selfWidth;\n      cutoffX = Math.max(0, padding - left) + Math.max(0, right - width + padding);\n      if (cutoffX < _minCutoff) {\n        _minCutoff = cutoffX;\n        bestAnchorX = anchorX;\n      }\n    }\n    anchorX = bestAnchorX;\n  }\n  return ANCHOR_TYPES.find(function (positionType) {\n    var anchorPosition = ANCHOR_POSITION[positionType];\n    return anchorPosition.x === anchorX && anchorPosition.y === anchorY;\n  }) || anchor;\n}","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n  return target;\n}\nimport * as React from 'react';\nimport { useRef, useState, useEffect, useCallback } from 'react';\nimport useMapControl, { mapControlDefaultProps, mapControlPropTypes } from './use-map-control';\nimport { getDynamicPosition, ANCHOR_POSITION } from '../utils/dynamic-position';\nimport { crispPercentage, crispPixel } from '../utils/crisp-pixel';\nvar defaultProps = Object.assign({}, mapControlDefaultProps, {\n  className: '',\n  altitude: 0,\n  offsetLeft: 0,\n  offsetTop: 0,\n  tipSize: 10,\n  anchor: 'bottom',\n  dynamicPosition: true,\n  sortByDepth: false,\n  closeButton: true,\n  closeOnClick: true,\n  onClose: function onClose() {}\n});\nfunction getPosition(props, viewport, el, _ref) {\n  var _ref2 = _slicedToArray(_ref, 2),\n    x = _ref2[0],\n    y = _ref2[1];\n  var anchor = props.anchor,\n    dynamicPosition = props.dynamicPosition,\n    tipSize = props.tipSize;\n  if (el) {\n    return dynamicPosition ? getDynamicPosition({\n      x: x,\n      y: y,\n      anchor: anchor,\n      padding: tipSize,\n      width: viewport.width,\n      height: viewport.height,\n      selfWidth: el.clientWidth,\n      selfHeight: el.clientHeight\n    }) : anchor;\n  }\n  return anchor;\n}\nfunction getContainerStyle(props, viewport, el, _ref3, positionType) {\n  var _ref4 = _slicedToArray(_ref3, 3),\n    x = _ref4[0],\n    y = _ref4[1],\n    z = _ref4[2];\n  var offsetLeft = props.offsetLeft,\n    offsetTop = props.offsetTop,\n    sortByDepth = props.sortByDepth;\n  var anchorPosition = ANCHOR_POSITION[positionType];\n  var left = x + offsetLeft;\n  var top = y + offsetTop;\n  var xPercentage = crispPercentage(el, -anchorPosition.x * 100);\n  var yPercentage = crispPercentage(el, -anchorPosition.y * 100, 'y');\n  var style = {\n    position: 'absolute',\n    transform: \"\\n      translate(\".concat(xPercentage, \"%, \").concat(yPercentage, \"%)\\n      translate(\").concat(crispPixel(left), \"px, \").concat(crispPixel(top), \"px)\\n    \"),\n    display: undefined,\n    zIndex: undefined\n  };\n  if (!sortByDepth) {\n    return style;\n  }\n  if (z > 1 || z < -1 || x < 0 || x > viewport.width || y < 0 || y > viewport.height) {\n    style.display = 'none';\n  } else {\n    style.zIndex = Math.floor((1 - z) / 2 * 100000);\n  }\n  return style;\n}\nfunction onClick(evt, _ref5) {\n  var props = _ref5.props,\n    context = _ref5.context;\n  if (props.closeOnClick || evt.target.className === 'mapboxgl-popup-close-button') {\n    props.onClose();\n    if (context.eventManager) {\n      context.eventManager.once('click', function (e) {\n        return e.stopPropagation();\n      }, evt.target);\n    }\n  }\n}\nfunction Popup(props) {\n  var contentRef = useRef(null);\n  var thisRef = useMapControl(_objectSpread(_objectSpread({}, props), {}, {\n    onClick: onClick\n  }));\n  var context = thisRef.context,\n    containerRef = thisRef.containerRef;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    setLoaded = _useState2[1];\n  useEffect(function () {\n    setLoaded(true);\n  }, [contentRef.current]);\n  var viewport = context.viewport;\n  var className = props.className,\n    longitude = props.longitude,\n    latitude = props.latitude,\n    altitude = props.altitude,\n    tipSize = props.tipSize,\n    closeButton = props.closeButton,\n    children = props.children;\n  var position = viewport.project([longitude, latitude, altitude]);\n  var positionType = getPosition(props, viewport, contentRef.current, position);\n  var containerStyle = getContainerStyle(props, viewport, containerRef.current, position, positionType);\n  var onReactClick = useCallback(function (e) {\n    return !context.eventManager && onClick(e, thisRef);\n  }, [context.eventManager]);\n  return React.createElement(\"div\", {\n    className: \"mapboxgl-popup mapboxgl-popup-anchor-\".concat(positionType, \" \").concat(className),\n    style: containerStyle,\n    ref: containerRef\n  }, React.createElement(\"div\", {\n    key: \"tip\",\n    className: \"mapboxgl-popup-tip\",\n    style: {\n      borderWidth: tipSize\n    }\n  }), React.createElement(\"div\", {\n    key: \"content\",\n    ref: contentRef,\n    className: \"mapboxgl-popup-content\",\n    onClick: onReactClick\n  }, closeButton && React.createElement(\"button\", {\n    key: \"close-button\",\n    className: \"mapboxgl-popup-close-button\",\n    type: \"button\"\n  }, \"\\xD7\"), children));\n}\nPopup.defaultProps = defaultProps;\nexport default React.memo(Popup);","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n  return target;\n}\nimport * as React from 'react';\nimport { useEffect, useCallback, useState, useRef, useMemo } from 'react';\nimport mapboxgl from '../utils/mapboxgl';\nimport useMapControl, { mapControlDefaultProps, mapControlPropTypes } from './use-map-control';\nvar defaultProps = Object.assign({}, mapControlDefaultProps, {\n  className: '',\n  toggleLabel: 'Toggle Attribution'\n});\nfunction setupAttributioncontrol(opts, map, container, attributionContainer) {\n  var control = new mapboxgl.AttributionControl(opts);\n  control._map = map;\n  control._container = container;\n  control._innerContainer = attributionContainer;\n  control._updateAttributions();\n  control._updateEditLink();\n  map.on('styledata', control._updateData);\n  map.on('sourcedata', control._updateData);\n  return control;\n}\nfunction removeAttributionControl(control) {\n  control._map.off('styledata', control._updateData);\n  control._map.off('sourcedata', control._updateData);\n}\nfunction AttributionControl(props) {\n  var _useMapControl = useMapControl(props),\n    context = _useMapControl.context,\n    containerRef = _useMapControl.containerRef;\n  var innerContainerRef = useRef(null);\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    showCompact = _useState2[0],\n    setShowCompact = _useState2[1];\n  useEffect(function () {\n    var control;\n    if (context.map) {\n      control = setupAttributioncontrol({\n        customAttribution: props.customAttribution\n      }, context.map, containerRef.current, innerContainerRef.current);\n    }\n    return function () {\n      return control && removeAttributionControl(control);\n    };\n  }, [context.map]);\n  var compact = props.compact === undefined ? context.viewport.width <= 640 : props.compact;\n  useEffect(function () {\n    if (!compact && showCompact) {\n      setShowCompact(false);\n    }\n  }, [compact]);\n  var toggleAttribution = useCallback(function () {\n    return setShowCompact(function (value) {\n      return !value;\n    });\n  }, []);\n  var style = useMemo(function () {\n    return _objectSpread({\n      position: 'absolute'\n    }, props.style);\n  }, [props.style]);\n  return React.createElement(\"div\", {\n    style: style,\n    className: props.className\n  }, React.createElement(\"div\", {\n    ref: containerRef,\n    \"aria-pressed\": showCompact,\n    className: \"mapboxgl-ctrl mapboxgl-ctrl-attrib \".concat(compact ? 'mapboxgl-compact' : '', \" \").concat(showCompact ? 'mapboxgl-compact-show' : '')\n  }, React.createElement(\"button\", {\n    type: \"button\",\n    className: \"mapboxgl-ctrl-attrib-button\",\n    title: props.toggleLabel,\n    onClick: toggleAttribution\n  }), React.createElement(\"div\", {\n    ref: innerContainerRef,\n    className: \"mapboxgl-ctrl-attrib-inner\",\n    role: \"list\"\n  })));\n}\nAttributionControl.defaultProps = defaultProps;\nexport default React.memo(AttributionControl);","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n  return target;\n}\nimport { document } from '../utils/globals';\nimport * as React from 'react';\nimport { useEffect, useState, useMemo } from 'react';\nimport mapboxgl from '../utils/mapboxgl';\nimport useMapControl, { mapControlDefaultProps, mapControlPropTypes } from './use-map-control';\nvar defaultProps = Object.assign({}, mapControlDefaultProps, {\n  className: '',\n  container: null,\n  label: 'Toggle fullscreen'\n});\nfunction FullscreenControl(props) {\n  var _useMapControl = useMapControl(props),\n    context = _useMapControl.context,\n    containerRef = _useMapControl.containerRef;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    isFullscreen = _useState2[0],\n    setIsFullscreen = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    showButton = _useState4[0],\n    setShowButton = _useState4[1];\n  var _useState5 = useState(null),\n    _useState6 = _slicedToArray(_useState5, 2),\n    mapboxFullscreenControl = _useState6[0],\n    createMapboxFullscreenControl = _useState6[1];\n  useEffect(function () {\n    var control = new mapboxgl.FullscreenControl();\n    createMapboxFullscreenControl(control);\n    setShowButton(control._checkFullscreenSupport());\n    var onFullscreenChange = function onFullscreenChange() {\n      var nextState = !control._fullscreen;\n      control._fullscreen = nextState;\n      setIsFullscreen(nextState);\n    };\n    document.addEventListener(control._fullscreenchange, onFullscreenChange);\n    return function () {\n      document.removeEventListener(control._fullscreenchange, onFullscreenChange);\n    };\n  }, []);\n  var onClickFullscreen = function onClickFullscreen() {\n    if (mapboxFullscreenControl) {\n      mapboxFullscreenControl._container = props.container || context.container;\n      mapboxFullscreenControl._onClickFullscreen();\n    }\n  };\n  var style = useMemo(function () {\n    return _objectSpread({\n      position: 'absolute'\n    }, props.style);\n  }, [props.style]);\n  if (!showButton) {\n    return null;\n  }\n  var className = props.className,\n    label = props.label;\n  var type = isFullscreen ? 'shrink' : 'fullscreen';\n  return React.createElement(\"div\", {\n    style: style,\n    className: className\n  }, React.createElement(\"div\", {\n    className: \"mapboxgl-ctrl mapboxgl-ctrl-group\",\n    ref: containerRef\n  }, React.createElement(\"button\", {\n    key: type,\n    className: \"mapboxgl-ctrl-icon mapboxgl-ctrl-\".concat(type),\n    type: \"button\",\n    title: label,\n    onClick: onClickFullscreen\n  }, React.createElement(\"span\", {\n    className: \"mapboxgl-ctrl-icon\",\n    \"aria-hidden\": \"true\"\n  }))));\n}\nFullscreenControl.defaultProps = defaultProps;\nexport default React.memo(FullscreenControl);","var supported;\nexport function isGeolocationSupported() {\n  if (supported !== undefined) {\n    return Promise.resolve(supported);\n  }\n  if (window.navigator.permissions !== undefined) {\n    return window.navigator.permissions.query({\n      name: 'geolocation'\n    }).then(function (p) {\n      supported = p.state !== 'denied';\n      return supported;\n    });\n  }\n  supported = Boolean(window.navigator.geolocation);\n  return Promise.resolve(supported);\n}","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n  return target;\n}\nimport * as React from 'react';\nimport { useRef, useEffect, useState, useCallback, useMemo } from 'react';\nimport { document } from '../utils/globals';\nimport mapboxgl from '../utils/mapboxgl';\nimport MapState from '../utils/map-state';\nimport { LINEAR_TRANSITION_PROPS } from '../utils/map-controller';\nimport { isGeolocationSupported } from '../utils/geolocate-utils';\nimport useMapControl, { mapControlDefaultProps, mapControlPropTypes } from './use-map-control';\nvar noop = function noop() {};\nvar defaultProps = Object.assign({}, mapControlDefaultProps, {\n  className: '',\n  label: 'Find My Location',\n  disabledLabel: 'Location Not Available',\n  auto: false,\n  positionOptions: {\n    enableHighAccuracy: false,\n    timeout: 6000\n  },\n  fitBoundsOptions: {\n    maxZoom: 15\n  },\n  trackUserLocation: false,\n  showUserLocation: true,\n  showAccuracyCircle: true,\n  onGeolocate: function onGeolocate() {}\n});\nfunction getBounds(position) {\n  var center = new mapboxgl.LngLat(position.coords.longitude, position.coords.latitude);\n  var radius = position.coords.accuracy;\n  var bounds = center.toBounds(radius);\n  return [[bounds._ne.lng, bounds._ne.lat], [bounds._sw.lng, bounds._sw.lat]];\n}\nfunction setupMapboxGeolocateControl(context, props, geolocateButton) {\n  var control = new mapboxgl.GeolocateControl(props);\n  control._container = document.createElement('div');\n  control._map = {\n    on: function on() {},\n    _getUIString: function _getUIString() {\n      return '';\n    }\n  };\n  control._setupUI(true);\n  control._map = context.map;\n  control._geolocateButton = geolocateButton;\n  var eventManager = context.eventManager;\n  if (control.options.trackUserLocation && eventManager) {\n    eventManager.on('panstart', function () {\n      if (control._watchState === 'ACTIVE_LOCK') {\n        control._watchState = 'BACKGROUND';\n        geolocateButton.classList.add('mapboxgl-ctrl-geolocate-background');\n        geolocateButton.classList.remove('mapboxgl-ctrl-geolocate-active');\n      }\n    });\n  }\n  control.on('geolocate', props.onGeolocate);\n  return control;\n}\nfunction updateCamera(position, _ref) {\n  var context = _ref.context,\n    props = _ref.props;\n  var bounds = getBounds(position);\n  var _context$viewport$fit = context.viewport.fitBounds(bounds, props.fitBoundsOptions),\n    longitude = _context$viewport$fit.longitude,\n    latitude = _context$viewport$fit.latitude,\n    zoom = _context$viewport$fit.zoom;\n  var newViewState = Object.assign({}, context.viewport, {\n    longitude: longitude,\n    latitude: latitude,\n    zoom: zoom\n  });\n  var mapState = new MapState(newViewState);\n  var viewState = Object.assign({}, mapState.getViewportProps(), LINEAR_TRANSITION_PROPS);\n  var onViewportChange = props.onViewportChange || context.onViewportChange || noop;\n  var onViewStateChange = props.onViewStateChange || context.onViewStateChange || noop;\n  onViewStateChange({\n    viewState: viewState\n  });\n  onViewportChange(viewState);\n}\nfunction GeolocateControl(props) {\n  var thisRef = useMapControl(props);\n  var context = thisRef.context,\n    containerRef = thisRef.containerRef;\n  var geolocateButtonRef = useRef(null);\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    mapboxGeolocateControl = _useState2[0],\n    createMapboxGeolocateControl = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    supportsGeolocation = _useState4[0],\n    setSupportsGeolocation = _useState4[1];\n  useEffect(function () {\n    var control;\n    if (context.map) {\n      isGeolocationSupported().then(function (result) {\n        setSupportsGeolocation(result);\n        if (geolocateButtonRef.current) {\n          control = setupMapboxGeolocateControl(context, props, geolocateButtonRef.current);\n          control._updateCamera = function (position) {\n            return updateCamera(position, thisRef);\n          };\n          createMapboxGeolocateControl(control);\n        }\n      });\n    }\n    return function () {\n      if (control) {\n        control._clearWatch();\n      }\n    };\n  }, [context.map]);\n  var triggerGeolocate = useCallback(function () {\n    if (mapboxGeolocateControl) {\n      mapboxGeolocateControl.options = thisRef.props;\n      mapboxGeolocateControl.trigger();\n    }\n  }, [mapboxGeolocateControl]);\n  useEffect(function () {\n    if (props.auto) {\n      triggerGeolocate();\n    }\n  }, [mapboxGeolocateControl, props.auto]);\n  useEffect(function () {\n    if (mapboxGeolocateControl) {\n      mapboxGeolocateControl._onZoom();\n    }\n  }, [context.viewport.zoom]);\n  var className = props.className,\n    label = props.label,\n    disabledLabel = props.disabledLabel,\n    trackUserLocation = props.trackUserLocation;\n  var style = useMemo(function () {\n    return _objectSpread({\n      position: 'absolute'\n    }, props.style);\n  }, [props.style]);\n  return React.createElement(\"div\", {\n    style: style,\n    className: className\n  }, React.createElement(\"div\", {\n    key: \"geolocate-control\",\n    className: \"mapboxgl-ctrl mapboxgl-ctrl-group\",\n    ref: containerRef\n  }, React.createElement(\"button\", {\n    key: \"geolocate\",\n    className: \"mapboxgl-ctrl-icon mapboxgl-ctrl-geolocate\",\n    ref: geolocateButtonRef,\n    disabled: !supportsGeolocation,\n    \"aria-pressed\": !trackUserLocation,\n    type: \"button\",\n    title: supportsGeolocation ? label : disabledLabel,\n    \"aria-label\": supportsGeolocation ? label : disabledLabel,\n    onClick: triggerGeolocate\n  }, React.createElement(\"span\", {\n    className: \"mapboxgl-ctrl-icon\",\n    \"aria-hidden\": \"true\"\n  }))));\n}\nGeolocateControl.defaultProps = defaultProps;\nexport default React.memo(GeolocateControl);","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n  return target;\n}\nimport * as React from 'react';\nimport { useMemo } from 'react';\nimport MapState from '../utils/map-state';\nimport { LINEAR_TRANSITION_PROPS } from '../utils/map-controller';\nimport { compareVersions } from '../utils/version';\nimport useMapControl, { mapControlDefaultProps, mapControlPropTypes } from './use-map-control';\nvar noop = function noop() {};\nvar defaultProps = Object.assign({}, mapControlDefaultProps, {\n  className: '',\n  showCompass: true,\n  showZoom: true,\n  zoomInLabel: 'Zoom In',\n  zoomOutLabel: 'Zoom Out',\n  compassLabel: 'Reset North'\n});\nvar VERSION_LEGACY = 1;\nvar VERSION_1_6 = 2;\nfunction getUIVersion(mapboxVersion) {\n  return compareVersions(mapboxVersion, '1.6.0') >= 0 ? VERSION_1_6 : VERSION_LEGACY;\n}\nfunction updateViewport(context, props, opts) {\n  var viewport = context.viewport;\n  var mapState = new MapState(Object.assign({}, viewport, opts));\n  var viewState = Object.assign({}, mapState.getViewportProps(), LINEAR_TRANSITION_PROPS);\n  var onViewportChange = props.onViewportChange || context.onViewportChange || noop;\n  var onViewStateChange = props.onViewStateChange || context.onViewStateChange || noop;\n  onViewStateChange({\n    viewState: viewState\n  });\n  onViewportChange(viewState);\n}\nfunction renderButton(type, label, callback, children) {\n  return React.createElement(\"button\", {\n    key: type,\n    className: \"mapboxgl-ctrl-icon mapboxgl-ctrl-\".concat(type),\n    type: \"button\",\n    title: label,\n    onClick: callback\n  }, children || React.createElement(\"span\", {\n    className: \"mapboxgl-ctrl-icon\",\n    \"aria-hidden\": \"true\"\n  }));\n}\nfunction renderCompass(context) {\n  var uiVersion = useMemo(function () {\n    return context.map ? getUIVersion(context.map.version) : VERSION_1_6;\n  }, [context.map]);\n  var bearing = context.viewport.bearing;\n  var style = {\n    transform: \"rotate(\".concat(-bearing, \"deg)\")\n  };\n  return uiVersion === VERSION_1_6 ? React.createElement(\"span\", {\n    className: \"mapboxgl-ctrl-icon\",\n    \"aria-hidden\": \"true\",\n    style: style\n  }) : React.createElement(\"span\", {\n    className: \"mapboxgl-ctrl-compass-arrow\",\n    style: style\n  });\n}\nfunction NavigationControl(props) {\n  var _useMapControl = useMapControl(props),\n    context = _useMapControl.context,\n    containerRef = _useMapControl.containerRef;\n  var onZoomIn = function onZoomIn() {\n    updateViewport(context, props, {\n      zoom: context.viewport.zoom + 1\n    });\n  };\n  var onZoomOut = function onZoomOut() {\n    updateViewport(context, props, {\n      zoom: context.viewport.zoom - 1\n    });\n  };\n  var onResetNorth = function onResetNorth() {\n    updateViewport(context, props, {\n      bearing: 0,\n      pitch: 0\n    });\n  };\n  var className = props.className,\n    showCompass = props.showCompass,\n    showZoom = props.showZoom,\n    zoomInLabel = props.zoomInLabel,\n    zoomOutLabel = props.zoomOutLabel,\n    compassLabel = props.compassLabel;\n  var style = useMemo(function () {\n    return _objectSpread({\n      position: 'absolute'\n    }, props.style);\n  }, [props.style]);\n  return React.createElement(\"div\", {\n    style: style,\n    className: className\n  }, React.createElement(\"div\", {\n    className: \"mapboxgl-ctrl mapboxgl-ctrl-group\",\n    ref: containerRef\n  }, showZoom && renderButton('zoom-in', zoomInLabel, onZoomIn), showZoom && renderButton('zoom-out', zoomOutLabel, onZoomOut), showCompass && renderButton('compass', compassLabel, onResetNorth, renderCompass(context))));\n}\nNavigationControl.defaultProps = defaultProps;\nexport default React.memo(NavigationControl);","export function compareVersions(version1, version2) {\n  var v1 = (version1 || '').split('.').map(Number);\n  var v2 = (version2 || '').split('.').map(Number);\n  for (var i = 0; i < 3; i++) {\n    var part1 = v1[i] || 0;\n    var part2 = v2[i] || 0;\n    if (part1 < part2) {\n      return -1;\n    }\n    if (part1 > part2) {\n      return 1;\n    }\n  }\n  return 0;\n}","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n  return target;\n}\nimport * as React from 'react';\nimport { useEffect, useState, useMemo } from 'react';\nimport mapboxgl from '../utils/mapboxgl';\nimport useMapControl, { mapControlDefaultProps, mapControlPropTypes } from './use-map-control';\nvar defaultProps = Object.assign({}, mapControlDefaultProps, {\n  className: '',\n  maxWidth: 100,\n  unit: 'metric'\n});\nfunction ScaleControl(props) {\n  var _useMapControl = useMapControl(props),\n    context = _useMapControl.context,\n    containerRef = _useMapControl.containerRef;\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    mapboxScaleControl = _useState2[0],\n    createMapboxScaleControl = _useState2[1];\n  useEffect(function () {\n    if (context.map) {\n      var control = new mapboxgl.ScaleControl();\n      control._map = context.map;\n      control._container = containerRef.current;\n      createMapboxScaleControl(control);\n    }\n  }, [context.map]);\n  if (mapboxScaleControl) {\n    mapboxScaleControl.options = props;\n    mapboxScaleControl._onMove();\n  }\n  var style = useMemo(function () {\n    return _objectSpread({\n      position: 'absolute'\n    }, props.style);\n  }, [props.style]);\n  return React.createElement(\"div\", {\n    style: style,\n    className: props.className\n  }, React.createElement(\"div\", {\n    ref: containerRef,\n    className: \"mapboxgl-ctrl mapboxgl-ctrl-scale\"\n  }));\n}\nScaleControl.defaultProps = defaultProps;\nexport default React.memo(ScaleControl);","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport { useState, useEffect } from 'react';\nimport useMapControl, { mapControlPropTypes } from '../components/use-map-control';\nvar pixelRatio = typeof window !== 'undefined' && window.devicePixelRatio || 1;\nvar defaultProps = {\n  captureScroll: false,\n  captureDrag: false,\n  captureClick: false,\n  captureDoubleClick: false,\n  capturePointerMove: false\n};\nfunction CanvasOverlay(props) {\n  var _useMapControl = useMapControl(props),\n    context = _useMapControl.context,\n    containerRef = _useMapControl.containerRef;\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    ctx = _useState2[0],\n    setDrawingContext = _useState2[1];\n  useEffect(function () {\n    setDrawingContext(containerRef.current.getContext('2d'));\n  }, []);\n  var viewport = context.viewport,\n    isDragging = context.isDragging;\n  if (ctx) {\n    ctx.save();\n    ctx.scale(pixelRatio, pixelRatio);\n    props.redraw({\n      width: viewport.width,\n      height: viewport.height,\n      ctx: ctx,\n      isDragging: isDragging,\n      project: viewport.project,\n      unproject: viewport.unproject\n    });\n    ctx.restore();\n  }\n  return React.createElement(\"canvas\", {\n    ref: containerRef,\n    width: viewport.width * pixelRatio,\n    height: viewport.height * pixelRatio,\n    style: {\n      width: \"\".concat(viewport.width, \"px\"),\n      height: \"\".concat(viewport.height, \"px\"),\n      position: 'absolute',\n      left: 0,\n      top: 0\n    }\n  });\n}\nCanvasOverlay.defaultProps = defaultProps;\nexport default CanvasOverlay;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n  return target;\n}\nimport * as React from 'react';\nimport useMapControl, { mapControlPropTypes } from '../components/use-map-control';\nvar defaultProps = {\n  captureScroll: false,\n  captureDrag: false,\n  captureClick: false,\n  captureDoubleClick: false,\n  capturePointerMove: false\n};\nfunction HTMLOverlay(props) {\n  var _useMapControl = useMapControl(props),\n    context = _useMapControl.context,\n    containerRef = _useMapControl.containerRef;\n  var viewport = context.viewport,\n    isDragging = context.isDragging;\n  var style = _objectSpread({\n    position: 'absolute',\n    left: 0,\n    top: 0,\n    width: viewport.width,\n    height: viewport.height\n  }, props.style);\n  return React.createElement(\"div\", {\n    ref: containerRef,\n    style: style\n  }, props.redraw({\n    width: viewport.width,\n    height: viewport.height,\n    isDragging: isDragging,\n    project: viewport.project,\n    unproject: viewport.unproject\n  }));\n}\nHTMLOverlay.defaultProps = defaultProps;\nexport default HTMLOverlay;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n  return target;\n}\nimport * as React from 'react';\nimport useMapControl, { mapControlPropTypes } from '../components/use-map-control';\nvar defaultProps = {\n  captureScroll: false,\n  captureDrag: false,\n  captureClick: false,\n  captureDoubleClick: false,\n  capturePointerMove: false\n};\nfunction SVGOverlay(props) {\n  var _useMapControl = useMapControl(props),\n    context = _useMapControl.context,\n    containerRef = _useMapControl.containerRef;\n  var viewport = context.viewport,\n    isDragging = context.isDragging;\n  var style = _objectSpread({\n    position: 'absolute',\n    left: 0,\n    top: 0\n  }, props.style);\n  return React.createElement(\"svg\", {\n    width: viewport.width,\n    height: viewport.height,\n    ref: containerRef,\n    style: style\n  }, props.redraw({\n    width: viewport.width,\n    height: viewport.height,\n    isDragging: isDragging,\n    project: viewport.project,\n    unproject: viewport.unproject\n  }));\n}\nSVGOverlay.defaultProps = defaultProps;\nexport default SVGOverlay;","import mapboxgl from './mapboxgl';\nvar setRTLTextPlugin = mapboxgl ? mapboxgl.setRTLTextPlugin : function () {};\nexport default setRTLTextPlugin;","import { useStaticQuery, graphql } from 'gatsby';\n\nconst usePositions = () => {\n  const { allPositionJson } = useStaticQuery(\n    graphql`\n      query AllPosition {\n        allPositionJson {\n          nodes {\n            id\n            latitude\n            longitude\n            address\n            time\n          }\n        }\n      }\n    `\n  );\n\n  const positions = allPositionJson.nodes;\n  return {\n    positions,\n  };\n};\n\nexport default usePositions;\n","import { useStaticQuery, graphql } from 'gatsby';\n\nconst useActivities = () => {\n  const { allActivitiesJson } = useStaticQuery(\n    graphql`\n      query AllActivities {\n        allActivitiesJson {\n          nodes {\n            id\n            distance\n            name\n            ride_id\n            moving_time\n            type\n            average_speed\n            location_country\n            start_date\n            start_date_local\n            streak\n            summary_polyline\n          }\n        }\n      }\n    `\n  );\n\n  const activities = allActivitiesJson.nodes;\n\n  return {\n    activities,\n  };\n};\n\nexport default useActivities;\n","import * as mapboxPolyline from '@mapbox/polyline';\n\nconst geoJsonForRide = (rides) => ({\n  type: 'FeatureCollection',\n  features: rides.map((ride) => {\n    const points = pathForRide(ride);\n    if (!points) {\n      return null;\n    }\n\n    return {\n      type: 'Feature',\n      geometry: {\n        type: 'LineString',\n        coordinates: points,\n      },\n    };\n  }),\n});\n\nconst pathForRide = (ride) => {\n  try {\n    const c = mapboxPolyline.decode(ride.summary_polyline);\n    // reverse lat long for mapbox\n    c.forEach((arr) => {\n      [arr[0], arr[1]] = [arr[1], arr[0]];\n    });\n    return c;\n  } catch (err) {\n    return [];\n  }\n};\n\nexport { pathForRide, geoJsonForRide };\n","import * as React from 'react';\nimport { useState } from 'react';\nimport ReactMapGL, { Marker, Layer, Source } from 'react-map-gl';\nimport MapboxLanguage from '@mapbox/mapbox-gl-language';\n\nimport StartIcon from '/assets/flag-start.svg';\nimport EndIcon from '/assets/flag-end.svg';\nimport CurrentIcon from '/assets/current-location.svg';\n\nimport { MAPBOX_TOKEN, CITIES, MAIN_COLOR } from '../../common/const';\nimport usePositions from '../../hooks/usePositions';\nimport useActivities from '../../hooks/useActivities';\nimport { geoJsonForRide } from '../../common/utils';\nimport './index.scss';\nconst SIZE = 20;\nconst UNIT = 'px';\nconst RoadMap = () => {\n  const { positions } = usePositions();\n  const { activities } = useActivities();\n  const geoData = geoJsonForRide(activities);\n  const currentPostion = positions[positions.length - 1];\n  const { latitude = 31.150826, longitude = 121.389456 } = currentPostion;\n  const [viewport, setViewport] = useState({\n    width: '100%',\n    height: 500,\n    latitude,\n    longitude,\n    zoom: 8,\n    pitch: 50,\n  });\n  const addControlHandler = (event) => {\n    const map = event && event.target;\n    if (map) {\n      map.addControl(\n        new MapboxLanguage({\n          defaultLanguage: 'zh',\n        })\n      );\n      map.setLayoutProperty('country-label-lg', 'text-field', [\n        'get',\n        'name_zh',\n      ]);\n    }\n  };\n  return (\n    <ReactMapGL\n      {...viewport}\n      onLoad={addControlHandler}\n      mapboxApiAccessToken={MAPBOX_TOKEN}\n      onViewportChange={(nextViewport) => setViewport(nextViewport)}\n    >\n      <Source id=\"data\" type=\"geojson\" data={geoData}>\n        <Layer\n          id=\"riddes\"\n          type=\"line\"\n          paint={{\n            'line-color': MAIN_COLOR,\n            'line-width': 3,\n          }}\n          layout={{\n            'line-join': 'round',\n            'line-cap': 'round',\n          }}\n        />\n      </Source>\n      <Marker\n        latitude={CITIES.start.latitude}\n        longitude={CITIES.start.longitude}\n      >\n        <StartIcon className=\"flag-icon\" />\n      </Marker>\n      {currentPostion && (\n        <Marker\n          latitude={Number(currentPostion.latitude)}\n          longitude={Number(currentPostion.longitude)}\n          styles={{ width: '1px' }}\n        >\n          <CurrentIcon className=\"flag-icon\" />\n        </Marker>\n      )}\n      <Marker latitude={CITIES.end.latitude} longitude={CITIES.end.longitude}>\n        <EndIcon className=\"flag-icon\" />\n      </Marker>\n    </ReactMapGL>\n  );\n};\n\nexport default RoadMap;\n","import * as React from 'react';\nimport usePositions from '../../hooks/usePositions';\n\nconst CurrentPosition = () => {\n  const { positions } = usePositions();\n  const currentPostion = positions[positions.length - 1];\n  return (\n    <>\n      <h3>当前位置</h3>\n      <div>\n        {currentPostion.address}\n        {`（数据更新于：${currentPostion.time}）`}\n      </div>\n    </>\n  );\n};\n\nexport default CurrentPosition;\n","import * as React from 'react';\nimport { RoutePlans } from '../../common/const';\n\nconst RoutePlan = () => (\n  <>\n    <h3>路线规划</h3>\n    <figure>\n      <table>\n        <thead>\n          <tr>\n            <th>\n              <span>日程</span>\n            </th>\n            <th>\n              <span>距离</span>\n            </th>\n            <th>\n              <span>目的地</span>\n            </th>\n          </tr>\n        </thead>\n        <tbody>\n          {RoutePlans.map((plan, index) => (\n            <tr key={index}>\n              <td>\n                <span>Day{index + 1}</span>\n              </td>\n              <td>\n                <span>{plan.distance}</span>\n              </td>\n              <td>\n                <a href={plan.destinationLink}>\n                  <span>{plan.destination}</span>\n                </a>\n              </td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </figure>\n  </>\n);\n\nexport default RoutePlan;\n","import * as React from 'react';\nimport Valine from 'gatsby-plugin-valine'; // 导入\nimport Layout from '../components/layout';\nimport Seo from '../components/seo';\nimport RoadMap from '../components/road-map';\nimport CurrentPosition from '../components/current-position';\nimport RoutePlan from '../components/plan';\n\nconst IndexPage = () => (\n  <Layout>\n    <Seo title=\"Home\" />\n    <RoadMap />\n    <CurrentPosition />\n    <RoutePlan />\n    <h3>评论</h3>\n    <Valine\n      appId=\"HimnBF5dOWB9mpOT6nv7AF5V-gzGzoHsz\"\n      appKey=\"yqbsml92HhijF81xs7fHOxII\"\n    />\n  </Layout>\n);\n\nexport default IndexPage;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nmodule.exports = DataView;\n","var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n","var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nmodule.exports = Promise;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nmodule.exports = Set;\n","var MapCache = require('./_MapCache'),\n    setCacheAdd = require('./_setCacheAdd'),\n    setCacheHas = require('./_setCacheHas');\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nmodule.exports = SetCache;\n","var ListCache = require('./_ListCache'),\n    stackClear = require('./_stackClear'),\n    stackDelete = require('./_stackDelete'),\n    stackGet = require('./_stackGet'),\n    stackHas = require('./_stackHas'),\n    stackSet = require('./_stackSet');\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nmodule.exports = Stack;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nmodule.exports = Uint8Array;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nmodule.exports = WeakMap;\n","/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nmodule.exports = apply;\n","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayFilter;\n","var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arraySome;\n","var baseAssignValue = require('./_baseAssignValue'),\n    eq = require('./eq');\n\n/**\n * This function is like `assignValue` except that it doesn't assign\n * `undefined` values.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignMergeValue(object, key, value) {\n  if ((value !== undefined && !eq(object[key], value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nmodule.exports = assignMergeValue;\n","var baseAssignValue = require('./_baseAssignValue'),\n    eq = require('./eq');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nmodule.exports = assignValue;\n","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n","var defineProperty = require('./_defineProperty');\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nmodule.exports = baseAssignValue;\n","var isObject = require('./isObject');\n\n/** Built-in value references. */\nvar objectCreate = Object.create;\n\n/**\n * The base implementation of `_.create` without support for assigning\n * properties to the created object.\n *\n * @private\n * @param {Object} proto The object to inherit from.\n * @returns {Object} Returns the new object.\n */\nvar baseCreate = (function() {\n  function object() {}\n  return function(proto) {\n    if (!isObject(proto)) {\n      return {};\n    }\n    if (objectCreate) {\n      return objectCreate(proto);\n    }\n    object.prototype = proto;\n    var result = new object;\n    object.prototype = undefined;\n    return result;\n  };\n}());\n\nmodule.exports = baseCreate;\n","var createBaseFor = require('./_createBaseFor');\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nmodule.exports = baseFor;\n","var arrayPush = require('./_arrayPush'),\n    isArray = require('./isArray');\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nmodule.exports = baseGetAllKeys;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","var baseIsEqualDeep = require('./_baseIsEqualDeep'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nmodule.exports = baseIsEqual;\n","var Stack = require('./_Stack'),\n    equalArrays = require('./_equalArrays'),\n    equalByTag = require('./_equalByTag'),\n    equalObjects = require('./_equalObjects'),\n    getTag = require('./_getTag'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nmodule.exports = baseIsEqualDeep;\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n","var isPrototype = require('./_isPrototype'),\n    nativeKeys = require('./_nativeKeys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeys;\n","var isObject = require('./isObject'),\n    isPrototype = require('./_isPrototype'),\n    nativeKeysIn = require('./_nativeKeysIn');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keysIn` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeysIn(object) {\n  if (!isObject(object)) {\n    return nativeKeysIn(object);\n  }\n  var isProto = isPrototype(object),\n      result = [];\n\n  for (var key in object) {\n    if (!(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeysIn;\n","var Stack = require('./_Stack'),\n    assignMergeValue = require('./_assignMergeValue'),\n    baseFor = require('./_baseFor'),\n    baseMergeDeep = require('./_baseMergeDeep'),\n    isObject = require('./isObject'),\n    keysIn = require('./keysIn'),\n    safeGet = require('./_safeGet');\n\n/**\n * The base implementation of `_.merge` without support for multiple sources.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} [customizer] The function to customize merged values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMerge(object, source, srcIndex, customizer, stack) {\n  if (object === source) {\n    return;\n  }\n  baseFor(source, function(srcValue, key) {\n    stack || (stack = new Stack);\n    if (isObject(srcValue)) {\n      baseMergeDeep(object, source, key, srcIndex, baseMerge, customizer, stack);\n    }\n    else {\n      var newValue = customizer\n        ? customizer(safeGet(object, key), srcValue, (key + ''), object, source, stack)\n        : undefined;\n\n      if (newValue === undefined) {\n        newValue = srcValue;\n      }\n      assignMergeValue(object, key, newValue);\n    }\n  }, keysIn);\n}\n\nmodule.exports = baseMerge;\n","var assignMergeValue = require('./_assignMergeValue'),\n    cloneBuffer = require('./_cloneBuffer'),\n    cloneTypedArray = require('./_cloneTypedArray'),\n    copyArray = require('./_copyArray'),\n    initCloneObject = require('./_initCloneObject'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isArrayLikeObject = require('./isArrayLikeObject'),\n    isBuffer = require('./isBuffer'),\n    isFunction = require('./isFunction'),\n    isObject = require('./isObject'),\n    isPlainObject = require('./isPlainObject'),\n    isTypedArray = require('./isTypedArray'),\n    safeGet = require('./_safeGet'),\n    toPlainObject = require('./toPlainObject');\n\n/**\n * A specialized version of `baseMerge` for arrays and objects which performs\n * deep merges and tracks traversed objects enabling objects with circular\n * references to be merged.\n *\n * @private\n * @param {Object} object The destination object.\n * @param {Object} source The source object.\n * @param {string} key The key of the value to merge.\n * @param {number} srcIndex The index of `source`.\n * @param {Function} mergeFunc The function to merge values.\n * @param {Function} [customizer] The function to customize assigned values.\n * @param {Object} [stack] Tracks traversed source values and their merged\n *  counterparts.\n */\nfunction baseMergeDeep(object, source, key, srcIndex, mergeFunc, customizer, stack) {\n  var objValue = safeGet(object, key),\n      srcValue = safeGet(source, key),\n      stacked = stack.get(srcValue);\n\n  if (stacked) {\n    assignMergeValue(object, key, stacked);\n    return;\n  }\n  var newValue = customizer\n    ? customizer(objValue, srcValue, (key + ''), object, source, stack)\n    : undefined;\n\n  var isCommon = newValue === undefined;\n\n  if (isCommon) {\n    var isArr = isArray(srcValue),\n        isBuff = !isArr && isBuffer(srcValue),\n        isTyped = !isArr && !isBuff && isTypedArray(srcValue);\n\n    newValue = srcValue;\n    if (isArr || isBuff || isTyped) {\n      if (isArray(objValue)) {\n        newValue = objValue;\n      }\n      else if (isArrayLikeObject(objValue)) {\n        newValue = copyArray(objValue);\n      }\n      else if (isBuff) {\n        isCommon = false;\n        newValue = cloneBuffer(srcValue, true);\n      }\n      else if (isTyped) {\n        isCommon = false;\n        newValue = cloneTypedArray(srcValue, true);\n      }\n      else {\n        newValue = [];\n      }\n    }\n    else if (isPlainObject(srcValue) || isArguments(srcValue)) {\n      newValue = objValue;\n      if (isArguments(objValue)) {\n        newValue = toPlainObject(objValue);\n      }\n      else if (!isObject(objValue) || isFunction(objValue)) {\n        newValue = initCloneObject(srcValue);\n      }\n    }\n    else {\n      isCommon = false;\n    }\n  }\n  if (isCommon) {\n    // Recursively merge objects and arrays (susceptible to call stack limits).\n    stack.set(srcValue, newValue);\n    mergeFunc(newValue, srcValue, srcIndex, customizer, stack);\n    stack['delete'](srcValue);\n  }\n  assignMergeValue(object, key, newValue);\n}\n\nmodule.exports = baseMergeDeep;\n","var identity = require('./identity'),\n    overRest = require('./_overRest'),\n    setToString = require('./_setToString');\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\nmodule.exports = baseRest;\n","var constant = require('./constant'),\n    defineProperty = require('./_defineProperty'),\n    identity = require('./identity');\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\nmodule.exports = baseSetToString;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nmodule.exports = cacheHas;\n","var Uint8Array = require('./_Uint8Array');\n\n/**\n * Creates a clone of `arrayBuffer`.\n *\n * @private\n * @param {ArrayBuffer} arrayBuffer The array buffer to clone.\n * @returns {ArrayBuffer} Returns the cloned array buffer.\n */\nfunction cloneArrayBuffer(arrayBuffer) {\n  var result = new arrayBuffer.constructor(arrayBuffer.byteLength);\n  new Uint8Array(result).set(new Uint8Array(arrayBuffer));\n  return result;\n}\n\nmodule.exports = cloneArrayBuffer;\n","var root = require('./_root');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined,\n    allocUnsafe = Buffer ? Buffer.allocUnsafe : undefined;\n\n/**\n * Creates a clone of  `buffer`.\n *\n * @private\n * @param {Buffer} buffer The buffer to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Buffer} Returns the cloned buffer.\n */\nfunction cloneBuffer(buffer, isDeep) {\n  if (isDeep) {\n    return buffer.slice();\n  }\n  var length = buffer.length,\n      result = allocUnsafe ? allocUnsafe(length) : new buffer.constructor(length);\n\n  buffer.copy(result);\n  return result;\n}\n\nmodule.exports = cloneBuffer;\n","var cloneArrayBuffer = require('./_cloneArrayBuffer');\n\n/**\n * Creates a clone of `typedArray`.\n *\n * @private\n * @param {Object} typedArray The typed array to clone.\n * @param {boolean} [isDeep] Specify a deep clone.\n * @returns {Object} Returns the cloned typed array.\n */\nfunction cloneTypedArray(typedArray, isDeep) {\n  var buffer = isDeep ? cloneArrayBuffer(typedArray.buffer) : typedArray.buffer;\n  return new typedArray.constructor(buffer, typedArray.byteOffset, typedArray.length);\n}\n\nmodule.exports = cloneTypedArray;\n","/**\n * Copies the values of `source` to `array`.\n *\n * @private\n * @param {Array} source The array to copy values from.\n * @param {Array} [array=[]] The array to copy values to.\n * @returns {Array} Returns `array`.\n */\nfunction copyArray(source, array) {\n  var index = -1,\n      length = source.length;\n\n  array || (array = Array(length));\n  while (++index < length) {\n    array[index] = source[index];\n  }\n  return array;\n}\n\nmodule.exports = copyArray;\n","var assignValue = require('./_assignValue'),\n    baseAssignValue = require('./_baseAssignValue');\n\n/**\n * Copies properties of `source` to `object`.\n *\n * @private\n * @param {Object} source The object to copy properties from.\n * @param {Array} props The property identifiers to copy.\n * @param {Object} [object={}] The object to copy properties to.\n * @param {Function} [customizer] The function to customize copied values.\n * @returns {Object} Returns `object`.\n */\nfunction copyObject(source, props, object, customizer) {\n  var isNew = !object;\n  object || (object = {});\n\n  var index = -1,\n      length = props.length;\n\n  while (++index < length) {\n    var key = props[index];\n\n    var newValue = customizer\n      ? customizer(object[key], source[key], key, object, source)\n      : undefined;\n\n    if (newValue === undefined) {\n      newValue = source[key];\n    }\n    if (isNew) {\n      baseAssignValue(object, key, newValue);\n    } else {\n      assignValue(object, key, newValue);\n    }\n  }\n  return object;\n}\n\nmodule.exports = copyObject;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","var baseRest = require('./_baseRest'),\n    isIterateeCall = require('./_isIterateeCall');\n\n/**\n * Creates a function like `_.assign`.\n *\n * @private\n * @param {Function} assigner The function to assign values.\n * @returns {Function} Returns the new assigner function.\n */\nfunction createAssigner(assigner) {\n  return baseRest(function(object, sources) {\n    var index = -1,\n        length = sources.length,\n        customizer = length > 1 ? sources[length - 1] : undefined,\n        guard = length > 2 ? sources[2] : undefined;\n\n    customizer = (assigner.length > 3 && typeof customizer == 'function')\n      ? (length--, customizer)\n      : undefined;\n\n    if (guard && isIterateeCall(sources[0], sources[1], guard)) {\n      customizer = length < 3 ? undefined : customizer;\n      length = 1;\n    }\n    object = Object(object);\n    while (++index < length) {\n      var source = sources[index];\n      if (source) {\n        assigner(object, source, index, customizer);\n      }\n    }\n    return object;\n  });\n}\n\nmodule.exports = createAssigner;\n","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nmodule.exports = createBaseFor;\n","var getNative = require('./_getNative');\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nmodule.exports = defineProperty;\n","var SetCache = require('./_SetCache'),\n    arraySome = require('./_arraySome'),\n    cacheHas = require('./_cacheHas');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Check that cyclic values are equal.\n  var arrStacked = stack.get(array);\n  var othStacked = stack.get(other);\n  if (arrStacked && othStacked) {\n    return arrStacked == other && othStacked == array;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalArrays;\n","var Symbol = require('./_Symbol'),\n    Uint8Array = require('./_Uint8Array'),\n    eq = require('./eq'),\n    equalArrays = require('./_equalArrays'),\n    mapToArray = require('./_mapToArray'),\n    setToArray = require('./_setToArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nmodule.exports = equalByTag;\n","var getAllKeys = require('./_getAllKeys');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Check that cyclic values are equal.\n  var objStacked = stack.get(object);\n  var othStacked = stack.get(other);\n  if (objStacked && othStacked) {\n    return objStacked == other && othStacked == object;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalObjects;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbols = require('./_getSymbols'),\n    keys = require('./keys');\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nmodule.exports = getAllKeys;\n","var isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","var overArg = require('./_overArg');\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\nmodule.exports = getPrototype;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","var arrayFilter = require('./_arrayFilter'),\n    stubArray = require('./stubArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nmodule.exports = getSymbols;\n","var DataView = require('./_DataView'),\n    Map = require('./_Map'),\n    Promise = require('./_Promise'),\n    Set = require('./_Set'),\n    WeakMap = require('./_WeakMap'),\n    baseGetTag = require('./_baseGetTag'),\n    toSource = require('./_toSource');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nmodule.exports = getTag;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","var nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n","var baseCreate = require('./_baseCreate'),\n    getPrototype = require('./_getPrototype'),\n    isPrototype = require('./_isPrototype');\n\n/**\n * Initializes an object clone.\n *\n * @private\n * @param {Object} object The object to clone.\n * @returns {Object} Returns the initialized clone.\n */\nfunction initCloneObject(object) {\n  return (typeof object.constructor == 'function' && !isPrototype(object))\n    ? baseCreate(getPrototype(object))\n    : {};\n}\n\nmodule.exports = initCloneObject;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n","var eq = require('./eq'),\n    isArrayLike = require('./isArrayLike'),\n    isIndex = require('./_isIndex'),\n    isObject = require('./isObject');\n\n/**\n * Checks if the given arguments are from an iteratee call.\n *\n * @private\n * @param {*} value The potential iteratee value argument.\n * @param {*} index The potential iteratee index or key argument.\n * @param {*} object The potential iteratee object argument.\n * @returns {boolean} Returns `true` if the arguments are from an iteratee call,\n *  else `false`.\n */\nfunction isIterateeCall(value, index, object) {\n  if (!isObject(object)) {\n    return false;\n  }\n  var type = typeof index;\n  if (type == 'number'\n        ? (isArrayLike(object) && isIndex(index, object.length))\n        : (type == 'string' && index in object)\n      ) {\n    return eq(object[index], value);\n  }\n  return false;\n}\n\nmodule.exports = isIterateeCall;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n","var Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n","var getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n","var getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n","var getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n","var getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n","/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nmodule.exports = mapToArray;\n","var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n","/**\n * This function is like\n * [`Object.keys`](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * except that it includes inherited enumerable properties.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction nativeKeysIn(object) {\n  var result = [];\n  if (object != null) {\n    for (var key in Object(object)) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = nativeKeysIn;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n","var apply = require('./_apply');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\nmodule.exports = overRest;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","/**\n * Gets the value at `key`, unless `key` is \"__proto__\" or \"constructor\".\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction safeGet(object, key) {\n  if (key === 'constructor' && typeof object[key] === 'function') {\n    return;\n  }\n\n  if (key == '__proto__') {\n    return;\n  }\n\n  return object[key];\n}\n\nmodule.exports = safeGet;\n","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nmodule.exports = setCacheAdd;\n","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nmodule.exports = setCacheHas;\n","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nmodule.exports = setToArray;\n","var baseSetToString = require('./_baseSetToString'),\n    shortOut = require('./_shortOut');\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\nmodule.exports = setToString;\n","/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeNow = Date.now;\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\nmodule.exports = shortOut;\n","var ListCache = require('./_ListCache');\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nmodule.exports = stackClear;\n","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nmodule.exports = stackDelete;\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nmodule.exports = stackGet;\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nmodule.exports = stackHas;\n","var ListCache = require('./_ListCache'),\n    Map = require('./_Map'),\n    MapCache = require('./_MapCache');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nmodule.exports = stackSet;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\nmodule.exports = constant;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","var isArrayLike = require('./isArrayLike'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\nmodule.exports = isArrayLikeObject;\n","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n","var baseIsEqual = require('./_baseIsEqual');\n\n/**\n * Performs a deep comparison between two values to determine if they are\n * equivalent.\n *\n * **Note:** This method supports comparing arrays, array buffers, booleans,\n * date objects, error objects, maps, numbers, `Object` objects, regexes,\n * sets, strings, symbols, and typed arrays. `Object` objects are compared\n * by their own, not inherited, enumerable properties. Functions and DOM\n * nodes are compared by strict equality, i.e. `===`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.isEqual(object, other);\n * // => true\n *\n * object === other;\n * // => false\n */\nfunction isEqual(value, other) {\n  return baseIsEqual(value, other);\n}\n\nmodule.exports = isEqual;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseGetTag = require('./_baseGetTag'),\n    getPrototype = require('./_getPrototype'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\nmodule.exports = isPlainObject;\n","var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeys = require('./_baseKeys'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = keys;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeysIn = require('./_baseKeysIn'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own and inherited enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keysIn(new Foo);\n * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\n */\nfunction keysIn(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object, true) : baseKeysIn(object);\n}\n\nmodule.exports = keysIn;\n","var baseMerge = require('./_baseMerge'),\n    createAssigner = require('./_createAssigner');\n\n/**\n * This method is like `_.assign` except that it recursively merges own and\n * inherited enumerable string keyed properties of source objects into the\n * destination object. Source properties that resolve to `undefined` are\n * skipped if a destination value exists. Array and plain object properties\n * are merged recursively. Other objects and value types are overridden by\n * assignment. Source objects are applied from left to right. Subsequent\n * sources overwrite property assignments of previous sources.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 0.5.0\n * @category Object\n * @param {Object} object The destination object.\n * @param {...Object} [sources] The source objects.\n * @returns {Object} Returns `object`.\n * @example\n *\n * var object = {\n *   'a': [{ 'b': 2 }, { 'd': 4 }]\n * };\n *\n * var other = {\n *   'a': [{ 'c': 3 }, { 'e': 5 }]\n * };\n *\n * _.merge(object, other);\n * // => { 'a': [{ 'b': 2, 'c': 3 }, { 'd': 4, 'e': 5 }] }\n */\nvar merge = createAssigner(function(object, source, srcIndex) {\n  baseMerge(object, source, srcIndex);\n});\n\nmodule.exports = merge;\n","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nmodule.exports = stubArray;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","var copyObject = require('./_copyObject'),\n    keysIn = require('./keysIn');\n\n/**\n * Converts `value` to a plain object flattening inherited enumerable string\n * keyed properties of `value` to own properties of the plain object.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {Object} Returns the converted plain object.\n * @example\n *\n * function Foo() {\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.assign({ 'a': 1 }, new Foo);\n * // => { 'a': 1, 'b': 2 }\n *\n * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\n * // => { 'a': 1, 'b': 2, 'c': 3 }\n */\nfunction toPlainObject(value) {\n  return copyObject(value, keysIn(value));\n}\n\nmodule.exports = toPlainObject;\n","var React = require('react');\n\nfunction CurrentLocation (props) {\n    return React.createElement(\"svg\",props,[React.createElement(\"title\",{\"key\":0},\"🚴\"),React.createElement(\"desc\",{\"key\":1},\"Created with Sketch.\"),React.createElement(\"g\",{\"id\":\"Page-1\",\"stroke\":\"none\",\"strokeWidth\":\"1\",\"fill\":\"none\",\"fillRule\":\"evenodd\",\"fontFamily\":\"AppleColorEmoji, Apple Color Emoji\",\"fontSize\":\"24\",\"fontWeight\":\"normal\",\"letterSpacing\":\"1.71428571\",\"key\":2},React.createElement(\"text\",{\"id\":\"🚴\",\"fill\":\"#FFFFFF\"},React.createElement(\"tspan\",{\"x\":\"0.642857143\",\"y\":\"21\"},\"🚴\")))]);\n}\n\nCurrentLocation.defaultProps = {\"width\":\"25px\",\"height\":\"24px\",\"viewBox\":\"0 0 25 24\",\"version\":\"1.1\"};\n\nmodule.exports = CurrentLocation;\n\nCurrentLocation.default = CurrentLocation;\n","var React = require('react');\n\nfunction FlagEnd (props) {\n    return React.createElement(\"svg\",props,[React.createElement(\"title\",{\"key\":0},\"华中科技大学\"),React.createElement(\"desc\",{\"key\":1},\"Created with Sketch.\"),React.createElement(\"g\",{\"id\":\"Page-1\",\"stroke\":\"none\",\"strokeWidth\":\"1\",\"fill\":\"none\",\"fillRule\":\"evenodd\",\"fontFamily\":\"AppleColorEmoji, Apple Color Emoji\",\"fontSize\":\"24\",\"fontWeight\":\"normal\",\"letterSpacing\":\"1.71428571\",\"key\":2},React.createElement(\"text\",{\"id\":\"🏁\",\"fill\":\"#FFFFFF\"},React.createElement(\"tspan\",{\"x\":\"0.642857143\",\"y\":\"17\"},\"🏁\")))]);\n}\n\nFlagEnd.defaultProps = {\"width\":\"24px\",\"height\":\"20px\",\"viewBox\":\"0 0 24 20\",\"version\":\"1.1\"};\n\nmodule.exports = FlagEnd;\n\nFlagEnd.default = FlagEnd;\n","var React = require('react');\n\nfunction FlagStart (props) {\n    return React.createElement(\"svg\",props,[React.createElement(\"title\",{\"key\":0},\"上海字节跳动\"),React.createElement(\"desc\",{\"key\":1},\"Created with Sketch.\"),React.createElement(\"g\",{\"id\":\"Page-1\",\"stroke\":\"none\",\"strokeWidth\":\"1\",\"fill\":\"none\",\"fillRule\":\"evenodd\",\"fontFamily\":\"AppleColorEmoji, Apple Color Emoji\",\"fontSize\":\"24\",\"fontWeight\":\"normal\",\"letterSpacing\":\"1.71428571\",\"key\":2},React.createElement(\"text\",{\"id\":\"🚩\",\"fill\":\"#FFFFFF\"},React.createElement(\"tspan\",{\"x\":\"0.642857143\",\"y\":\"17\"},\"🚩\")))]);\n}\n\nFlagStart.defaultProps = {\"width\":\"24px\",\"height\":\"20px\",\"viewBox\":\"0 0 24 20\",\"version\":\"1.1\"};\n\nmodule.exports = FlagStart;\n\nFlagStart.default = FlagStart;\n"],"names":["MapboxLanguage","options","Object","assign","this","Error","setLanguage","bind","_initialStyleUpdate","_defaultLanguage","defaultLanguage","_isLanguageField","languageField","_getLanguageField","getLanguageField","language","_languageSource","languageSource","_languageTransform","languageTransform","style","changedLayers","layers","map","layer","layout","spacing","noSpacing","test","id","standardSpacing","_excludedLayerIds","excludedLayerIds","supportedLanguages","adaptPropertyLanguage","isLangField","property","languageFieldName","isNameStringField","stops","filter","stop","length","isNameFunctionField","newStops","prototype","indexOf","streetsSource","keys","sources","sourceName","source","url","findStreetsSource","field","changeLayerTextProperty","languageStyle","_map","getStyle","navigator","languages","userLanguage","parts","split","languageCode","browserLanguage","off","setStyle","onAdd","on","_container","document","createElement","onRemove","undefined","module","exports","defineProperty","value","target","varArgs","TypeError","to","index","arguments","nextSource","nextKey","hasOwnProperty","call","writable","configurable","window","polyline","py2_round","Math","floor","abs","encode","current","previous","factor","coordinate","output","String","fromCharCode","flipped","coords","i","coord","slice","push","decode","str","precision","latitude_change","lat","lng","coordinates","shift","result","byte","pow","Number","isInteger","charCodeAt","a","b","fromGeoJSON","geojson","type","geometry","toGeoJSON","exportName","VENDOR_PREFIXES","TEST_ELEMENT","TYPE_FUNCTION","round","now","Date","setTimeoutContext","fn","timeout","context","setTimeout","bindFn","invokeArrayArg","arg","Array","isArray","each","obj","iterator","forEach","deprecate","method","name","message","deprecationMessage","e","stack","replace","log","console","warn","apply","extend","dest","src","merge","inherit","child","base","properties","childP","baseP","create","constructor","_super","boolOrFn","val","args","ifUndefined","val1","val2","addEventListeners","types","handler","splitStr","addEventListener","removeEventListeners","removeEventListener","hasParent","node","parent","parentNode","inStr","find","trim","inArray","findByKey","toArray","uniqueArray","key","sort","results","values","prefixed","prefix","prop","camelProp","toUpperCase","_uniqueId","getWindowForElement","element","doc","ownerDocument","defaultView","parentWindow","SUPPORT_TOUCH","SUPPORT_POINTER_EVENTS","SUPPORT_ONLY_TOUCH","userAgent","INPUT_TYPE_TOUCH","INPUT_TYPE_MOUSE","COMPUTE_INTERVAL","INPUT_START","INPUT_END","INPUT_CANCEL","DIRECTION_NONE","DIRECTION_LEFT","DIRECTION_RIGHT","DIRECTION_UP","DIRECTION_DOWN","DIRECTION_HORIZONTAL","DIRECTION_VERTICAL","DIRECTION_ALL","PROPS_XY","PROPS_CLIENT_XY","Input","manager","callback","self","inputTarget","domHandler","ev","enable","init","inputHandler","eventType","input","pointersLen","pointers","changedPointersLen","changedPointers","isFirst","isFinal","session","pointersLength","firstInput","simpleCloneInputData","firstMultiple","offsetCenter","center","getCenter","timeStamp","deltaTime","angle","getAngle","distance","getDistance","offset","offsetDelta","prevDelta","prevInput","x","deltaX","y","deltaY","computeDeltaXY","offsetDirection","getDirection","overallVelocity","getVelocity","overallVelocityX","overallVelocityY","scale","start","end","rotation","getRotation","maxPointers","velocity","velocityX","velocityY","direction","last","lastInterval","v","computeIntervalInputData","srcEvent","computeInputData","emit","recognize","clientX","clientY","p1","p2","props","sqrt","atan2","PI","evEl","evTarget","evWin","destroy","MOUSE_INPUT_MAP","mousedown","mousemove","mouseup","MOUSE_ELEMENT_EVENTS","MOUSE_WINDOW_EVENTS","MouseInput","pressed","button","which","pointerType","POINTER_INPUT_MAP","pointerdown","pointermove","pointerup","pointercancel","pointerout","IE10_POINTER_TYPE_ENUM","POINTER_ELEMENT_EVENTS","POINTER_WINDOW_EVENTS","PointerEventInput","store","pointerEvents","MSPointerEvent","PointerEvent","removePointer","eventTypeNormalized","toLowerCase","isTouch","storeIndex","pointerId","splice","SINGLE_TOUCH_INPUT_MAP","touchstart","touchmove","touchend","touchcancel","SingleTouchInput","started","normalizeSingleTouches","all","touches","changed","changedTouches","concat","TOUCH_INPUT_MAP","TOUCH_TARGET_EVENTS","TouchInput","targetIds","getTouches","allTouches","identifier","targetTouches","changedTargetTouches","touch","DEDUP_TIMEOUT","TouchMouseInput","mouse","primaryTouch","lastTouches","recordTouches","eventData","setLastTouch","lastTouch","lts","isSyntheticEvent","t","dx","dy","inputEvent","inputData","isMouse","sourceCapabilities","firesTouchEvents","PREFIXED_TOUCH_ACTION","NATIVE_TOUCH_ACTION","TOUCH_ACTION_COMPUTE","TOUCH_ACTION_AUTO","TOUCH_ACTION_MANIPULATION","TOUCH_ACTION_NONE","TOUCH_ACTION_PAN_X","TOUCH_ACTION_PAN_Y","TOUCH_ACTION_MAP","touchMap","cssSupports","CSS","supports","getTouchActionProps","TouchAction","set","compute","actions","update","touchAction","recognizers","recognizer","getTouchAction","hasPanX","hasPanY","cleanTouchActions","join","preventDefaults","prevented","preventDefault","hasNone","isTapPointer","isTapMovement","isTapTouchTime","preventSrc","STATE_POSSIBLE","STATE_FAILED","Recognizer","defaults","state","simultaneous","requireFail","stateStr","directionStr","getRecognizerByNameIfManager","otherRecognizer","get","AttrRecognizer","PanRecognizer","pX","pY","PinchRecognizer","PressRecognizer","_timer","_input","RotateRecognizer","SwipeRecognizer","TapRecognizer","pTime","pCenter","count","Hammer","preset","Manager","recognizeWith","dropRecognizeWith","requireFailure","dropRequireFailure","hasRequireFailures","canRecognizeWith","event","additionalEvent","tryEmit","canEmit","inputDataClone","reset","process","attrTest","optionPointers","isRecognized","isValid","threshold","directionTest","hasMoved","inOut","time","validPointers","validMovement","validTime","clearTimeout","taps","interval","posThreshold","validTouchTime","failTimeout","validInterval","validMultiTap","tapCount","VERSION","domEvents","inputClass","cssProps","userSelect","touchSelect","touchCallout","contentZooming","userDrag","tapHighlightColor","handlers","oldCssProps","toggleCssProps","item","add","force","stopped","curRecognizer","existing","remove","events","data","gestureEvent","createEvent","initEvent","gesture","dispatchEvent","triggerDomEvent","INPUT_MOVE","STATE_BEGAN","STATE_CHANGED","STATE_ENDED","STATE_RECOGNIZED","STATE_CANCELLED","Tap","Pan","Swipe","Pinch","Rotate","Press","extendStatics","d","setPrototypeOf","__proto__","p","__extends","__","__assign","s","n","__rest","getOwnPropertySymbols","propertyIsEnumerable","__decorate","decorators","desc","c","r","getOwnPropertyDescriptor","Reflect","decorate","__param","paramIndex","decorator","__esDecorate","ctor","descriptorIn","contextIn","initializers","extraInitializers","accept","f","_","kind","descriptor","done","access","addInitializer","unshift","__runInitializers","thisArg","useValue","__propKey","__setFunctionName","description","__metadata","metadataKey","metadataValue","metadata","__awaiter","_arguments","P","generator","Promise","resolve","reject","fulfilled","step","next","rejected","then","__generator","body","g","label","sent","trys","ops","verb","Symbol","op","pop","__createBinding","o","m","k","k2","__esModule","enumerable","__exportStar","__values","__read","ar","error","__spread","__spreadArrays","il","j","jl","__spreadArray","from","pack","l","__await","__asyncGenerator","asyncIterator","q","resume","fulfill","settle","__asyncDelegator","__asyncValues","__makeTemplateObject","cooked","raw","__setModuleDefault","__importStar","mod","__importDefault","default","__classPrivateFieldGet","receiver","has","__classPrivateFieldSet","__classPrivateFieldIn","__addDisposableResource","env","async","dispose","inner","asyncDispose","_SuppressedError","SuppressedError","suppressed","__disposeResources","fail","hasError","rec","_inheritsLoose","require","tslib_1","isEqual_1","merge_1","react_1","Valine","_react_1$default$Pure","_this","_containerRef","createRef","_proto","componentDidMount","_checkAvailability","_makeValine","componentDidUpdate","prevProps","render","ref","RealValine","localOptions","globalOptions","valineOptions","el","PureComponent","_extends","_typeof","toPropertyKey","toPrimitive","_defineProperty","u","unsupportedIterableToArray","_classCallCheck","_defineProperties","_createClass","EPSILON","ARRAY_TYPE","Float32Array","random","hypot","out","vec","transformVector","matrix","vector","z","w","divisor","modulus","a00","a01","a02","a03","a10","a11","a12","a13","a20","a21","a22","a23","a30","a31","a32","a33","b0","b1","b2","b3","translate","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","a14","a15","b4","b5","b6","b7","b8","b9","b10","b11","b12","b13","b14","b15","max","ax","ay","condition","PI_4","DEGREES_TO_RADIANS","RADIANS_TO_DEGREES","TILE_SIZE","EARTH_CIRCUMFERENCE","DEFAULT_ALTITUDE","zoomToScale","zoom","scaleToZoom","log2","lngLatToWorld","_ref","_ref2","isFinite","phi2","tan","worldToLngLat","_ref3","_ref4","lambda2","atan","exp","getDistanceScales","_ref6","latitude","longitude","_ref6$highPrecision","highPrecision","worldSize","latCosine","cos","unitsPerDegreeX","unitsPerDegreeY","altUnitsPerMeter","unitsPerMeter","metersPerUnit","unitsPerDegree","degreesPerUnit","latCosine2","unitsPerDegreeY2","altUnitsPerDegree2","altUnitsPerMeter2","unitsPerDegree2","unitsPerMeter2","getViewMatrix","_ref7","height","pitch","bearing","altitude","_ref7$center","vm","rad","sin","getProjectionMatrix","_ref9","width","_getProjectionParamet","_ref8","_ref8$altitude","_ref8$pitch","_ref8$nearZMultiplier","nearZMultiplier","_ref8$farZMultiplier","farZMultiplier","pitchRadians","halfFov","topHalfSurfaceDistance","min","fov","aspect","focalDistance","near","far","getProjectionParameters","projectionMatrix","fovy","nf","Infinity","pixelsToWorld","xyz","pixelUnprojectionMatrix","targetZ","_xyz3","coord0","coord1","z0","z1","bounds","_ref$minExtent","minExtent","_ref$maxZoom","maxZoom","_ref$padding","padding","_ref$offset","_bounds","_bounds$","west","south","_bounds$2","east","north","top","bottom","left","right","viewport","WebMercatorViewport","nw","project","se","size","targetSize","scaleX","scaleY","offsetX","offsetY","centerLngLat","unproject","unprojectOnFarPlane","distanceScales","_ref$latitude","_ref$longitude","_ref$zoom","_ref$pitch","_ref$bearing","_ref$altitude","_ref$position","position","_ref$nearZMultiplier","_ref$farZMultiplier","viewMatrix","meterOffset","_initMatrices","equals","projectPosition","unprojectPosition","freeze","vpm","viewProjectionMatrix","mInverse","b00","b01","b02","b03","b04","b05","b06","b07","b08","b09","det","pixelProjectionMatrix","_ref2$topLeft","topLeft","_xyz2","_xyz2$","worldToPixels","_coord","y2","_ref3$topLeft","_ref3$targetZ","_xyz","targetZWorld","_this$unprojectPositi2","X","Y","Z","_lngLatToWorld2","_worldToLngLat2","lngLat","xy","fromLocation","pos","_ref5","getMapCenterByLngLatPosition","_fitBounds2","corners","getBoundingRegion","topRight","unprojectOps","bottomLeft","bottomRight","getBounds","MAX_LATITUDE","MIN_LATITUDE","_createForOfIteratorHelper","allowArrayLike","it","minLen","_arrayLikeToArray","toString","_unsupportedIterableToArray","F","_e","err","normalCompletion","didErr","_e2","arr","len","arr2","VIEWPORT_TRANSITION_PROPS","DEFAULT_OPTS","curve","speed","getFlyToTransitionParams","startProps","endProps","opts","rho","startZoom","startCenter","startScale","endZoom","endCenter","startCenterXY","endCenterXY","uDelta","w0","w1","u1","_u1","rho2","r0","r1","S","MapShim","Map","getIndex","some","entry","class_1","__entries__","delete","entries","clear","ctx","_i","_a","isBrowser","global$1","Function","requestAnimationFrame$1","requestAnimationFrame","transitionKeys","mutationObserverSupported","MutationObserver","ResizeObserverController","connected_","mutationEventsAdded_","mutationsObserver_","observers_","onTransitionEnd_","refresh","delay","leadingCall","trailingCall","lastCallTime","resolvePending","proxy","timeoutCallback","throttle","addObserver","observer","connect_","removeObserver","observers","disconnect_","updateObservers_","activeObservers","gatherActive","hasActive","broadcastActive","observe","attributes","childList","characterData","subtree","disconnect","_b","propertyName","getInstance","instance_","defineConfigurable","getWindowOf","emptyRect","createRectInit","toFloat","parseFloat","getBordersSize","styles","positions","reduce","getHTMLElementContentRect","clientWidth","clientHeight","getComputedStyle","paddings","positions_1","getPaddings","horizPad","vertPad","boxSizing","documentElement","isDocumentElement","vertScrollbar","horizScrollbar","isSVGGraphicsElement","SVGGraphicsElement","SVGElement","getBBox","getContentRect","bbox","getSVGContentRect","ResizeObservation","broadcastWidth","broadcastHeight","contentRect_","isActive","rect","broadcastRect","ResizeObserverEntry","rectInit","Constr","contentRect","DOMRectReadOnly","ResizeObserverSPI","controller","callbackCtx","activeObservations_","observations_","callback_","controller_","callbackCtx_","Element","observations","unobserve","clearActive","observation","WeakMap","ResizeObserver","document_","ownKeys","object","enumerableOnly","symbols","sym","_objectSpread","getOwnPropertyDescriptors","defineProperties","refProps","normalizeStyle","toJS","_step","layerIndex","_iterator","layerRef","normalizedLayer","interactive","_step2","_iterator2","propName","propTypes","container","gl","mapboxApiAccessToken","mapboxApiUrl","attributionControl","preserveDrawingBuffer","reuseMaps","transformRequest","mapOptions","mapStyle","preventStyleDiffing","visible","asyncRender","onLoad","onError","viewState","defaultProps","accessToken","location","match","search","MapboxAccessToken","REACT_APP_MAPBOX_ACCESS_TOKEN","getAccessToken","checkPropTypes","component","debug","Mapbox","mapboxgl","initialized","_checkStyleSheet","version","_initialize","_destroy","_update","_frame","cancel","_render","savedMap","oldContainer","getContainer","newContainer","classList","childNodes","appendChild","diff","isStyleLoaded","_fireLoadEvent","once","_reuse","getContext","HTMLCanvasElement","trackResize","_this2","baseApiUrl","_create","canvas","getCanvas","outline","_updateMapViewport","_updateMapSize","oldProps","newProps","viewportChanged","sizeChanged","_updateMapStyle","redraw","resize","oldViewState","_getViewState","newViewState","jumpTo","_viewStateToMapboxProps","transform","mapboxVersion","testElement","className","display","link","setAttribute","head","ArrayBuffer","isView","clamp","ai","MAPBOX_LIMITS","minZoom","minPitch","maxPitch","DEFAULT_STATE","MapState","_ref$minZoom","_ref$maxPitch","_ref$minPitch","transitionDuration","transitionEasing","transitionInterpolator","transitionInterruption","startPanLngLat","startZoomLngLat","startRotatePos","startBearing","startPitch","_viewportProps","_applyConstraints","_state","_getUpdatedMapState","_unproject","startPos","_this$_calculateNewLn2","_calculateNewLngLat","newRotation","_ref5$deltaAngleX","deltaAngleX","_ref5$deltaAngleY","deltaAngleY","_this$_state","_calculateNewPitchAndBearing","_getRotationParams","_this$_state2","_calculateNewZoom","_zoomedViewport$getMa2","flatViewport","topY","bottomY","shiftY","normalizeViewportProps","_this$_viewportProps","_ref10","deltaScaleX","deltaScaleY","_this$_viewportProps2","centerY","startY","_this$_viewportProps3","MapContext","createContext","onViewportChange","onViewStateChange","eventManager","MapContextProvider","Provider","children","_useState2","useState","setMap","useContext","useLayoutEffect","useEffect","NO_TOKEN_WARNING","getViewport","CONTAINER_STYLE","overflow","disableTokenWarning","onResize","visibilityConstraints","NoTokenWarning","href","StaticMap","forwardRef","accessTokenValid","setTokenState","_useState4","setSize","mapboxRef","useRef","mapDivRef","containerRef","overlayRef","supported","mapbox","evt","status","getMap","resizeObserver","_entries$0$contentRec","_width","_height","finalize","setProps","useImperativeHandle","queryRenderedFeatures","getRefHandles","preventScroll","useCallback","scrollTo","overlays","onScroll","mapContainerStyle","constraints","constraintName","checkVisibilityConstraints","visibility","TransitionInterpolator","currentProps","nextProps","propNames","_assertThisInitialized","ReferenceError","_inherits","_possibleConstructorReturn","_getPrototypeOf","getPrototypeOf","WRAPPED_ANGULAR_PROPS","getEndValueByShortestPath","startValue","endValue","isWrappedAngularProp","_createSuper","Derived","hasNativeReflectConstruct","construct","sham","Proxy","_isNativeReflectConstruct","Super","NewTarget","REQUIRED_PROPS","LINEARLY_INTERPOLATED_PROPS","_TransitionInterpolat","ViewportFlyToInterpolator","startViewportProps","endViewportProps","_key","_startValue","_endValue","_step3","_getFlyToTransitionPa","cosh","tanh","sinh","newZoom","newCenterWorld","newCenter","flyToViewport","_iterator3","duration","_opts","screenSpeed","maxDuration","_getFlyToTransitionPa2","getFlyToDuration","LinearInterpolator","transitionProps","around","aroundLngLat","_WebMercatorViewport$2","TRANSITION_EVENTS","DEFAULT_PROPS","onTransitionStart","onTransitionInterrupt","onTransitionEnd","TransitionManager","_animationFrame","_onTransitionFrame","_updateViewport","onStateChange","getTime","propsInTransition","_shouldIgnoreViewportChange","_isTransitionEnabled","_isTransitionInProgress","interruption","currentTime","x0","startTime","easing","y0","cropEasingFunction","_triggerTransition","_endTransition","Boolean","interpolator","arePropsEqual","_isUpdateDueToCurrentTransition","cancelAnimationFrame","getDuration","initialProps","initializeProps","interactionState","inTransition","isZooming","isPanning","isRotating","animation","_this$state","shouldEnd","interpolateProps","mapState","getViewportProps","oldHandler","array","predict","RECOGNIZERS","RECOGNIZER_COMPATIBLE_MAP","tripan","rotate","pinch","pan","doubletap","anytap","RECOGNIZER_FALLBACK_MAP","BASIC_EVENT_ALIASES","INPUT_EVENT_TYPES","EVENT_RECOGNIZER_MAP","tap","press","pinchin","pinchout","pinchstart","pinchmove","pinchend","pinchcancel","rotatestart","rotatemove","rotateend","rotatecancel","tripanstart","tripanmove","tripanup","tripandown","tripanleft","tripanright","tripanend","tripancancel","panstart","panmove","panup","pandown","panleft","panright","panend","pancancel","swipe","swipeleft","swiperight","swipeup","swipedown","GESTURE_EVENT_ALIASES","click","anyclick","dblclick","mouseover","mouseout","mouseleave","passiveSupported","passive","firefox","WHEEL_EVENTS","EVENT_TYPE","WHEEL_DELTA_MAGIC_SCALER","WheelInput","handleEvent","enabled","WheelEvent","deltaMode","DOM_DELTA_PIXEL","devicePixelRatio","DOM_DELTA_LINE","wheelPosition","shiftKey","_onWheel","delta","MOUSE_EVENTS","MOVE_EVENT_TYPE","OVER_EVENT_TYPE","OUT_EVENT_TYPE","LEAVE_EVENT_TYPE","MoveInput","enableMoveEvent","enableLeaveEvent","enableOutEvent","enableOverEvent","handleOverEvent","handleOutEvent","handleLeaveEvent","handleMoveEvent","KEY_EVENTS","DOWN_EVENT_TYPE","UP_EVENT_TYPE","KeyInput","enableDownEvent","enableUpEvent","tabIndex","targetElement","srcElement","tagName","ContextmenuInput","DEFAULT_OPTIONS","priority","EventRegistrar","handlersByElement","_active","insertPosition","isEmpty","mjolnirEvent","_normalizeEvent","rootElement","_emit","handled","immediatePropagationStopped","stopPropagation","stopImmediatePropagation","entriesToRemove","_entries$i","_entriesToRemove$_i","_type","_handler","_event$srcEvent","buttons","leftButton","middleButton","rightButton","whichButtons","getBoundingClientRect","offsetWidth","offsetHeight","clientLeft","clientTop","getOffsetPosition","recognizerOptions","EventManager","_onBasicInput","_onOtherEvent","setElement","ManagerClass","recognizerName","otherName","recognizerOption","wheelInput","moveInput","keyInput","contextmenuInput","_step$value","eventAlias","eventRegistrar","_toggleRecognizer","_addEventHandler","_removeEventHandler","fallbackRecognizers","enableEventType","eventName","isRecognizerUsed","eh","alias","NO_TRANSITION_PROPS","LINEAR_TRANSITION_PROPS","DEFAULT_INERTIA","INERTIA_EASING","EVENT_TYPES","MapController","isDragging","newState","_interactionState","newViewport","oldViewport","_transitionManager","_onTransition","_setInteractionState","getMapState","eventStartBlocked","_eventStartBlocked","_onPanStart","_onPan","_onPanEnd","_onPinchStart","_onPinch","_onPinchEnd","_onTriplePanStart","_onTriplePan","_onTriplePanEnd","_onDoubleTap","_onKeyDown","_event$offsetCenter","metaKey","altKey","ctrlKey","timer","newMapState","extraProps","viewStateChanged","getState","overrides","mapStateProps","_options$eventManager","_options$isInteractiv","isInteractive","_options$scrollZoom","scrollZoom","_options$dragPan","dragPan","_options$dragRotate","dragRotate","_options$doubleClickZ","doubleClickZoom","_options$touchZoom","touchZoom","_options$touchRotate","touchRotate","_options$keyboard","keyboard","prevOptions","dimensionChanged","updateViewport","processViewportChange","_events","toggleEvents","eventNames","_this3","_panRotate","isFunctionKeyPressed","rotateStart","panStart","_onPanRotate","_onPanMove","_onPanRotateEnd","_onPanMoveEnd","_this$dragPan$inertia","inertia","endPos","newControllerState","panEnd","_this$dragRotate$iner","rotateEnd","_this$scrollZoom","_this$scrollZoom$spee","_this$scrollZoom$smoo","smooth","zoomStart","_startPinchRotation","_lastPinchEvent","_this$touchZoom$inert","_newMapState","velocityZ","endScale","zoomEnd","blockEvents","startPinchRotation","_this$touchRotate$ine","_newMapState2","isZoomOut","funcKey","_this$keyboard","_this$keyboard$zoomSp","zoomSpeed","_this$keyboard$moveSp","moveSpeed","_this$keyboard$rotate","rotateSpeedX","_this$keyboard$rotate2","rotateSpeedY","keyCode","onInteractionStateChange","onHover","onClick","onDblClick","onContextMenu","onMouseDown","onMouseMove","onMouseUp","onTouchStart","onTouchMove","onTouchEnd","onMouseEnter","onMouseLeave","onMouseOut","onWheel","eventRecognizerOptions","clickRadius","interactiveLayerIds","getCursor","onNativeClick","isHovering","normalizeEvent","point","getFeatures","queryParams","_unused","onEvent","callbackName","func","onPointerDown","onPointerUp","onPointerMove","features","_this$props","isEntering","isExiting","setState","onPointerClick","_this$props2","callbacks","isDoubleClickEnabled","cb","InteractiveMap","parentContext","useMemo","eventCanvasRef","staticMapRef","thisRef","cursor","viewportUpdateRequested","stateUpdateRequested","inRender","handleViewportChange","_thisRef$props","handleInteractionStateChange","_interactionState$isD","updateControllerOpts","setOptions","pointerleave","wheel","contextmenu","eventCanvasStyle","_child","deepEqual","aKeys","bKeys","_aKeys","sourceCounter","createSource","_loaded","addSource","getSource","propsRef","setStyleLoaded","forceUpdate","removeSource","changedKey","changedKeyCount","setData","updateImage","setUrl","setTiles","tiles","setCoordinates","updateSource","cloneElement","isRequired","beforeId","diffLayerStyles","_props$layout","_props$paint","paint","minzoom","maxzoom","otherProps","includes","_objectWithoutProperties","moveLayer","prevLayout","setLayoutProperty","prevPaint","_key2","setPaintProperty","_key3","_key4","setFilter","setLayerZoomRange","setLayerProperty","layerCounter","Layer","removeLayer","getLayer","updateLayer","addLayer","createLayer","mapControlDefaultProps","captureScroll","captureDrag","captureClick","captureDoubleClick","capturePointerMove","mapControlPropTypes","useMapControl","onDragStart","onDoubleClick","watch","onMount","Control","instance","_useMapControl","_context","BaseControl","_PureComponent","_len","_onScroll","_onDragStart","_onDblClick","_onClick","_onPointerMove","draggable","onDrag","onDragEnd","offsetLeft","offsetTop","draggableControlDefaultProps","getDragEventPosition","getDragLngLat","dragPos","dragOffset","_event$center","getDragEventOffset","setDragPos","setDragOffset","callbackEvent","registerEvents","pixelRatio","crispPixel","crispPercentage","percentage","origSize","Marker","useDraggableControl","_getPosition","_context$viewport$pro2","getPosition","_getPosition2","control","containerStyle","ANCHOR_POSITION","ANCHOR_TYPES","tipSize","anchor","dynamicPosition","sortByDepth","closeButton","closeOnClick","onClose","selfWidth","selfHeight","_ANCHOR_POSITION$anch","anchorX","anchorY","cutoffY","bestAnchorY","minCutoff","xStep","cutoffX","bestAnchorX","_minCutoff","positionType","anchorPosition","getDynamicPosition","Popup","contentRef","setLoaded","xPercentage","yPercentage","zIndex","getContainerStyle","onReactClick","borderWidth","toggleLabel","AttributionControl","innerContainerRef","showCompact","setShowCompact","attributionContainer","_innerContainer","_updateAttributions","_updateEditLink","_updateData","setupAttributioncontrol","customAttribution","removeAttributionControl","compact","toggleAttribution","title","role","FullscreenControl","isFullscreen","setIsFullscreen","showButton","setShowButton","_useState6","mapboxFullscreenControl","createMapboxFullscreenControl","_checkFullscreenSupport","onFullscreenChange","nextState","_fullscreen","_fullscreenchange","_onClickFullscreen","disabledLabel","auto","positionOptions","enableHighAccuracy","fitBoundsOptions","trackUserLocation","showUserLocation","showAccuracyCircle","onGeolocate","updateCamera","LngLat","radius","accuracy","toBounds","_ne","_sw","_context$viewport$fit","fitBounds","GeolocateControl","geolocateButtonRef","mapboxGeolocateControl","createMapboxGeolocateControl","supportsGeolocation","setSupportsGeolocation","permissions","query","geolocation","geolocateButton","_getUIString","_setupUI","_geolocateButton","_watchState","setupMapboxGeolocateControl","_updateCamera","_clearWatch","triggerGeolocate","trigger","_onZoom","disabled","showCompass","showZoom","zoomInLabel","zoomOutLabel","compassLabel","VERSION_LEGACY","VERSION_1_6","getUIVersion","version1","version2","v1","v2","part1","part2","compareVersions","renderButton","NavigationControl","uiVersion","renderCompass","maxWidth","unit","ScaleControl","mapboxScaleControl","createMapboxScaleControl","_onMove","CanvasOverlay","setDrawingContext","save","restore","HTMLOverlay","SVGOverlay","setRTLTextPlugin","usePositions","allPositionJson","useStaticQuery","nodes","useActivities","allActivitiesJson","activities","pathForRide","ride","mapboxPolyline","summary_polyline","RoadMap","geoData","points","currentPostion","setViewport","React","ReactMapGL","addControl","MAPBOX_TOKEN","nextViewport","Source","MAIN_COLOR","CITIES","StartIcon","CurrentIcon","EndIcon","CurrentPosition","address","RoutePlan","RoutePlans","plan","destinationLink","destination","IndexPage","Layout","Seo","appId","appKey","DataView","getNative","hashClear","hashDelete","hashGet","hashHas","hashSet","Hash","listCacheClear","listCacheDelete","listCacheGet","listCacheHas","listCacheSet","ListCache","mapCacheClear","mapCacheDelete","mapCacheGet","mapCacheHas","mapCacheSet","MapCache","Set","setCacheAdd","setCacheHas","SetCache","__data__","stackClear","stackDelete","stackGet","stackHas","stackSet","Stack","Uint8Array","predicate","resIndex","baseTimes","isArguments","isBuffer","isIndex","isTypedArray","inherited","isArr","isArg","isBuff","isType","skipIndexes","baseAssignValue","eq","objValue","isObject","objectCreate","baseCreate","proto","baseFor","createBaseFor","arrayPush","keysFunc","symbolsFunc","getRawTag","objectToString","symToStringTag","toStringTag","baseGetTag","isObjectLike","baseIsEqualDeep","baseIsEqual","other","bitmask","customizer","equalArrays","equalByTag","equalObjects","getTag","argsTag","arrayTag","objectTag","equalFunc","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","isFunction","isMasked","toSource","reIsHostCtor","funcProto","objectProto","funcToString","reIsNative","RegExp","isLength","typedArrayTags","isPrototype","nativeKeys","nativeKeysIn","isProto","assignMergeValue","baseMergeDeep","keysIn","safeGet","baseMerge","srcIndex","srcValue","newValue","cloneBuffer","cloneTypedArray","copyArray","initCloneObject","isArrayLikeObject","isPlainObject","toPlainObject","mergeFunc","stacked","isCommon","isTyped","identity","overRest","setToString","constant","baseSetToString","string","iteratee","cache","arrayBuffer","byteLength","root","freeExports","nodeType","freeModule","Buffer","allocUnsafe","buffer","isDeep","copy","cloneArrayBuffer","typedArray","byteOffset","assignValue","isNew","coreJsData","baseRest","isIterateeCall","assigner","guard","fromRight","iterable","arraySome","cacheHas","isPartial","arrLength","othLength","arrStacked","othStacked","seen","arrValue","othValue","compared","othIndex","mapToArray","setToArray","symbolProto","symbolValueOf","valueOf","tag","convert","getAllKeys","objProps","objLength","objStacked","skipCtor","objCtor","othCtor","freeGlobal","baseGetAllKeys","getSymbols","isKeyable","baseIsNative","getValue","getPrototype","overArg","nativeObjectToString","isOwn","unmasked","arrayFilter","stubArray","nativeGetSymbols","symbol","mapTag","promiseTag","setTag","weakMapTag","dataViewTag","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","Ctor","ctorString","nativeCreate","reIsUint","isArrayLike","uid","maskSrcKey","exec","IE_PROTO","assocIndexOf","getMapData","freeProcess","nodeUtil","binding","nativeMax","otherArgs","freeSelf","shortOut","nativeNow","lastCalled","stamp","remaining","pairs","LARGE_ARRAY_SIZE","baseIsArguments","stubFalse","objectCtorString","baseIsTypedArray","baseUnary","nodeIsTypedArray","arrayLikeKeys","baseKeys","baseKeysIn","createAssigner","copyObject","CurrentLocation","FlagEnd","FlagStart"],"sourceRoot":""}